(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function iE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rE={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=Symbol.for("react.transitional.element"),ww=Symbol.for("react.fragment");function sE(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:Aw,type:t,key:i,ref:e!==void 0?e:null,props:n}}bc.Fragment=ww;bc.jsx=sE;bc.jsxs=sE;rE.exports=bc;var m=rE.exports,aE={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=Symbol.for("react.transitional.element"),Rw=Symbol.for("react.portal"),Cw=Symbol.for("react.fragment"),Iw=Symbol.for("react.strict_mode"),Nw=Symbol.for("react.profiler"),xw=Symbol.for("react.consumer"),Dw=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),Mw=Symbol.for("react.suspense"),Vw=Symbol.for("react.memo"),oE=Symbol.for("react.lazy"),kw=Symbol.for("react.activity"),$g=Symbol.iterator;function Pw(t){return t===null||typeof t!="object"?null:(t=$g&&t[$g]||t["@@iterator"],typeof t=="function"?t:null)}var lE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uE=Object.assign,cE={};function Js(t,e,n){this.props=t,this.context=e,this.refs=cE,this.updater=n||lE}Js.prototype.isReactComponent={};Js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hE(){}hE.prototype=Js.prototype;function tm(t,e,n){this.props=t,this.context=e,this.refs=cE,this.updater=n||lE}var nm=tm.prototype=new hE;nm.constructor=tm;uE(nm,Js.prototype);nm.isPureReactComponent=!0;var Xg=Array.isArray;function Df(){}var Ce={H:null,A:null,T:null,S:null},fE=Object.prototype.hasOwnProperty;function im(t,e,n){var i=n.ref;return{$$typeof:em,type:t,key:e,ref:i!==void 0?i:null,props:n}}function Lw(t,e){return im(t.type,e,t.props)}function rm(t){return typeof t=="object"&&t!==null&&t.$$typeof===em}function jw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jg=/\/+/g;function Nh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jw(""+t.key):e.toString(36)}function Uw(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Df,Df):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ns(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case em:case Rw:a=!0;break;case oE:return a=t._init,ns(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+Nh(t,0):i,Xg(r)?(n="",a!=null&&(n=a.replace(Jg,"$&/")+"/"),ns(r,e,n,"",function(c){return c})):r!=null&&(rm(r)&&(r=Lw(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Jg,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(Xg(t))for(var u=0;u<t.length;u++)i=t[u],s=l+Nh(i,u),a+=ns(i,e,n,s,r);else if(u=Pw(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+Nh(i,u++),a+=ns(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return ns(Uw(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function xl(t,e,n){if(t==null)return t;var i=[],r=0;return ns(t,i,"","",function(s){return e.call(n,s,r++)}),i}function zw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bw={map:xl,forEach:function(t,e,n){xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xl(t,function(){e++}),e},toArray:function(t){return xl(t,function(e){return e})||[]},only:function(t){if(!rm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Activity=kw;te.Children=Bw;te.Component=Js;te.Fragment=Cw;te.Profiler=Nw;te.PureComponent=tm;te.StrictMode=Iw;te.Suspense=Mw;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ce;te.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ce.H.useMemoCache(t)}};te.cache=function(t){return function(){return t.apply(null,arguments)}};te.cacheSignal=function(){return null};te.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=uE({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!fE.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return im(t.type,r,i)};te.createContext=function(t){return t={$$typeof:Dw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:xw,_context:t},t};te.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)fE.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return im(t,s,r)};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:Ow,render:t}};te.isValidElement=rm;te.lazy=function(t){return{$$typeof:oE,_payload:{_status:-1,_result:t},_init:zw}};te.memo=function(t,e){return{$$typeof:Vw,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Ce.T,n={};Ce.T=n;try{var i=t(),r=Ce.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Df,Wg)}catch(s){Wg(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ce.T=e}};te.unstable_useCacheRefresh=function(){return Ce.H.useCacheRefresh()};te.use=function(t){return Ce.H.use(t)};te.useActionState=function(t,e,n){return Ce.H.useActionState(t,e,n)};te.useCallback=function(t,e){return Ce.H.useCallback(t,e)};te.useContext=function(t){return Ce.H.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t,e){return Ce.H.useDeferredValue(t,e)};te.useEffect=function(t,e){return Ce.H.useEffect(t,e)};te.useEffectEvent=function(t){return Ce.H.useEffectEvent(t)};te.useId=function(){return Ce.H.useId()};te.useImperativeHandle=function(t,e,n){return Ce.H.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Ce.H.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Ce.H.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Ce.H.useMemo(t,e)};te.useOptimistic=function(t,e){return Ce.H.useOptimistic(t,e)};te.useReducer=function(t,e,n){return Ce.H.useReducer(t,e,n)};te.useRef=function(t){return Ce.H.useRef(t)};te.useState=function(t){return Ce.H.useState(t)};te.useSyncExternalStore=function(t,e,n){return Ce.H.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Ce.H.useTransition()};te.version="19.2.4";aE.exports=te;var O=aE.exports;const za=iE(O);var dE={exports:{}},Ac={},mE={exports:{}},pE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,ee){var J=B.length;B.push(ee);e:for(;0<J;){var me=J-1>>>1,Ue=B[me];if(0<r(Ue,ee))B[me]=ee,B[J]=Ue,J=me;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var ee=B[0],J=B.pop();if(J!==ee){B[0]=J;e:for(var me=0,Ue=B.length,cr=Ue>>>1;me<cr;){var hr=2*(me+1)-1,Xr=B[hr],Ht=hr+1,li=B[Ht];if(0>r(Xr,J))Ht<Ue&&0>r(li,Xr)?(B[me]=li,B[Ht]=J,me=Ht):(B[me]=Xr,B[hr]=J,me=hr);else if(Ht<Ue&&0>r(li,J))B[me]=li,B[Ht]=J,me=Ht;else break e}}return ee}function r(B,ee){var J=B.sortIndex-ee.sortIndex;return J!==0?J:B.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,p=null,g=3,y=!1,I=!1,x=!1,M=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var ee=n(c);ee!==null;){if(ee.callback===null)i(c);else if(ee.startTime<=B)i(c),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(c)}}function U(B){if(x=!1,D(B),!I)if(n(u)!==null)I=!0,H||(H=!0,N());else{var ee=n(c);ee!==null&&X(U,ee.startTime-B)}}var H=!1,w=-1,E=5,A=-1;function R(){return M?!0:!(t.unstable_now()-A<E)}function C(){if(M=!1,H){var B=t.unstable_now();A=B;var ee=!0;try{e:{I=!1,x&&(x=!1,v(w),w=-1),y=!0;var J=g;try{t:{for(D(B),p=n(u);p!==null&&!(p.expirationTime>B&&R());){var me=p.callback;if(typeof me=="function"){p.callback=null,g=p.priorityLevel;var Ue=me(p.expirationTime<=B);if(B=t.unstable_now(),typeof Ue=="function"){p.callback=Ue,D(B),ee=!0;break t}p===n(u)&&i(u),D(B)}else i(u);p=n(u)}if(p!==null)ee=!0;else{var cr=n(c);cr!==null&&X(U,cr.startTime-B),ee=!1}}break e}finally{p=null,g=J,y=!1}ee=void 0}}finally{ee?N():H=!1}}}var N;if(typeof b=="function")N=function(){b(C)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,G=S.port2;S.port1.onmessage=C,N=function(){G.postMessage(null)}}else N=function(){T(C,0)};function X(B,ee){w=T(function(){B(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var J=g;g=ee;try{return B()}finally{g=J}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=g;g=B;try{return ee()}finally{g=J}},t.unstable_scheduleCallback=function(B,ee,J){var me=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?me+J:me):J=me,B){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=J+Ue,B={id:f++,callback:ee,priorityLevel:B,startTime:J,expirationTime:Ue,sortIndex:-1},J>me?(B.sortIndex=J,e(c,B),n(u)===null&&B===n(c)&&(x?(v(w),w=-1):x=!0,X(U,J-me))):(B.sortIndex=Ue,e(u,B),I||y||(I=!0,H||(H=!0,N()))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var ee=g;return function(){var J=g;g=ee;try{return B.apply(this,arguments)}finally{g=J}}}})(pE);mE.exports=pE;var Hw=mE.exports,gE={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=O;function yE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pi(){}var vt={d:{f:pi,r:function(){throw Error(yE(522))},D:pi,C:pi,L:pi,m:pi,X:pi,S:pi,M:pi},p:0,findDOMNode:null},Fw=Symbol.for("react.portal");function Gw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fw,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Wa=qw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function wc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(yE(299));return Gw(t,e,null,n)};Et.flushSync=function(t){var e=Wa.T,n=vt.p;try{if(Wa.T=null,vt.p=2,t)return t()}finally{Wa.T=e,vt.p=n,vt.d.f()}};Et.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,vt.d.C(t,e))};Et.prefetchDNS=function(t){typeof t=="string"&&vt.d.D(t)};Et.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=wc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?vt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&vt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Et.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=wc(e.as,e.crossOrigin);vt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&vt.d.M(t)};Et.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=wc(n,e.crossOrigin);vt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Et.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=wc(e.as,e.crossOrigin);vt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else vt.d.m(t)};Et.requestFormReset=function(t){vt.d.r(t)};Et.unstable_batchedUpdates=function(t,e){return t(e)};Et.useFormState=function(t,e,n){return Wa.H.useFormState(t,e,n)};Et.useFormStatus=function(){return Wa.H.useHostTransitionStatus()};Et.version="19.2.4";function _E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_E)}catch(t){console.error(t)}}_E(),gE.exports=Et;var Kw=gE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe=Hw,vE=O,Yw=Kw;function P(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function EE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SE(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zg(t){if(Ko(t)!==t)throw Error(P(188))}function Qw(t){var e=t.alternate;if(!e){if(e=Ko(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Zg(r),t;if(s===i)return Zg(r),e;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function bE(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=bE(t),e!==null)return e;t=t.sibling}return null}var Ie=Object.assign,$w=Symbol.for("react.element"),Dl=Symbol.for("react.transitional.element"),Ba=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),AE=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),wE=Symbol.for("react.consumer"),Pn=Symbol.for("react.context"),sm=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),Vf=Symbol.for("react.suspense_list"),am=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),kf=Symbol.for("react.activity"),Xw=Symbol.for("react.memo_cache_sentinel"),ey=Symbol.iterator;function Da(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var Jw=Symbol.for("react.client.reference");function Pf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Jw?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case us:return"Fragment";case Of:return"Profiler";case AE:return"StrictMode";case Mf:return"Suspense";case Vf:return"SuspenseList";case kf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ba:return"Portal";case Pn:return t.displayName||"Context";case wE:return(t._context.displayName||"Context")+".Consumer";case sm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case am:return e=t.displayName||null,e!==null?e:Pf(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return Pf(t(e))}catch{}}return null}var Ha=Array.isArray,$=vE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=Yw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wr={pending:!1,data:null,method:null,action:null},Lf=[],cs=-1;function Rn(t){return{current:t}}function nt(t){0>cs||(t.current=Lf[cs],Lf[cs]=null,cs--)}function Se(t,e){cs++,Lf[cs]=t.current,t.current=e}var yn=Rn(null),Eo=Rn(null),ki=Rn(null),Cu=Rn(null);function Iu(t,e){switch(Se(ki,e),Se(Eo,t),Se(yn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=a_(e),t=G0(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(yn),Se(yn,t)}function Ms(){nt(yn),nt(Eo),nt(ki)}function jf(t){t.memoizedState!==null&&Se(Cu,t);var e=yn.current,n=G0(e,t.type);e!==n&&(Se(Eo,t),Se(yn,n))}function Nu(t){Eo.current===t&&(nt(yn),nt(Eo)),Cu.current===t&&(nt(Cu),Do._currentValue=wr)}var xh,ty;function _r(t){if(xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xh=e&&e[1]||"",ty=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xh+t+ty}var Dh=!1;function Oh(t,e){if(!t||Dh)return"";Dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(y){var g=y}Reflect.construct(t,[],p)}else{try{p.call()}catch(y){g=y}t.call(p.prototype)}}else{try{throw Error()}catch(y){g=y}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{Dh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?_r(n):""}function Ww(t,e){switch(t.tag){case 26:case 27:case 5:return _r(t.type);case 16:return _r("Lazy");case 13:return t.child!==e&&e!==null?_r("Suspense Fallback"):_r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return Oh(t.type,!1);case 11:return Oh(t.type.render,!1);case 1:return Oh(t.type,!0);case 31:return _r("Activity");default:return""}}function ny(t){try{var e="",n=null;do e+=Ww(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Uf=Object.prototype.hasOwnProperty,om=Xe.unstable_scheduleCallback,Mh=Xe.unstable_cancelCallback,Zw=Xe.unstable_shouldYield,e1=Xe.unstable_requestPaint,kt=Xe.unstable_now,t1=Xe.unstable_getCurrentPriorityLevel,RE=Xe.unstable_ImmediatePriority,CE=Xe.unstable_UserBlockingPriority,xu=Xe.unstable_NormalPriority,n1=Xe.unstable_LowPriority,IE=Xe.unstable_IdlePriority,i1=Xe.log,r1=Xe.unstable_setDisableYieldValue,Yo=null,Pt=null;function Ii(t){if(typeof i1=="function"&&r1(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Yo,t)}catch{}}var Lt=Math.clz32?Math.clz32:o1,s1=Math.log,a1=Math.LN2;function o1(t){return t>>>=0,t===0?32:31-(s1(t)/a1|0)|0}var Ol=256,Ml=262144,Vl=4194304;function vr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=vr(i):(a&=l,a!==0?r=vr(a):n||(n=l&~t,n!==0&&(r=vr(n))))):(l=i&~s,l!==0?r=vr(l):a!==0?r=vr(a):n||(n=i&~t,n!==0&&(r=vr(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function Qo(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function l1(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NE(){var t=Vl;return Vl<<=1,!(Vl&62914560)&&(Vl=4194304),t}function Vh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $o(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function u1(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Lt(n),p=1<<f;l[f]=0,u[f]=-1;var g=c[f];if(g!==null)for(c[f]=null,f=0;f<g.length;f++){var y=g[f];y!==null&&(y.lane&=-536870913)}n&=~p}i!==0&&xE(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function xE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Lt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function DE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Lt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function OE(t,e){var n=e&-e;return n=n&42?1:lm(n),n&(t.suspendedLanes|e)?0:n}function lm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function um(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ME(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:nS(t.type))}function iy(t,e){var n=de.p;try{return de.p=t,e()}finally{de.p=n}}var sr=Math.random().toString(36).slice(2),st="__reactFiber$"+sr,It="__reactProps$"+sr,Ws="__reactContainer$"+sr,zf="__reactEvents$"+sr,c1="__reactListeners$"+sr,h1="__reactHandles$"+sr,ry="__reactResources$"+sr,Xo="__reactMarker$"+sr;function cm(t){delete t[st],delete t[It],delete t[zf],delete t[c1],delete t[h1]}function hs(t){var e=t[st];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ws]||n[st]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h_(t);t!==null;){if(n=t[st])return n;t=h_(t)}return e}t=n,n=t.parentNode}return null}function Zs(t){if(t=t[st]||t[Ws]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function qa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(P(33))}function Ts(t){var e=t[ry];return e||(e=t[ry]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function et(t){t[Xo]=!0}var VE=new Set,kE={};function Br(t,e){Vs(t,e),Vs(t+"Capture",e)}function Vs(t,e){for(kE[t]=e,t=0;t<e.length;t++)VE.add(e[t])}var f1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sy={},ay={};function d1(t){return Uf.call(ay,t)?!0:Uf.call(sy,t)?!1:f1.test(t)?ay[t]=!0:(sy[t]=!0,!1)}function eu(t,e,n){if(d1(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function kl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function In(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m1(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bf(t){if(!t._valueTracker){var e=PE(t)?"checked":"value";t._valueTracker=m1(t,e,""+t[e])}}function LE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=PE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Du(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var p1=/[\n"\\]/g;function Yt(t){return t.replace(p1,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Hf(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ft(e)):t.value!==""+Ft(e)&&(t.value=""+Ft(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?qf(t,a,Ft(e)):n!=null?qf(t,a,Ft(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Ft(l):t.removeAttribute("name")}function jE(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Bf(t);return}n=n!=null?""+Ft(n):"",e=e!=null?""+Ft(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Bf(t)}function qf(t,e,n){e==="number"&&Du(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ss(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ft(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function UE(t,e,n){if(e!=null&&(e=""+Ft(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ft(n):""}function zE(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(P(92));if(Ha(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Ft(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Bf(t)}function ks(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var g1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oy(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||g1.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function BE(t,e,n){if(e!=null&&typeof e!="object")throw Error(P(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&oy(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&oy(t,s,e[s])}function hm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tu(t){return _1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Ff=null;function fm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,bs=null;function ly(t){var e=Zs(t);if(e&&(t=e.stateNode)){var n=t[It]||null;e:switch(t=e.stateNode,e.type){case"input":if(Hf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[It]||null;if(!r)throw Error(P(90));Hf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&LE(i)}break e;case"textarea":UE(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ss(t,!!n.multiple,e,!1)}}}var kh=!1;function HE(t,e,n){if(kh)return t(e,n);kh=!0;try{var i=t(e);return i}finally{if(kh=!1,(fs!==null||bs!==null)&&(jc(),fs&&(e=fs,t=bs,bs=fs=null,ly(e),t)))for(e=0;e<t.length;e++)ly(t[e])}}function To(t,e){var n=t.stateNode;if(n===null)return null;var i=n[It]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=!1;if(Yn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Gf=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Gf=!1}var Ni=null,dm=null,nu=null;function qE(){if(nu)return nu;var t,e=dm,n=e.length,i,r="value"in Ni?Ni.value:Ni.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return nu=r.slice(t,1<i?1-i:void 0)}function iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pl(){return!0}function uy(){return!1}function Nt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pl:uy,this.isPropagationStopped=uy,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),e}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=Nt(Hr),Jo=Ie({},Hr,{view:0,detail:0}),v1=Nt(Jo),Ph,Lh,Ma,Ic=Ie({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(Ph=t.screenX-Ma.screenX,Lh=t.screenY-Ma.screenY):Lh=Ph=0,Ma=t),Ph)},movementY:function(t){return"movementY"in t?t.movementY:Lh}}),cy=Nt(Ic),E1=Ie({},Ic,{dataTransfer:0}),T1=Nt(E1),S1=Ie({},Jo,{relatedTarget:0}),jh=Nt(S1),b1=Ie({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),A1=Nt(b1),w1=Ie({},Hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),R1=Nt(w1),C1=Ie({},Hr,{data:0}),hy=Nt(C1),I1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=x1[t])?!!e[t]:!1}function mm(){return D1}var O1=Ie({},Jo,{key:function(t){if(t.key){var e=I1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mm,charCode:function(t){return t.type==="keypress"?iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M1=Nt(O1),V1=Ie({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=Nt(V1),k1=Ie({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mm}),P1=Nt(k1),L1=Ie({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),j1=Nt(L1),U1=Ie({},Ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z1=Nt(U1),B1=Ie({},Hr,{newState:0,oldState:0}),H1=Nt(B1),q1=[9,13,27,32],pm=Yn&&"CompositionEvent"in window,Za=null;Yn&&"documentMode"in document&&(Za=document.documentMode);var F1=Yn&&"TextEvent"in window&&!Za,FE=Yn&&(!pm||Za&&8<Za&&11>=Za),dy=" ",my=!1;function GE(t,e){switch(t){case"keyup":return q1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ds=!1;function G1(t,e){switch(t){case"compositionend":return KE(e);case"keypress":return e.which!==32?null:(my=!0,dy);case"textInput":return t=e.data,t===dy&&my?null:t;default:return null}}function K1(t,e){if(ds)return t==="compositionend"||!pm&&GE(t,e)?(t=qE(),nu=dm=Ni=null,ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FE&&e.locale!=="ko"?null:e.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y1[t.type]:e==="textarea"}function YE(t,e,n,i){fs?bs?bs.push(i):bs=[i]:fs=i,e=$u(e,"onChange"),0<e.length&&(n=new Cc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var eo=null,So=null;function Q1(t){H0(t,0)}function Nc(t){var e=qa(t);if(LE(e))return t}function gy(t,e){if(t==="change")return e}var QE=!1;if(Yn){var Uh;if(Yn){var zh="oninput"in document;if(!zh){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),zh=typeof yy.oninput=="function"}Uh=zh}else Uh=!1;QE=Uh&&(!document.documentMode||9<document.documentMode)}function _y(){eo&&(eo.detachEvent("onpropertychange",$E),So=eo=null)}function $E(t){if(t.propertyName==="value"&&Nc(So)){var e=[];YE(e,So,t,fm(t)),HE(Q1,e)}}function $1(t,e,n){t==="focusin"?(_y(),eo=e,So=n,eo.attachEvent("onpropertychange",$E)):t==="focusout"&&_y()}function X1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nc(So)}function J1(t,e){if(t==="click")return Nc(e)}function W1(t,e){if(t==="input"||t==="change")return Nc(e)}function Z1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:Z1;function bo(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Uf.call(e,r)||!Ut(t[r],e[r]))return!1}return!0}function vy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ey(t,e){var n=vy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vy(n)}}function XE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Du(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Du(t.document)}return e}function gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var eR=Yn&&"documentMode"in document&&11>=document.documentMode,ms=null,Kf=null,to=null,Yf=!1;function Ty(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yf||ms==null||ms!==Du(i)||(i=ms,"selectionStart"in i&&gm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),to&&bo(to,i)||(to=i,i=$u(Kf,"onSelect"),0<i.length&&(e=new Cc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ms)))}function yr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ps={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Bh={},WE={};Yn&&(WE=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function qr(t){if(Bh[t])return Bh[t];if(!ps[t])return t;var e=ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WE)return Bh[t]=e[n];return t}var ZE=qr("animationend"),eT=qr("animationiteration"),tT=qr("animationstart"),tR=qr("transitionrun"),nR=qr("transitionstart"),iR=qr("transitioncancel"),nT=qr("transitionend"),iT=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function cn(t,e){iT.set(t,e),Br(e,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qt=[],gs=0,ym=0;function xc(){for(var t=gs,e=ym=gs=0;e<t;){var n=qt[e];qt[e++]=null;var i=qt[e];qt[e++]=null;var r=qt[e];qt[e++]=null;var s=qt[e];if(qt[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&rT(n,r,s)}}function Dc(t,e,n,i){qt[gs++]=t,qt[gs++]=e,qt[gs++]=n,qt[gs++]=i,ym|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function _m(t,e,n,i){return Dc(t,e,n,i),Mu(t)}function Fr(t,e){return Dc(t,null,null,e),Mu(t)}function rT(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-Lt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function Mu(t){if(50<co)throw co=0,pd=null,Error(P(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ys={};function rR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,i){return new rR(t,e,n,i)}function vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bn(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function sT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ru(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")vm(t)&&(a=1);else if(typeof t=="string")a=uC(t,n,yn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case kf:return t=Mt(31,n,e,r),t.elementType=kf,t.lanes=s,t;case us:return Rr(n.children,r,s,e);case AE:a=8,r|=24;break;case Of:return t=Mt(12,n,e,r|2),t.elementType=Of,t.lanes=s,t;case Mf:return t=Mt(13,n,e,r),t.elementType=Mf,t.lanes=s,t;case Vf:return t=Mt(19,n,e,r),t.elementType=Vf,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pn:a=10;break e;case wE:a=9;break e;case sm:a=11;break e;case am:a=14;break e;case vi:a=16,i=null;break e}a=29,n=Error(P(130,t===null?"null":typeof t,"")),i=null}return e=Mt(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Rr(t,e,n,i){return t=Mt(7,t,i,e),t.lanes=n,t}function Hh(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function aT(t){var e=Mt(18,null,null,0);return e.stateNode=t,e}function qh(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Sy=new WeakMap;function Qt(t,e){if(typeof t=="object"&&t!==null){var n=Sy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:ny(e)},Sy.set(t,e),e)}return{value:t,source:e,stack:ny(e)}}var _s=[],vs=0,Vu=null,Ao=0,Gt=[],Kt=0,$i=null,mn=1,pn="";function Mn(t,e){_s[vs++]=Ao,_s[vs++]=Vu,Vu=t,Ao=e}function oT(t,e,n){Gt[Kt++]=mn,Gt[Kt++]=pn,Gt[Kt++]=$i,$i=t;var i=mn;t=pn;var r=32-Lt(i)-1;i&=~(1<<r),n+=1;var s=32-Lt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,mn=1<<32-Lt(e)+r|n<<r|i,pn=s+t}else mn=1<<s|n<<r|i,pn=t}function Em(t){t.return!==null&&(Mn(t,1),oT(t,1,0))}function Tm(t){for(;t===Vu;)Vu=_s[--vs],_s[vs]=null,Ao=_s[--vs],_s[vs]=null;for(;t===$i;)$i=Gt[--Kt],Gt[Kt]=null,pn=Gt[--Kt],Gt[Kt]=null,mn=Gt[--Kt],Gt[Kt]=null}function lT(t,e){Gt[Kt++]=mn,Gt[Kt++]=pn,Gt[Kt++]=$i,mn=e.id,pn=e.overflow,$i=t}var at=null,we=null,ce=!1,Pi=null,$t=!1,$f=Error(P(519));function Xi(t){var e=Error(P(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wo(Qt(e,t)),$f}function by(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[st]=t,e[It]=i,n){case"dialog":re("cancel",e),re("close",e);break;case"iframe":case"object":case"embed":re("load",e);break;case"video":case"audio":for(n=0;n<No.length;n++)re(No[n],e);break;case"source":re("error",e);break;case"img":case"image":case"link":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"input":re("invalid",e),jE(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":re("invalid",e);break;case"textarea":re("invalid",e),zE(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||F0(e.textContent,n)?(i.popover!=null&&(re("beforetoggle",e),re("toggle",e)),i.onScroll!=null&&re("scroll",e),i.onScrollEnd!=null&&re("scrollend",e),i.onClick!=null&&(e.onclick=Ln),e=!0):e=!1,e||Xi(t,!0)}function Ay(t){for(at=t.return;at;)switch(at.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:at=at.return}}function es(t){if(t!==at)return!1;if(!ce)return Ay(t),ce=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ed(t.type,t.memoizedProps)),n=!n),n&&we&&Xi(t),Ay(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));we=c_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));we=c_(t)}else e===27?(e=we,ar(t.type)?(t=Ad,Ad=null,we=t):we=e):we=at?Zt(t.stateNode.nextSibling):null;return!0}function Dr(){we=at=null,ce=!1}function Fh(){var t=Pi;return t!==null&&(At===null?At=t:At.push.apply(At,t),Pi=null),t}function wo(t){Pi===null?Pi=[t]:Pi.push(t)}var Xf=Rn(null),Gr=null,jn=null;function Ti(t,e,n){Se(Xf,e._currentValue),e._currentValue=n}function Hn(t){t._currentValue=Xf.current,nt(Xf)}function Jf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Wf(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jf(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Jf(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function ea(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;Ut(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===Cu.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Do):t=[Do])}r=r.return}t!==null&&Wf(e,t,n,i),e.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!Ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Or(t){Gr=t,jn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function lt(t){return uT(Gr,t)}function Ll(t,e){return Gr===null&&Or(t),uT(t,e)}function uT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},jn===null){if(t===null)throw Error(P(308));jn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else jn=jn.next=e;return n}var sR=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},aR=Xe.unstable_scheduleCallback,oR=Xe.unstable_NormalPriority,qe={$$typeof:Pn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new sR,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&aR(oR,function(){t.controller.abort()})}var no=null,Zf=0,Ps=0,As=null;function lR(t,e){if(no===null){var n=no=[];Zf=0,Ps=Ym(),As={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Zf++,e.then(wy,wy),e}function wy(){if(--Zf===0&&no!==null){As!==null&&(As.status="fulfilled");var t=no;no=null,Ps=0,As=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function uR(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Ry=$.S;$.S=function(t,e){b0=kt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&lR(t,e),Ry!==null&&Ry(t,e)};var Cr=Rn(null);function bm(){var t=Cr.current;return t!==null?t:Te.pooledCache}function su(t,e){e===null?Se(Cr,Cr.current):Se(Cr,e.pool)}function cT(){var t=bm();return t===null?null:{parent:qe._currentValue,pool:t}}var ta=Error(P(460)),Am=Error(P(474)),Oc=Error(P(542)),Pu={then:function(){}};function Cy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ln,Ln),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ny(t),t;default:if(typeof e.status=="string")e.then(Ln,Ln);else{if(t=Te,t!==null&&100<t.shellSuspendCounter)throw Error(P(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ny(t),t}throw Ir=e,ta}}function Er(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ir=n,ta):n}}var Ir=null;function Iy(){if(Ir===null)throw Error(P(459));var t=Ir;return Ir=null,t}function Ny(t){if(t===ta||t===Oc)throw Error(P(483))}var ws=null,Ro=0;function jl(t){var e=Ro;return Ro+=1,ws===null&&(ws=[]),hT(ws,t,e)}function Va(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ul(t,e){throw e.$$typeof===$w?Error(P(525)):(t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function fT(t){function e(T,v){if(t){var b=T.deletions;b===null?(T.deletions=[v],T.flags|=16):b.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function i(T){for(var v=new Map;T!==null;)T.key!==null?v.set(T.key,T):v.set(T.index,T),T=T.sibling;return v}function r(T,v){return T=Bn(T,v),T.index=0,T.sibling=null,T}function s(T,v,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<v?(T.flags|=67108866,v):b):(T.flags|=67108866,v)):(T.flags|=1048576,v)}function a(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function l(T,v,b,D){return v===null||v.tag!==6?(v=Hh(b,T.mode,D),v.return=T,v):(v=r(v,b),v.return=T,v)}function u(T,v,b,D){var U=b.type;return U===us?f(T,v,b.props.children,D,b.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===vi&&Er(U)===v.type)?(v=r(v,b.props),Va(v,b),v.return=T,v):(v=ru(b.type,b.key,b.props,null,T.mode,D),Va(v,b),v.return=T,v)}function c(T,v,b,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=qh(b,T.mode,D),v.return=T,v):(v=r(v,b.children||[]),v.return=T,v)}function f(T,v,b,D,U){return v===null||v.tag!==7?(v=Rr(b,T.mode,D,U),v.return=T,v):(v=r(v,b),v.return=T,v)}function p(T,v,b){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Hh(""+v,T.mode,b),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dl:return b=ru(v.type,v.key,v.props,null,T.mode,b),Va(b,v),b.return=T,b;case Ba:return v=qh(v,T.mode,b),v.return=T,v;case vi:return v=Er(v),p(T,v,b)}if(Ha(v)||Da(v))return v=Rr(v,T.mode,b,null),v.return=T,v;if(typeof v.then=="function")return p(T,jl(v),b);if(v.$$typeof===Pn)return p(T,Ll(T,v),b);Ul(T,v)}return null}function g(T,v,b,D){var U=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return U!==null?null:l(T,v,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Dl:return b.key===U?u(T,v,b,D):null;case Ba:return b.key===U?c(T,v,b,D):null;case vi:return b=Er(b),g(T,v,b,D)}if(Ha(b)||Da(b))return U!==null?null:f(T,v,b,D,null);if(typeof b.then=="function")return g(T,v,jl(b),D);if(b.$$typeof===Pn)return g(T,v,Ll(T,b),D);Ul(T,b)}return null}function y(T,v,b,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return T=T.get(b)||null,l(v,T,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Dl:return T=T.get(D.key===null?b:D.key)||null,u(v,T,D,U);case Ba:return T=T.get(D.key===null?b:D.key)||null,c(v,T,D,U);case vi:return D=Er(D),y(T,v,b,D,U)}if(Ha(D)||Da(D))return T=T.get(b)||null,f(v,T,D,U,null);if(typeof D.then=="function")return y(T,v,b,jl(D),U);if(D.$$typeof===Pn)return y(T,v,b,Ll(v,D),U);Ul(v,D)}return null}function I(T,v,b,D){for(var U=null,H=null,w=v,E=v=0,A=null;w!==null&&E<b.length;E++){w.index>E?(A=w,w=null):A=w.sibling;var R=g(T,w,b[E],D);if(R===null){w===null&&(w=A);break}t&&w&&R.alternate===null&&e(T,w),v=s(R,v,E),H===null?U=R:H.sibling=R,H=R,w=A}if(E===b.length)return n(T,w),ce&&Mn(T,E),U;if(w===null){for(;E<b.length;E++)w=p(T,b[E],D),w!==null&&(v=s(w,v,E),H===null?U=w:H.sibling=w,H=w);return ce&&Mn(T,E),U}for(w=i(w);E<b.length;E++)A=y(w,T,E,b[E],D),A!==null&&(t&&A.alternate!==null&&w.delete(A.key===null?E:A.key),v=s(A,v,E),H===null?U=A:H.sibling=A,H=A);return t&&w.forEach(function(C){return e(T,C)}),ce&&Mn(T,E),U}function x(T,v,b,D){if(b==null)throw Error(P(151));for(var U=null,H=null,w=v,E=v=0,A=null,R=b.next();w!==null&&!R.done;E++,R=b.next()){w.index>E?(A=w,w=null):A=w.sibling;var C=g(T,w,R.value,D);if(C===null){w===null&&(w=A);break}t&&w&&C.alternate===null&&e(T,w),v=s(C,v,E),H===null?U=C:H.sibling=C,H=C,w=A}if(R.done)return n(T,w),ce&&Mn(T,E),U;if(w===null){for(;!R.done;E++,R=b.next())R=p(T,R.value,D),R!==null&&(v=s(R,v,E),H===null?U=R:H.sibling=R,H=R);return ce&&Mn(T,E),U}for(w=i(w);!R.done;E++,R=b.next())R=y(w,T,E,R.value,D),R!==null&&(t&&R.alternate!==null&&w.delete(R.key===null?E:R.key),v=s(R,v,E),H===null?U=R:H.sibling=R,H=R);return t&&w.forEach(function(N){return e(T,N)}),ce&&Mn(T,E),U}function M(T,v,b,D){if(typeof b=="object"&&b!==null&&b.type===us&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Dl:e:{for(var U=b.key;v!==null;){if(v.key===U){if(U=b.type,U===us){if(v.tag===7){n(T,v.sibling),D=r(v,b.props.children),D.return=T,T=D;break e}}else if(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===vi&&Er(U)===v.type){n(T,v.sibling),D=r(v,b.props),Va(D,b),D.return=T,T=D;break e}n(T,v);break}else e(T,v);v=v.sibling}b.type===us?(D=Rr(b.props.children,T.mode,D,b.key),D.return=T,T=D):(D=ru(b.type,b.key,b.props,null,T.mode,D),Va(D,b),D.return=T,T=D)}return a(T);case Ba:e:{for(U=b.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(T,v.sibling),D=r(v,b.children||[]),D.return=T,T=D;break e}else{n(T,v);break}else e(T,v);v=v.sibling}D=qh(b,T.mode,D),D.return=T,T=D}return a(T);case vi:return b=Er(b),M(T,v,b,D)}if(Ha(b))return I(T,v,b,D);if(Da(b)){if(U=Da(b),typeof U!="function")throw Error(P(150));return b=U.call(b),x(T,v,b,D)}if(typeof b.then=="function")return M(T,v,jl(b),D);if(b.$$typeof===Pn)return M(T,v,Ll(T,b),D);Ul(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,v!==null&&v.tag===6?(n(T,v.sibling),D=r(v,b),D.return=T,T=D):(n(T,v),D=Hh(b,T.mode,D),D.return=T,T=D),a(T)):n(T,v)}return function(T,v,b,D){try{Ro=0;var U=M(T,v,b,D);return ws=null,U}catch(w){if(w===ta||w===Oc)throw w;var H=Mt(29,w,null,T.mode);return H.lanes=D,H.return=T,H}finally{}}}var Mr=fT(!0),dT=fT(!1),Ei=!1;function wm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Li(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Mu(t),rT(t,null,n),e}return Dc(t,i,e,n),Mu(t)}function io(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,DE(t,n)}}function Gh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var td=!1;function ro(){if(td){var t=As;if(t!==null)throw t}}function so(t,e,n,i){td=!1;var r=t.updateQueue;Ei=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,f=c=u=null,l=s;do{var g=l.lane&-536870913,y=g!==l.lane;if(y?(ue&g)===g:(i&g)===g){g!==0&&g===Ps&&(td=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var I=t,x=l;g=e;var M=n;switch(x.tag){case 1:if(I=x.payload,typeof I=="function"){p=I.call(M,p,g);break e}p=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=x.payload,g=typeof I=="function"?I.call(M,p,g):I,g==null)break e;p=Ie({},p,g);break e;case 2:Ei=!0}}g=l.callback,g!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[g]:y.push(g))}else y={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=y,u=p):f=f.next=y,a|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);f===null&&(u=p),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),Wi|=a,t.lanes=a,t.memoizedState=p}}function mT(t,e){if(typeof t!="function")throw Error(P(191,t));t.call(e)}function pT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)mT(n[t],e)}var Ls=Rn(null),Lu=Rn(0);function xy(t,e){t=Jn,Se(Lu,t),Se(Ls,e),Jn=t|e.baseLanes}function nd(){Se(Lu,Jn),Se(Ls,Ls.current)}function Rm(){Jn=Lu.current,nt(Ls),nt(Lu)}var zt=Rn(null),Wt=null;function Si(t){var e=t.alternate;Se(Le,Le.current&1),Se(zt,t),Wt===null&&(e===null||Ls.current!==null||e.memoizedState!==null)&&(Wt=t)}function id(t){Se(Le,Le.current),Se(zt,t),Wt===null&&(Wt=t)}function gT(t){t.tag===22?(Se(Le,Le.current),Se(zt,t),Wt===null&&(Wt=t)):bi()}function bi(){Se(Le,Le.current),Se(zt,zt.current)}function Ot(t){nt(zt),Wt===t&&(Wt=null),nt(Le)}var Le=Rn(0);function ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Sd(n)||bd(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qn=0,ne=null,ve=null,Be=null,Uu=!1,Rs=!1,Vr=!1,zu=0,Co=0,Cs=null,cR=0;function Ve(){throw Error(P(321))}function Cm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ut(t[n],e[n]))return!1;return!0}function Im(t,e,n,i,r,s){return Qn=s,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$.H=t===null||t.memoizedState===null?YT:Um,Vr=!1,s=n(i,r),Vr=!1,Rs&&(s=_T(e,n,i,r)),yT(t),s}function yT(t){$.H=Io;var e=ve!==null&&ve.next!==null;if(Qn=0,Be=ve=ne=null,Uu=!1,Co=0,Cs=null,e)throw Error(P(300));t===null||Fe||(t=t.dependencies,t!==null&&ku(t)&&(Fe=!0))}function _T(t,e,n,i){ne=t;var r=0;do{if(Rs&&(Cs=null),Co=0,Rs=!1,25<=r)throw Error(P(301));if(r+=1,Be=ve=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}$.H=QT,s=e(n,i)}while(Rs);return s}function hR(){var t=$.H,e=t.useState()[0];return e=typeof e.then=="function"?Zo(e):e,t=t.useState()[0],(ve!==null?ve.memoizedState:null)!==t&&(ne.flags|=1024),e}function Nm(){var t=zu!==0;return zu=0,t}function xm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Dm(t){if(Uu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Uu=!1}Qn=0,Be=ve=ne=null,Rs=!1,Co=zu=0,Cs=null}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?ne.memoizedState=Be=t:Be=Be.next=t,Be}function je(){if(ve===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var e=Be===null?ne.memoizedState:Be.next;if(e!==null)Be=e,ve=t;else{if(t===null)throw ne.alternate===null?Error(P(467)):Error(P(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Be===null?ne.memoizedState=Be=t:Be=Be.next=t}return Be}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var e=Co;return Co+=1,Cs===null&&(Cs=[]),t=hT(Cs,t,e),e=ne,(Be===null?e.memoizedState:Be.next)===null&&(e=e.alternate,$.H=e===null||e.memoizedState===null?YT:Um),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===Pn)return lt(t)}throw Error(P(438,String(t)))}function Om(t){var e=null,n=ne.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ne.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Mc(),ne.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Xw;return e.index++,n}function $n(t,e){return typeof e=="function"?e(t):e}function au(t){var e=je();return Mm(e,ve,t)}function Mm(t,e,n){var i=t.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,f=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(ue&p)===p:(Qn&p)===p){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Ps&&(f=!0);else if((Qn&g)===g){c=c.next,g===Ps&&(f=!0);continue}else p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,ne.lanes|=g,Wi|=g;p=c.action,Vr&&n(s,p),s=c.hasEagerState?c.eagerState:n(s,p)}else g={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,ne.lanes|=p,Wi|=p;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!Ut(s,t.memoizedState)&&(Fe=!0,f&&(n=As,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Kh(t){var e=je(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);Ut(s,e.memoizedState)||(Fe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function vT(t,e,n){var i=ne,r=je(),s=ce;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=e();var a=!Ut((ve||r).memoizedState,n);if(a&&(r.memoizedState=n,Fe=!0),r=r.queue,Vm(ST.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||Be!==null&&Be.memoizedState.tag&1){if(i.flags|=2048,js(9,{destroy:void 0},TT.bind(null,i,r,n,e),null),Te===null)throw Error(P(349));s||Qn&127||ET(i,e,n)}return n}function ET(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e=Mc(),ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TT(t,e,n,i){e.value=n,e.getSnapshot=i,bT(e)&&AT(t)}function ST(t,e,n){return n(function(){bT(e)&&AT(t)})}function bT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ut(t,n)}catch{return!0}}function AT(t){var e=Fr(t,2);e!==null&&Ct(e,t,2)}function rd(t){var e=_t();if(typeof t=="function"){var n=t;if(t=n(),Vr){Ii(!0);try{n()}finally{Ii(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:t},e}function wT(t,e,n,i){return t.baseState=n,Mm(t,ve,typeof i=="function"?i:$n)}function fR(t,e,n,i,r){if(Pc(t))throw Error(P(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};$.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,RT(e,s)):(s.next=n.next,e.pending=n.next=s)}}function RT(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=$.T,a={};$.T=a;try{var l=n(r,i),u=$.S;u!==null&&u(a,l),Dy(t,e,l)}catch(c){sd(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),$.T=s}}else try{s=n(r,i),Dy(t,e,s)}catch(c){sd(t,e,c)}}function Dy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Oy(t,e,i)},function(i){return sd(t,e,i)}):Oy(t,e,n)}function Oy(t,e,n){e.status="fulfilled",e.value=n,CT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,RT(t,n)))}function sd(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,CT(e),e=e.next;while(e!==i)}t.action=null}function CT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function IT(t,e){return e}function My(t,e){if(ce){var n=Te.formState;if(n!==null){e:{var i=ne;if(ce){if(we){t:{for(var r=we,s=$t;r.nodeType!==8;){if(!s){r=null;break t}if(r=Zt(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){we=Zt(r.nextSibling),i=r.data==="F!";break e}}Xi(i)}i=!1}i&&(e=n[0])}}return n=_t(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IT,lastRenderedState:e},n.queue=i,n=FT.bind(null,ne,i),i.dispatch=n,i=rd(!1),s=jm.bind(null,ne,!1,i.queue),i=_t(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=fR.bind(null,ne,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Vy(t){var e=je();return NT(e,ve,t)}function NT(t,e,n){if(e=Mm(t,e,IT)[0],t=au($n)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Zo(e)}catch(a){throw a===ta?Oc:a}else i=e;e=je();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(ne.flags|=2048,js(9,{destroy:void 0},dR.bind(null,r,n),null)),[i,s,t]}function dR(t,e){t.action=e}function ky(t){var e=je(),n=ve;if(n!==null)return NT(e,n,t);je(),e=e.memoizedState,n=je();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function js(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ne.updateQueue,e===null&&(e=Mc(),ne.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function xT(){return je().memoizedState}function ou(t,e,n,i){var r=_t();ne.flags|=t,r.memoizedState=js(1|e,{destroy:void 0},n,i===void 0?null:i)}function kc(t,e,n,i){var r=je();i=i===void 0?null:i;var s=r.memoizedState.inst;ve!==null&&i!==null&&Cm(i,ve.memoizedState.deps)?r.memoizedState=js(e,s,n,i):(ne.flags|=t,r.memoizedState=js(1|e,s,n,i))}function Py(t,e){ou(8390656,8,t,e)}function Vm(t,e){kc(2048,8,t,e)}function mR(t){ne.flags|=4;var e=ne.updateQueue;if(e===null)e=Mc(),ne.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function DT(t){var e=je().memoizedState;return mR({ref:e,nextImpl:t}),function(){if(fe&2)throw Error(P(440));return e.impl.apply(void 0,arguments)}}function OT(t,e){return kc(4,2,t,e)}function MT(t,e){return kc(4,4,t,e)}function VT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kT(t,e,n){n=n!=null?n.concat([t]):null,kc(4,4,VT.bind(null,e,t),n)}function km(){}function PT(t,e){var n=je();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Cm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function LT(t,e){var n=je();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Cm(e,i[1]))return i[0];if(i=t(),Vr){Ii(!0);try{t()}finally{Ii(!1)}}return n.memoizedState=[i,e],i}function Pm(t,e,n){return n===void 0||Qn&1073741824&&!(ue&261930)?t.memoizedState=e:(t.memoizedState=n,t=w0(),ne.lanes|=t,Wi|=t,n)}function jT(t,e,n,i){return Ut(n,e)?n:Ls.current!==null?(t=Pm(t,n,i),Ut(t,e)||(Fe=!0),t):!(Qn&42)||Qn&1073741824&&!(ue&261930)?(Fe=!0,t.memoizedState=n):(t=w0(),ne.lanes|=t,Wi|=t,e)}function UT(t,e,n,i,r){var s=de.p;de.p=s!==0&&8>s?s:8;var a=$.T,l={};$.T=l,jm(t,!1,e,n);try{var u=r(),c=$.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=uR(u,i);ao(t,e,f,jt(t))}else ao(t,e,i,jt(t))}catch(p){ao(t,e,{then:function(){},status:"rejected",reason:p},jt())}finally{de.p=s,a!==null&&l.types!==null&&(a.types=l.types),$.T=a}}function pR(){}function ad(t,e,n,i){if(t.tag!==5)throw Error(P(476));var r=zT(t).queue;UT(t,r,e,wr,n===null?pR:function(){return BT(t),n(i)})}function zT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:wr,baseState:wr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:wr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function BT(t){var e=zT(t);e.next===null&&(e=t.alternate.memoizedState),ao(t,e.next.queue,{},jt())}function Lm(){return lt(Do)}function HT(){return je().memoizedState}function qT(){return je().memoizedState}function gR(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=jt();t=Li(n);var i=ji(e,t,n);i!==null&&(Ct(i,e,n),io(i,e,n)),e={cache:Sm()},t.payload=e;return}e=e.return}}function yR(t,e,n){var i=jt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Pc(t)?GT(e,n):(n=_m(t,e,n,i),n!==null&&(Ct(n,t,i),KT(n,e,i)))}function FT(t,e,n){var i=jt();ao(t,e,n,i)}function ao(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pc(t))GT(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ut(l,a))return Dc(t,e,r,0),Te===null&&xc(),!1}catch{}finally{}if(n=_m(t,e,r,i),n!==null)return Ct(n,t,i),KT(n,e,i),!0}return!1}function jm(t,e,n,i){if(i={lane:2,revertLane:Ym(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Pc(t)){if(e)throw Error(P(479))}else e=_m(t,n,i,2),e!==null&&Ct(e,t,2)}function Pc(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function GT(t,e){Rs=Uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,DE(t,n)}}var Io={readContext:lt,use:Vc,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Io.useEffectEvent=Ve;var YT={readContext:lt,use:Vc,useCallback:function(t,e){return _t().memoizedState=[t,e===void 0?null:e],t},useContext:lt,useEffect:Py,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ou(4194308,4,VT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ou(4194308,4,t,e)},useInsertionEffect:function(t,e){ou(4,2,t,e)},useMemo:function(t,e){var n=_t();e=e===void 0?null:e;var i=t();if(Vr){Ii(!0);try{t()}finally{Ii(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=_t();if(n!==void 0){var r=n(e);if(Vr){Ii(!0);try{n(e)}finally{Ii(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=yR.bind(null,ne,t),[i.memoizedState,t]},useRef:function(t){var e=_t();return t={current:t},e.memoizedState=t},useState:function(t){t=rd(t);var e=t.queue,n=FT.bind(null,ne,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:km,useDeferredValue:function(t,e){var n=_t();return Pm(n,t,e)},useTransition:function(){var t=rd(!1);return t=UT.bind(null,ne,t.queue,!0,!1),_t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ne,r=_t();if(ce){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Te===null)throw Error(P(349));ue&127||ET(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Py(ST.bind(null,i,s,t),[t]),i.flags|=2048,js(9,{destroy:void 0},TT.bind(null,i,s,n,e),null),n},useId:function(){var t=_t(),e=Te.identifierPrefix;if(ce){var n=pn,i=mn;n=(i&~(1<<32-Lt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=zu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=cR++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Lm,useFormState:My,useActionState:My,useOptimistic:function(t){var e=_t();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=jm.bind(null,ne,!0,n),n.dispatch=e,[t,e]},useMemoCache:Om,useCacheRefresh:function(){return _t().memoizedState=gR.bind(null,ne)},useEffectEvent:function(t){var e=_t(),n={impl:t};return e.memoizedState=n,function(){if(fe&2)throw Error(P(440));return n.impl.apply(void 0,arguments)}}},Um={readContext:lt,use:Vc,useCallback:PT,useContext:lt,useEffect:Vm,useImperativeHandle:kT,useInsertionEffect:OT,useLayoutEffect:MT,useMemo:LT,useReducer:au,useRef:xT,useState:function(){return au($n)},useDebugValue:km,useDeferredValue:function(t,e){var n=je();return jT(n,ve.memoizedState,t,e)},useTransition:function(){var t=au($n)[0],e=je().memoizedState;return[typeof t=="boolean"?t:Zo(t),e]},useSyncExternalStore:vT,useId:HT,useHostTransitionStatus:Lm,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,e){var n=je();return wT(n,ve,t,e)},useMemoCache:Om,useCacheRefresh:qT};Um.useEffectEvent=DT;var QT={readContext:lt,use:Vc,useCallback:PT,useContext:lt,useEffect:Vm,useImperativeHandle:kT,useInsertionEffect:OT,useLayoutEffect:MT,useMemo:LT,useReducer:Kh,useRef:xT,useState:function(){return Kh($n)},useDebugValue:km,useDeferredValue:function(t,e){var n=je();return ve===null?Pm(n,t,e):jT(n,ve.memoizedState,t,e)},useTransition:function(){var t=Kh($n)[0],e=je().memoizedState;return[typeof t=="boolean"?t:Zo(t),e]},useSyncExternalStore:vT,useId:HT,useHostTransitionStatus:Lm,useFormState:ky,useActionState:ky,useOptimistic:function(t,e){var n=je();return ve!==null?wT(n,ve,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Om,useCacheRefresh:qT};QT.useEffectEvent=DT;function Yh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var od={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=jt(),r=Li(i);r.payload=e,n!=null&&(r.callback=n),e=ji(t,r,i),e!==null&&(Ct(e,t,i),io(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=jt(),r=Li(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=ji(t,r,i),e!==null&&(Ct(e,t,i),io(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),i=Li(n);i.tag=2,e!=null&&(i.callback=e),e=ji(t,i,n),e!==null&&(Ct(e,t,n),io(e,t,n))}};function Ly(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!bo(n,i)||!bo(r,s):!0}function jy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&od.enqueueReplaceState(e,e.state,null)}function kr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ie({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function $T(t){Ou(t)}function XT(t){console.error(t)}function JT(t){Ou(t)}function Bu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Uy(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ld(t,e,n){return n=Li(n),n.tag=3,n.payload={element:null},n.callback=function(){Bu(t,e)},n}function WT(t){return t=Li(t),t.tag=3,t}function ZT(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){Uy(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Uy(e,n,i),typeof r!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function _R(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&ea(e,n,r,!0),n=zt.current,n!==null){switch(n.tag){case 31:case 13:return Wt===null?Ku():n.alternate===null&&ke===0&&(ke=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Pu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),sf(t,i,r)),!1;case 22:return n.flags|=65536,i===Pu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),sf(t,i,r)),!1}throw Error(P(435,n.tag))}return sf(t,i,r),Ku(),!1}if(ce)return e=zt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==$f&&(t=Error(P(422),{cause:i}),wo(Qt(t,n)))):(i!==$f&&(e=Error(P(423),{cause:i}),wo(Qt(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Qt(i,n),r=ld(t.stateNode,i,r),Gh(t,r),ke!==4&&(ke=2)),!1;var s=Error(P(520),{cause:i});if(s=Qt(s,n),uo===null?uo=[s]:uo.push(s),ke!==4&&(ke=2),e===null)return!0;i=Qt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=ld(n.stateNode,i,t),Gh(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ui===null||!Ui.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=WT(r),ZT(r,t,n,i),Gh(n,r),!1}n=n.return}while(n!==null);return!1}var zm=Error(P(461)),Fe=!1;function it(t,e,n,i){e.child=t===null?dT(e,null,n,i):Mr(e,t.child,n,i)}function zy(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Or(e),i=Im(t,e,n,a,s,r),l=Nm(),t!==null&&!Fe?(xm(t,e,r),Xn(t,e,r)):(ce&&l&&Em(e),e.flags|=1,it(t,e,i,r),e.child)}function By(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!vm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,e0(t,e,s,i,r)):(t=ru(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Bm(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:bo,n(a,i)&&t.ref===e.ref)return Xn(t,e,r)}return e.flags|=1,t=Bn(s,i),t.ref=e.ref,t.return=e,e.child=t}function e0(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(bo(s,i)&&t.ref===e.ref)if(Fe=!1,e.pendingProps=i=s,Bm(t,r))t.flags&131072&&(Fe=!0);else return e.lanes=t.lanes,Xn(t,e,r)}return ud(t,e,n,i,r)}function t0(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return Hy(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&su(e,s!==null?s.cachePool:null),s!==null?xy(e,s):nd(),gT(e);else return i=e.lanes=536870912,Hy(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(su(e,s.cachePool),xy(e,s),bi(),e.memoizedState=null):(t!==null&&su(e,null),nd(),bi());return it(t,e,r,n),e.child}function Fa(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Hy(t,e,n,i,r){var s=bm();return s=s===null?null:{parent:qe._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&su(e,null),nd(),gT(e),t!==null&&ea(t,e,i,!0),e.childLanes=r,null}function lu(t,e){return e=Hu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function qy(t,e,n){return Mr(e,t.child,null,n),t=lu(e,e.pendingProps),t.flags|=2,Ot(e),e.memoizedState=null,t}function vR(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ce){if(i.mode==="hidden")return t=lu(e,i),e.lanes=536870912,Fa(null,t);if(id(e),(t=we)?(t=Y0(t,$t),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$i!==null?{id:mn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},n=aT(t),n.return=e,e.child=n,at=e,we=null)):t=null,t===null)throw Xi(e);return e.lanes=536870912,null}return lu(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(id(e),r)if(e.flags&256)e.flags&=-257,e=qy(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(P(558));else if(Fe||ea(t,e,n,!1),r=(n&t.childLanes)!==0,Fe||r){if(i=Te,i!==null&&(a=OE(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Fr(t,a),Ct(i,t,a),zm;Ku(),e=qy(t,e,n)}else t=s.treeContext,we=Zt(a.nextSibling),at=e,ce=!0,Pi=null,$t=!1,t!==null&&lT(e,t),e=lu(e,i),e.flags|=4096;return e}return t=Bn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function uu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ud(t,e,n,i,r){return Or(e),n=Im(t,e,n,i,void 0,r),i=Nm(),t!==null&&!Fe?(xm(t,e,r),Xn(t,e,r)):(ce&&i&&Em(e),e.flags|=1,it(t,e,n,r),e.child)}function Fy(t,e,n,i,r,s){return Or(e),e.updateQueue=null,n=_T(e,i,n,r),yT(t),i=Nm(),t!==null&&!Fe?(xm(t,e,s),Xn(t,e,s)):(ce&&i&&Em(e),e.flags|=1,it(t,e,n,s),e.child)}function Gy(t,e,n,i,r){if(Or(e),e.stateNode===null){var s=ys,a=n.contextType;typeof a=="object"&&a!==null&&(s=lt(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=od,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},wm(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?lt(a):ys,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Yh(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&od.enqueueReplaceState(s,s.state,null),so(e,i,s,r),ro(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=kr(n,l);s.props=u;var c=s.context,f=n.contextType;a=ys,typeof f=="object"&&f!==null&&(a=lt(f));var p=n.getDerivedStateFromProps;f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&jy(e,s,i,a),Ei=!1;var g=e.memoizedState;s.state=g,so(e,i,s,r),ro(),c=e.memoizedState,l||g!==c||Ei?(typeof p=="function"&&(Yh(e,n,p,i),c=e.memoizedState),(u=Ei||Ly(e,n,u,i,g,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,ed(t,e),a=e.memoizedProps,f=kr(n,a),s.props=f,p=e.pendingProps,g=s.context,c=n.contextType,u=ys,typeof c=="object"&&c!==null&&(u=lt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||g!==u)&&jy(e,s,i,u),Ei=!1,g=e.memoizedState,s.state=g,so(e,i,s,r),ro();var y=e.memoizedState;a!==p||g!==y||Ei||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof l=="function"&&(Yh(e,n,l,i),y=e.memoizedState),(f=Ei||Ly(e,n,f,i,g,y,u)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,uu(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Mr(e,t.child,null,r),e.child=Mr(e,null,n,r)):it(t,e,n,r),e.memoizedState=s.state,t=e.child):t=Xn(t,e,r),t}function Ky(t,e,n,i){return Dr(),e.flags|=256,it(t,e,n,i),e.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $h(t){return{baseLanes:t,cachePool:cT()}}function Xh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Vt),t}function n0(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Le.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(ce){if(r?Si(e):bi(),(t=we)?(t=Y0(t,$t),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$i!==null?{id:mn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},n=aT(t),n.return=e,e.child=n,at=e,we=null)):t=null,t===null)throw Xi(e);return bd(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(bi(),r=e.mode,l=Hu({mode:"hidden",children:l},r),i=Rr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=$h(n),i.childLanes=Xh(t,a,n),e.memoizedState=Qh,Fa(null,i)):(Si(e),cd(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(Si(e),e.flags&=-257,e=Jh(t,e,n)):e.memoizedState!==null?(bi(),e.child=t.child,e.flags|=128,e=null):(bi(),l=i.fallback,r=e.mode,i=Hu({mode:"visible",children:i.children},r),l=Rr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Mr(e,t.child,null,n),i=e.child,i.memoizedState=$h(n),i.childLanes=Xh(t,a,n),e.memoizedState=Qh,e=Fa(null,i));else if(Si(e),bd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(P(419)),i.stack="",i.digest=a,wo({value:i,source:null,stack:null}),e=Jh(t,e,n)}else if(Fe||ea(t,e,n,!1),a=(n&t.childLanes)!==0,Fe||a){if(a=Te,a!==null&&(i=OE(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Fr(t,i),Ct(a,t,i),zm;Sd(l)||Ku(),e=Jh(t,e,n)}else Sd(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,we=Zt(l.nextSibling),at=e,ce=!0,Pi=null,$t=!1,t!==null&&lT(e,t),e=cd(e,i.children),e.flags|=4096);return e}return r?(bi(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=Bn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=Bn(c,l):(l=Rr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Fa(null,i),i=e.child,l=t.child.memoizedState,l===null?l=$h(n):(r=l.cachePool,r!==null?(u=qe._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=cT(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=Xh(t,a,n),e.memoizedState=Qh,Fa(t.child,i)):(Si(e),n=t.child,t=n.sibling,n=Bn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function cd(t,e){return e=Hu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Hu(t,e){return t=Mt(22,t,null,e),t.lanes=0,t}function Jh(t,e,n){return Mr(e,t.child,null,n),t=cd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Jf(t.return,e,n)}function Wh(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function i0(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Le.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Se(Le,a),it(t,e,i,n),i=ce?Ao:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,n,e);else if(t.tag===19)Yy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ju(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Wh(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ju(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Wh(e,!0,n,null,s,i);break;case"together":Wh(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))if(t!==null){if(ea(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function ER(t,e,n){switch(e.tag){case 3:Iu(e,e.stateNode.containerInfo),Ti(e,qe,t.memoizedState.cache),Dr();break;case 27:case 5:jf(e);break;case 4:Iu(e,e.stateNode.containerInfo);break;case 10:Ti(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,id(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Si(e),e.flags|=128,null):n&e.child.childLanes?n0(t,e,n):(Si(e),t=Xn(t,e,n),t!==null?t.sibling:null);Si(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(ea(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return i0(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Se(Le,Le.current),i)break;return null;case 22:return e.lanes=0,t0(t,e,n,e.pendingProps);case 24:Ti(e,qe,t.memoizedState.cache)}return Xn(t,e,n)}function r0(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Fe=!0;else{if(!Bm(t,n)&&!(e.flags&128))return Fe=!1,ER(t,e,n);Fe=!!(t.flags&131072)}else Fe=!1,ce&&e.flags&1048576&&oT(e,Ao,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Er(e.elementType),e.type=t,typeof t=="function")vm(t)?(i=kr(t,i),e.tag=1,e=Gy(null,e,t,i,n)):(e.tag=0,e=ud(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===sm){e.tag=11,e=zy(null,e,t,i,n);break e}else if(r===am){e.tag=14,e=By(null,e,t,i,n);break e}}throw e=Pf(t)||t,Error(P(306,e,""))}}return e;case 0:return ud(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=kr(i,e.pendingProps),Gy(t,e,i,r,n);case 3:e:{if(Iu(e,e.stateNode.containerInfo),t===null)throw Error(P(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,ed(t,e),so(e,i,null,n);var a=e.memoizedState;if(i=a.cache,Ti(e,qe,i),i!==s.cache&&Wf(e,[qe],n,!0),ro(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Ky(t,e,i,n);break e}else if(i!==r){r=Qt(Error(P(424)),e),wo(r),e=Ky(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(we=Zt(t.firstChild),at=e,ce=!0,Pi=null,$t=!0,n=dT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Dr(),i===r){e=Xn(t,e,n);break e}it(t,e,i,n)}e=e.child}return e;case 26:return uu(t,e),t===null?(n=d_(e.type,null,e.pendingProps,null))?e.memoizedState=n:ce||(n=e.type,t=e.pendingProps,i=Xu(ki.current).createElement(n),i[st]=e,i[It]=t,ut(i,n,t),et(i),e.stateNode=i):e.memoizedState=d_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return jf(e),t===null&&ce&&(i=e.stateNode=Q0(e.type,e.pendingProps,ki.current),at=e,$t=!0,r=we,ar(e.type)?(Ad=r,we=Zt(i.firstChild)):we=r),it(t,e,e.pendingProps.children,n),uu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ce&&((r=i=we)&&(i=XR(i,e.type,e.pendingProps,$t),i!==null?(e.stateNode=i,at=e,we=Zt(i.firstChild),$t=!1,r=!0):r=!1),r||Xi(e)),jf(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Ed(r,s)?i=null:a!==null&&Ed(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Im(t,e,hR,null,null,n),Do._currentValue=r),uu(t,e),it(t,e,i,n),e.child;case 6:return t===null&&ce&&((t=n=we)&&(n=JR(n,e.pendingProps,$t),n!==null?(e.stateNode=n,at=e,we=null,t=!0):t=!1),t||Xi(e)),null;case 13:return n0(t,e,n);case 4:return Iu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Mr(e,null,i,n):it(t,e,i,n),e.child;case 11:return zy(t,e,e.type,e.pendingProps,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Ti(e,e.type,i.value),it(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Or(e),r=lt(r),i=i(r),e.flags|=1,it(t,e,i,n),e.child;case 14:return By(t,e,e.type,e.pendingProps,n);case 15:return e0(t,e,e.type,e.pendingProps,n);case 19:return i0(t,e,n);case 31:return vR(t,e,n);case 22:return t0(t,e,n,e.pendingProps);case 24:return Or(e),i=lt(qe),t===null?(r=bm(),r===null&&(r=Te,s=Sm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},wm(e),Ti(e,qe,r)):(t.lanes&n&&(ed(t,e),so(e,null,null,n),ro()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Ti(e,qe,i)):(i=s.cache,Ti(e,qe,i),i!==r.cache&&Wf(e,[qe],n,!0))),it(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(P(156,e.tag))}function Nn(t){t.flags|=4}function Zh(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(I0())t.flags|=8192;else throw Ir=Pu,Am}else t.flags&=-16777217}function Qy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!J0(e))if(I0())t.flags|=8192;else throw Ir=Pu,Am}function zl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?NE():536870912,t.lanes|=e,Us|=e)}function ka(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function TR(t,e,n){var i=e.pendingProps;switch(Tm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ae(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Hn(qe),Ms(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(es(e)?Nn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fh())),Ae(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(Nn(e),s!==null?(Ae(e),Qy(e,s)):(Ae(e),Zh(e,r,null,i,n))):s?s!==t.memoizedState?(Nn(e),Ae(e),Qy(e,s)):(Ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Nn(e),Ae(e),Zh(e,r,t,i,n)),null;case 27:if(Nu(e),n=ki.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Nn(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Ae(e),null}t=yn.current,es(e)?by(e):(t=Q0(r,i,n),e.stateNode=t,Nn(e))}return Ae(e),null;case 5:if(Nu(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Nn(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Ae(e),null}if(s=yn.current,es(e))by(e);else{var a=Xu(ki.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[st]=e,s[It]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(ut(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Nn(e)}}return Ae(e),Zh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Nn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(P(166));if(t=ki.current,es(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=at,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[st]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||F0(t.nodeValue,n)),t||Xi(e,!0)}else t=Xu(t).createTextNode(i),t[st]=e,e.stateNode=t}return Ae(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=es(e),n!==null){if(t===null){if(!i)throw Error(P(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(557));t[st]=e}else Dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),t=!1}else n=Fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ot(e),e):(Ot(e),null);if(e.flags&128)throw Error(P(558))}return Ae(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=es(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(P(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[st]=e}else Dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else r=Fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Ot(e),e):(Ot(e),null)}return Ot(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),zl(e,e.updateQueue),Ae(e),null);case 4:return Ms(),t===null&&Qm(e.stateNode.containerInfo),Ae(e),null;case 10:return Hn(e.type),Ae(e),null;case 19:if(nt(Le),i=e.memoizedState,i===null)return Ae(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)ka(i,!1);else{if(ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ju(t),s!==null){for(e.flags|=128,ka(i,!1),t=s.updateQueue,e.updateQueue=t,zl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)sT(n,t),n=n.sibling;return Se(Le,Le.current&1|2),ce&&Mn(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&kt()>Fu&&(e.flags|=128,r=!0,ka(i,!1),e.lanes=4194304)}else{if(!r)if(t=ju(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,zl(e,t),ka(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ce)return Ae(e),null}else 2*kt()-i.renderingStartTime>Fu&&n!==536870912&&(e.flags|=128,r=!0,ka(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=kt(),t.sibling=null,n=Le.current,Se(Le,r?n&1|2:n&1),ce&&Mn(e,i.treeForkCount),t):(Ae(e),null);case 22:case 23:return Ot(e),Rm(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),n=e.updateQueue,n!==null&&zl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&nt(Cr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Hn(qe),Ae(e),null;case 25:return null;case 30:return null}throw Error(P(156,e.tag))}function SR(t,e){switch(Tm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hn(qe),Ms(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Nu(e),null;case 31:if(e.memoizedState!==null){if(Ot(e),e.alternate===null)throw Error(P(340));Dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ot(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(Le),null;case 4:return Ms(),null;case 10:return Hn(e.type),null;case 22:case 23:return Ot(e),Rm(),t!==null&&nt(Cr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Hn(qe),null;case 25:return null;default:return null}}function s0(t,e){switch(Tm(e),e.tag){case 3:Hn(qe),Ms();break;case 26:case 27:case 5:Nu(e);break;case 4:Ms();break;case 31:e.memoizedState!==null&&Ot(e);break;case 13:Ot(e);break;case 19:nt(Le);break;case 10:Hn(e.type);break;case 22:case 23:Ot(e),Rm(),t!==null&&nt(Cr);break;case 24:Hn(qe)}}function el(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){ye(e,e.return,l)}}function Ji(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){ye(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){ye(e,e.return,f)}}function a0(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{pT(e,n)}catch(i){ye(t,t.return,i)}}}function o0(t,e,n){n.props=kr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ye(t,e,i)}}function oo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){ye(t,e,r)}}function gn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){ye(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function l0(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ye(t,t.return,r)}}function ef(t,e,n){try{var i=t.stateNode;FR(i,t.type,n,e),i[It]=e}catch(r){ye(t,t.return,r)}}function u0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ln));else if(i!==4&&(i===27&&ar(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(hd(t,e,n),t=t.sibling;t!==null;)hd(t,e,n),t=t.sibling}function qu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&ar(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(qu(t,e,n),t=t.sibling;t!==null;)qu(t,e,n),t=t.sibling}function c0(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ut(e,i,n),e[st]=t,e[It]=n}catch(s){ye(t,t.return,s)}}var Vn=!1,He=!1,nf=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function bR(t,e){if(t=t.containerInfo,_d=ec,t=JE(t),gm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,p=t,g=null;t:for(;;){for(var y;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===t)break t;if(g===n&&++c===r&&(l=a),g===s&&++f===i&&(u=a),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(vd={focusedElem:t,selectionRange:n},ec=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){switch(e=Ze,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var I=kr(n.type,r);t=i.getSnapshotBeforeUpdate(I,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(x){ye(n,n.return,x)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Td(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(P(163))}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}}function h0(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Dn(t,n),i&4&&el(5,n);break;case 1:if(Dn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){ye(n,n.return,a)}else{var r=kr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){ye(n,n.return,a)}}i&64&&a0(n),i&512&&oo(n,n.return);break;case 3:if(Dn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{pT(t,e)}catch(a){ye(n,n.return,a)}}break;case 27:e===null&&i&4&&c0(n);case 26:case 5:Dn(t,n),e===null&&i&4&&l0(n),i&512&&oo(n,n.return);break;case 12:Dn(t,n);break;case 31:Dn(t,n),i&4&&m0(t,n);break;case 13:Dn(t,n),i&4&&p0(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=OR.bind(null,n),WR(t,n))));break;case 22:if(i=n.memoizedState!==null||Vn,!i){e=e!==null&&e.memoizedState!==null||He,r=Vn;var s=He;Vn=i,(He=e)&&!s?On(t,n,(n.subtreeFlags&8772)!==0):Dn(t,n),Vn=r,He=s}break;case 30:break;default:Dn(t,n)}}function f0(t){var e=t.alternate;e!==null&&(t.alternate=null,f0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&cm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ne=null,bt=!1;function xn(t,e,n){for(n=n.child;n!==null;)d0(t,e,n),n=n.sibling}function d0(t,e,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Yo,n)}catch{}switch(n.tag){case 26:He||gn(n,e),xn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:He||gn(n,e);var i=Ne,r=bt;ar(n.type)&&(Ne=n.stateNode,bt=!1),xn(t,e,n),ho(n.stateNode),Ne=i,bt=r;break;case 5:He||gn(n,e);case 6:if(i=Ne,r=bt,Ne=null,xn(t,e,n),Ne=i,bt=r,Ne!==null)if(bt)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(n.stateNode)}catch(s){ye(n,e,s)}else try{Ne.removeChild(n.stateNode)}catch(s){ye(n,e,s)}break;case 18:Ne!==null&&(bt?(t=Ne,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),qs(t)):l_(Ne,n.stateNode));break;case 4:i=Ne,r=bt,Ne=n.stateNode.containerInfo,bt=!0,xn(t,e,n),Ne=i,bt=r;break;case 0:case 11:case 14:case 15:Ji(2,n,e),He||Ji(4,n,e),xn(t,e,n);break;case 1:He||(gn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&o0(n,e,i)),xn(t,e,n);break;case 21:xn(t,e,n);break;case 22:He=(i=He)||n.memoizedState!==null,xn(t,e,n),He=i;break;default:xn(t,e,n)}}function m0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qs(t)}catch(n){ye(e,e.return,n)}}}function p0(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qs(t)}catch(n){ye(e,e.return,n)}}function AR(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new $y),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new $y),e;default:throw Error(P(435,t.tag))}}function Bl(t,e){var n=AR(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=MR.bind(null,t,i);i.then(r,r)}})}function Tt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(ar(l.type)){Ne=l.stateNode,bt=!1;break e}break;case 5:Ne=l.stateNode,bt=!1;break e;case 3:case 4:Ne=l.stateNode.containerInfo,bt=!0;break e}l=l.return}if(Ne===null)throw Error(P(160));d0(s,a,r),Ne=null,bt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)g0(e,t),e=e.sibling}var sn=null;function g0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tt(e,t),St(t),i&4&&(Ji(3,t,t.return),el(3,t),Ji(5,t,t.return));break;case 1:Tt(e,t),St(t),i&512&&(He||n===null||gn(n,n.return)),i&64&&Vn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=sn;if(Tt(e,t),St(t),i&512&&(He||n===null||gn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Xo]||s[st]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ut(s,i,n),s[st]=t,et(s),i=s;break e;case"link":var a=p_("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),ut(s,i,n),r.head.appendChild(s);break;case"meta":if(a=p_("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),ut(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[st]=t,et(s),i=s}t.stateNode=i}else g_(r,t.type,t.stateNode);else t.stateNode=m_(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?g_(r,t.type,t.stateNode):m_(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&ef(t,t.memoizedProps,n.memoizedProps)}break;case 27:Tt(e,t),St(t),i&512&&(He||n===null||gn(n,n.return)),n!==null&&i&4&&ef(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Tt(e,t),St(t),i&512&&(He||n===null||gn(n,n.return)),t.flags&32){r=t.stateNode;try{ks(r,"")}catch(I){ye(t,t.return,I)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,ef(t,r,n!==null?n.memoizedProps:r)),i&1024&&(nf=!0);break;case 6:if(Tt(e,t),St(t),i&4){if(t.stateNode===null)throw Error(P(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(I){ye(t,t.return,I)}}break;case 3:if(fu=null,r=sn,sn=Ju(e.containerInfo),Tt(e,t),sn=r,St(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(e.containerInfo)}catch(I){ye(t,t.return,I)}nf&&(nf=!1,y0(t));break;case 4:i=sn,sn=Ju(t.stateNode.containerInfo),Tt(e,t),St(t),sn=i;break;case 12:Tt(e,t),St(t);break;case 31:Tt(e,t),St(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Bl(t,i)));break;case 13:Tt(e,t),St(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Lc=kt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Bl(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Vn,f=He;if(Vn=c||r,He=f||u,Tt(e,t),He=f,Vn=c,St(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||Vn||He||Tr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(I){ye(u,u.return,I)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(I){ye(u,u.return,I)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;r?u_(y,!0):u_(u.stateNode,!1)}catch(I){ye(u,u.return,I)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Bl(t,n))));break;case 19:Tt(e,t),St(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Bl(t,i)));break;case 30:break;case 21:break;default:Tt(e,t),St(t)}}function St(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(u0(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=tf(t);qu(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(ks(a,""),n.flags&=-33);var l=tf(t);qu(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=tf(t);hd(t,c,u);break;default:throw Error(P(161))}}catch(f){ye(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;y0(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Dn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)h0(t,e.alternate,e),e=e.sibling}function Tr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ji(4,e,e.return),Tr(e);break;case 1:gn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&o0(e,e.return,n),Tr(e);break;case 27:ho(e.stateNode);case 26:case 5:gn(e,e.return),Tr(e);break;case 22:e.memoizedState===null&&Tr(e);break;case 30:Tr(e);break;default:Tr(e)}t=t.sibling}}function On(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:On(r,s,n),el(4,s);break;case 1:if(On(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){ye(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)mT(u[r],l)}catch(c){ye(i,i.return,c)}}n&&a&64&&a0(s),oo(s,s.return);break;case 27:c0(s);case 26:case 5:On(r,s,n),n&&i===null&&a&4&&l0(s),oo(s,s.return);break;case 12:On(r,s,n);break;case 31:On(r,s,n),n&&a&4&&m0(r,s);break;case 13:On(r,s,n),n&&a&4&&p0(r,s);break;case 22:s.memoizedState===null&&On(r,s,n),oo(s,s.return);break;case 30:break;default:On(r,s,n)}e=e.sibling}}function Hm(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Wo(n))}function qm(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wo(t))}function rn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_0(t,e,n,i),e=e.sibling}function _0(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:rn(t,e,n,i),r&2048&&el(9,e);break;case 1:rn(t,e,n,i);break;case 3:rn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wo(t)));break;case 12:if(r&2048){rn(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){ye(e,e.return,u)}}else rn(t,e,n,i);break;case 31:rn(t,e,n,i);break;case 13:rn(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?rn(t,e,n,i):lo(t,e):s._visibility&2?rn(t,e,n,i):(s._visibility|=2,is(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&Hm(a,e);break;case 24:rn(t,e,n,i),r&2048&&qm(e.alternate,e);break;default:rn(t,e,n,i)}}function is(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:is(s,a,l,u,r),el(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?is(s,a,l,u,r):lo(s,a):(f._visibility|=2,is(s,a,l,u,r)),r&&c&2048&&Hm(a.alternate,a);break;case 24:is(s,a,l,u,r),r&&c&2048&&qm(a.alternate,a);break;default:is(s,a,l,u,r)}e=e.sibling}}function lo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:lo(n,i),r&2048&&Hm(i.alternate,i);break;case 24:lo(n,i),r&2048&&qm(i.alternate,i);break;default:lo(n,i)}e=e.sibling}}var Ga=8192;function ts(t,e,n){if(t.subtreeFlags&Ga)for(t=t.child;t!==null;)v0(t,e,n),t=t.sibling}function v0(t,e,n){switch(t.tag){case 26:ts(t,e,n),t.flags&Ga&&t.memoizedState!==null&&cC(n,sn,t.memoizedState,t.memoizedProps);break;case 5:ts(t,e,n);break;case 3:case 4:var i=sn;sn=Ju(t.stateNode.containerInfo),ts(t,e,n),sn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ga,Ga=16777216,ts(t,e,n),Ga=i):ts(t,e,n));break;default:ts(t,e,n)}}function E0(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Pa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ze=i,S0(i,t)}E0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T0(t),t=t.sibling}function T0(t){switch(t.tag){case 0:case 11:case 15:Pa(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:Pa(t);break;case 12:Pa(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,cu(t)):Pa(t);break;default:Pa(t)}}function cu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ze=i,S0(i,t)}E0(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ji(8,e,e.return),cu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,cu(e));break;default:cu(e)}t=t.sibling}}function S0(t,e){for(;Ze!==null;){var n=Ze;switch(n.tag){case 0:case 11:case 15:Ji(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Wo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ze=i;else e:for(n=t;Ze!==null;){i=Ze;var r=i.sibling,s=i.return;if(f0(i),i===n){Ze=null;break e}if(r!==null){r.return=s,Ze=r;break e}Ze=s}}}var wR={getCacheForType:function(t){var e=lt(qe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return lt(qe).controller.signal}},RR=typeof WeakMap=="function"?WeakMap:Map,fe=0,Te=null,se=null,ue=0,ge=0,Dt=null,xi=!1,na=!1,Fm=!1,Jn=0,ke=0,Wi=0,Nr=0,Gm=0,Vt=0,Us=0,uo=null,At=null,fd=!1,Lc=0,b0=0,Fu=1/0,Gu=null,Ui=null,Ye=0,zi=null,zs=null,qn=0,dd=0,md=null,A0=null,co=0,pd=null;function jt(){return fe&2&&ue!==0?ue&-ue:$.T!==null?Ym():ME()}function w0(){if(Vt===0)if(!(ue&536870912)||ce){var t=Ml;Ml<<=1,!(Ml&3932160)&&(Ml=262144),Vt=t}else Vt=536870912;return t=zt.current,t!==null&&(t.flags|=32),Vt}function Ct(t,e,n){(t===Te&&(ge===2||ge===9)||t.cancelPendingCommit!==null)&&(Bs(t,0),Di(t,ue,Vt,!1)),$o(t,n),(!(fe&2)||t!==Te)&&(t===Te&&(!(fe&2)&&(Nr|=n),ke===4&&Di(t,ue,Vt,!1)),Cn(t))}function R0(t,e,n){if(fe&6)throw Error(P(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Qo(t,e),r=i?NR(t,e):rf(t,e,!0),s=i;do{if(r===0){na&&!i&&Di(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!CR(n)){r=rf(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=uo;var u=l.current.memoizedState.isDehydrated;if(u&&(Bs(l,a).flags|=256),a=rf(l,a,!1),a!==2){if(Fm&&!u){l.errorRecoveryDisabledLanes|=s,Nr|=s,r=4;break e}s=At,At=r,s!==null&&(At===null?At=s:At.push.apply(At,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Bs(t,0),Di(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((e&4194048)!==e)break;case 6:Di(i,e,Vt,!xi);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(P(329))}if((e&62914560)===e&&(r=Lc+300-kt(),10<r)){if(Di(i,e,Vt,!xi),Rc(i,0,!0)!==0)break e;qn=e,i.timeoutHandle=K0(Xy.bind(null,i,n,At,Gu,fd,e,Vt,Nr,Us,xi,s,"Throttled",-0,0),r);break e}Xy(i,n,At,Gu,fd,e,Vt,Nr,Us,xi,s,null,-0,0)}}break}while(!0);Cn(t)}function Xy(t,e,n,i,r,s,a,l,u,c,f,p,g,y){if(t.timeoutHandle=-1,p=e.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},v0(e,s,p);var I=(s&62914560)===s?Lc-kt():(s&4194048)===s?b0-kt():0;if(I=hC(p,I),I!==null){qn=s,t.cancelPendingCommit=I(Wy.bind(null,t,e,s,n,i,r,a,l,u,f,p,null,g,y)),Di(t,s,a,!c);return}}Wy(t,e,s,n,i,r,a,l,u)}function CR(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ut(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e,n,i){e&=~Gm,e&=~Nr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-Lt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&xE(t,n,e)}function jc(){return fe&6?!0:(tl(0),!1)}function Km(){if(se!==null){if(ge===0)var t=se.return;else t=se,jn=Gr=null,Dm(t),ws=null,Ro=0,t=se;for(;t!==null;)s0(t.alternate,t),t=t.return;se=null}}function Bs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,YR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),qn=0,Km(),Te=t,se=n=Bn(t.current,null),ue=e,ge=0,Dt=null,xi=!1,na=Qo(t,e),Fm=!1,Us=Vt=Gm=Nr=Wi=ke=0,At=uo=null,fd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-Lt(i),s=1<<r;e|=t[r],i&=~s}return Jn=e,xc(),n}function C0(t,e){ne=null,$.H=Io,e===ta||e===Oc?(e=Iy(),ge=3):e===Am?(e=Iy(),ge=4):ge=e===zm?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Dt=e,se===null&&(ke=1,Bu(t,Qt(e,t.current)))}function I0(){var t=zt.current;return t===null?!0:(ue&4194048)===ue?Wt===null:(ue&62914560)===ue||ue&536870912?t===Wt:!1}function N0(){var t=$.H;return $.H=Io,t===null?Io:t}function x0(){var t=$.A;return $.A=wR,t}function Ku(){ke=4,xi||(ue&4194048)!==ue&&zt.current!==null||(na=!0),!(Wi&134217727)&&!(Nr&134217727)||Te===null||Di(Te,ue,Vt,!1)}function rf(t,e,n){var i=fe;fe|=2;var r=N0(),s=x0();(Te!==t||ue!==e)&&(Gu=null,Bs(t,e)),e=!1;var a=ke;e:do try{if(ge!==0&&se!==null){var l=se,u=Dt;switch(ge){case 8:Km(),a=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(e=!0);var c=ge;if(ge=0,Dt=null,Es(t,l,u,c),n&&na){a=0;break e}break;default:c=ge,ge=0,Dt=null,Es(t,l,u,c)}}IR(),a=ke;break}catch(f){C0(t,f)}while(!0);return e&&t.shellSuspendCounter++,jn=Gr=null,fe=i,$.H=r,$.A=s,se===null&&(Te=null,ue=0,xc()),a}function IR(){for(;se!==null;)D0(se)}function NR(t,e){var n=fe;fe|=2;var i=N0(),r=x0();Te!==t||ue!==e?(Gu=null,Fu=kt()+500,Bs(t,e)):na=Qo(t,e);e:do try{if(ge!==0&&se!==null){e=se;var s=Dt;t:switch(ge){case 1:ge=0,Dt=null,Es(t,e,s,1);break;case 2:case 9:if(Cy(s)){ge=0,Dt=null,Jy(e);break}e=function(){ge!==2&&ge!==9||Te!==t||(ge=7),Cn(t)},s.then(e,e);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:Cy(s)?(ge=0,Dt=null,Jy(e)):(ge=0,Dt=null,Es(t,e,s,7));break;case 5:var a=null;switch(se.tag){case 26:a=se.memoizedState;case 5:case 27:var l=se;if(a?J0(a):l.stateNode.complete){ge=0,Dt=null;var u=l.sibling;if(u!==null)se=u;else{var c=l.return;c!==null?(se=c,Uc(c)):se=null}break t}}ge=0,Dt=null,Es(t,e,s,5);break;case 6:ge=0,Dt=null,Es(t,e,s,6);break;case 8:Km(),ke=6;break e;default:throw Error(P(462))}}xR();break}catch(f){C0(t,f)}while(!0);return jn=Gr=null,$.H=i,$.A=r,fe=n,se!==null?0:(Te=null,ue=0,xc(),ke)}function xR(){for(;se!==null&&!Zw();)D0(se)}function D0(t){var e=r0(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?Uc(t):se=e}function Jy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Fy(n,e,e.pendingProps,e.type,void 0,ue);break;case 11:e=Fy(n,e,e.pendingProps,e.type.render,e.ref,ue);break;case 5:Dm(e);default:s0(n,e),e=se=sT(e,Jn),e=r0(n,e,Jn)}t.memoizedProps=t.pendingProps,e===null?Uc(t):se=e}function Es(t,e,n,i){jn=Gr=null,Dm(e),ws=null,Ro=0;var r=e.return;try{if(_R(t,r,e,n,ue)){ke=1,Bu(t,Qt(n,t.current)),se=null;return}}catch(s){if(r!==null)throw se=r,s;ke=1,Bu(t,Qt(n,t.current)),se=null;return}e.flags&32768?(ce||i===1?t=!0:na||ue&536870912?t=!1:(xi=t=!0,(i===2||i===9||i===3||i===6)&&(i=zt.current,i!==null&&i.tag===13&&(i.flags|=16384))),O0(e,t)):Uc(e)}function Uc(t){var e=t;do{if(e.flags&32768){O0(e,xi);return}t=e.return;var n=TR(e.alternate,e,Jn);if(n!==null){se=n;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);ke===0&&(ke=5)}function O0(t,e){do{var n=SR(t.alternate,t);if(n!==null){n.flags&=32767,se=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){se=t;return}se=t=n}while(t!==null);ke=6,se=null}function Wy(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do zc();while(Ye!==0);if(fe&6)throw Error(P(327));if(e!==null){if(e===t.current)throw Error(P(177));if(s=e.lanes|e.childLanes,s|=ym,u1(t,n,s,a,l,u),t===Te&&(se=Te=null,ue=0),zs=e,zi=t,qn=n,dd=s,md=r,A0=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,VR(xu,function(){return L0(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=$.T,$.T=null,r=de.p,de.p=2,a=fe,fe|=4;try{bR(t,e,n)}finally{fe=a,de.p=r,$.T=i}}Ye=1,M0(),V0(),k0()}}function M0(){if(Ye===1){Ye=0;var t=zi,e=zs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=$.T,$.T=null;var i=de.p;de.p=2;var r=fe;fe|=4;try{g0(e,t);var s=vd,a=JE(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&XE(l.ownerDocument.documentElement,l)){if(u!==null&&gm(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var p=l.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var y=g.getSelection(),I=l.textContent.length,x=Math.min(u.start,I),M=u.end===void 0?x:Math.min(u.end,I);!y.extend&&x>M&&(a=M,M=x,x=a);var T=Ey(l,x),v=Ey(l,M);if(T&&v&&(y.rangeCount!==1||y.anchorNode!==T.node||y.anchorOffset!==T.offset||y.focusNode!==v.node||y.focusOffset!==v.offset)){var b=p.createRange();b.setStart(T.node,T.offset),y.removeAllRanges(),x>M?(y.addRange(b),y.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),y.addRange(b))}}}}for(p=[],y=l;y=y.parentNode;)y.nodeType===1&&p.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var D=p[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}ec=!!_d,vd=_d=null}finally{fe=r,de.p=i,$.T=n}}t.current=e,Ye=2}}function V0(){if(Ye===2){Ye=0;var t=zi,e=zs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=$.T,$.T=null;var i=de.p;de.p=2;var r=fe;fe|=4;try{h0(t,e.alternate,e)}finally{fe=r,de.p=i,$.T=n}}Ye=3}}function k0(){if(Ye===4||Ye===3){Ye=0,e1();var t=zi,e=zs,n=qn,i=A0;e.subtreeFlags&10256||e.flags&10256?Ye=5:(Ye=0,zs=zi=null,P0(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Ui=null),um(n),e=e.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Yo,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=$.T,r=de.p,de.p=2,$.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{$.T=e,de.p=r}}qn&3&&zc(),Cn(t),r=t.pendingLanes,n&261930&&r&42?t===pd?co++:(co=0,pd=t):co=0,tl(0)}}function P0(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Wo(e)))}function zc(){return M0(),V0(),k0(),L0()}function L0(){if(Ye!==5)return!1;var t=zi,e=dd;dd=0;var n=um(qn),i=$.T,r=de.p;try{de.p=32>n?32:n,$.T=null,n=md,md=null;var s=zi,a=qn;if(Ye=0,zs=zi=null,qn=0,fe&6)throw Error(P(331));var l=fe;if(fe|=4,T0(s.current),_0(s,s.current,a,n),fe=l,tl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Yo,s)}catch{}return!0}finally{de.p=r,$.T=i,P0(t,e)}}function Zy(t,e,n){e=Qt(n,e),e=ld(t.stateNode,e,2),t=ji(t,e,2),t!==null&&($o(t,2),Cn(t))}function ye(t,e,n){if(t.tag===3)Zy(t,t,n);else for(;e!==null;){if(e.tag===3){Zy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ui===null||!Ui.has(i))){t=Qt(n,t),n=WT(2),i=ji(e,n,2),i!==null&&(ZT(n,i,e,t),$o(i,2),Cn(i));break}}e=e.return}}function sf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new RR;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(Fm=!0,r.add(n),t=DR.bind(null,t,e,n),e.then(t,t))}function DR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Te===t&&(ue&n)===n&&(ke===4||ke===3&&(ue&62914560)===ue&&300>kt()-Lc?!(fe&2)&&Bs(t,0):Gm|=n,Us===ue&&(Us=0)),Cn(t)}function j0(t,e){e===0&&(e=NE()),t=Fr(t,e),t!==null&&($o(t,e),Cn(t))}function OR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),j0(t,n)}function MR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(e),j0(t,n)}function VR(t,e){return om(t,e)}var Yu=null,rs=null,gd=!1,Qu=!1,af=!1,Oi=0;function Cn(t){t!==rs&&t.next===null&&(rs===null?Yu=rs=t:rs=rs.next=t),Qu=!0,gd||(gd=!0,PR())}function tl(t,e){if(!af&&Qu){af=!0;do for(var n=!1,i=Yu;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Lt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,e_(i,s))}else s=ue,s=Rc(i,i===Te?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Qo(i,s)||(n=!0,e_(i,s));i=i.next}while(n);af=!1}}function kR(){U0()}function U0(){Qu=gd=!1;var t=0;Oi!==0&&KR()&&(t=Oi);for(var e=kt(),n=null,i=Yu;i!==null;){var r=i.next,s=z0(i,e);s===0?(i.next=null,n===null?Yu=r:n.next=r,r===null&&(rs=n)):(n=i,(t!==0||s&3)&&(Qu=!0)),i=r}Ye!==0&&Ye!==5||tl(t),Oi!==0&&(Oi=0)}function z0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Lt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=l1(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=Te,n=ue,n=Rc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ge===2||ge===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Mh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Qo(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Mh(i),um(n)){case 2:case 8:n=CE;break;case 32:n=xu;break;case 268435456:n=IE;break;default:n=xu}return i=B0.bind(null,t),n=om(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Mh(i),t.callbackPriority=2,t.callbackNode=null,2}function B0(t,e){if(Ye!==0&&Ye!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(zc()&&t.callbackNode!==n)return null;var i=ue;return i=Rc(t,t===Te?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(R0(t,i,e),z0(t,kt()),t.callbackNode!=null&&t.callbackNode===n?B0.bind(null,t):null)}function e_(t,e){if(zc())return null;R0(t,e,!0)}function PR(){QR(function(){fe&6?om(RE,kR):U0()})}function Ym(){if(Oi===0){var t=Ps;t===0&&(t=Ol,Ol<<=1,!(Ol&261888)&&(Ol=256)),Oi=t}return Oi}function t_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:tu(""+t)}function n_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function LR(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=t_((r[It]||null).action),a=i.submitter;a&&(e=(e=a[It]||null)?t_(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new Cc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Oi!==0){var u=a?n_(r,a):new FormData(r);ad(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?n_(r,a):new FormData(r),ad(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var of=0;of<Qf.length;of++){var lf=Qf[of],jR=lf.toLowerCase(),UR=lf[0].toUpperCase()+lf.slice(1);cn(jR,"on"+UR)}cn(ZE,"onAnimationEnd");cn(eT,"onAnimationIteration");cn(tT,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(tR,"onTransitionRun");cn(nR,"onTransitionStart");cn(iR,"onTransitionCancel");cn(nT,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function H0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Ou(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Ou(f)}r.currentTarget=null,s=u}}}}function re(t,e){var n=e[zf];n===void 0&&(n=e[zf]=new Set);var i=t+"__bubble";n.has(i)||(q0(e,t,2,!1),n.add(i))}function uf(t,e,n){var i=0;e&&(i|=4),q0(n,t,i,e)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Qm(t){if(!t[Hl]){t[Hl]=!0,VE.forEach(function(n){n!=="selectionchange"&&(zR.has(n)||uf(n,!1,t),uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hl]||(e[Hl]=!0,uf("selectionchange",!1,e))}}function q0(t,e,n,i){switch(nS(e)){case 2:var r=mC;break;case 8:r=pC;break;default:r=Wm}n=r.bind(null,e,n,t),r=void 0,!Gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function cf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=hs(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}HE(function(){var c=s,f=fm(n),p=[];e:{var g=iT.get(t);if(g!==void 0){var y=Cc,I=t;switch(t){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":y=M1;break;case"focusin":I="focus",y=jh;break;case"focusout":I="blur",y=jh;break;case"beforeblur":case"afterblur":y=jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=T1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=P1;break;case ZE:case eT:case tT:y=A1;break;case nT:y=j1;break;case"scroll":case"scrollend":y=v1;break;case"wheel":y=z1;break;case"copy":case"cut":case"paste":y=R1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=fy;break;case"toggle":case"beforetoggle":y=H1}var x=(e&4)!==0,M=!x&&(t==="scroll"||t==="scrollend"),T=x?g!==null?g+"Capture":null:g;x=[];for(var v=c,b;v!==null;){var D=v;if(b=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||b===null||T===null||(D=To(v,T),D!=null&&x.push(xo(v,D,b))),M)break;v=v.return}0<x.length&&(g=new y(g,I,null,n,f),p.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==Ff&&(I=n.relatedTarget||n.fromElement)&&(hs(I)||I[Ws]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(I=n.relatedTarget||n.toElement,y=c,I=I?hs(I):null,I!==null&&(M=Ko(I),x=I.tag,I!==M||x!==5&&x!==27&&x!==6)&&(I=null)):(y=null,I=c),y!==I)){if(x=cy,D="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=fy,D="onPointerLeave",T="onPointerEnter",v="pointer"),M=y==null?g:qa(y),b=I==null?g:qa(I),g=new x(D,v+"leave",y,n,f),g.target=M,g.relatedTarget=b,D=null,hs(f)===c&&(x=new x(T,v+"enter",I,n,f),x.target=b,x.relatedTarget=M,D=x),M=D,y&&I)t:{for(x=BR,T=y,v=I,b=0,D=T;D;D=x(D))b++;D=0;for(var U=v;U;U=x(U))D++;for(;0<b-D;)T=x(T),b--;for(;0<D-b;)v=x(v),D--;for(;b--;){if(T===v||v!==null&&T===v.alternate){x=T;break t}T=x(T),v=x(v)}x=null}else x=null;y!==null&&i_(p,g,y,x,!1),I!==null&&M!==null&&i_(p,M,I,x,!0)}}e:{if(g=c?qa(c):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var H=gy;else if(py(g))if(QE)H=W1;else{H=X1;var w=$1}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&hm(c.elementType)&&(H=gy):H=J1;if(H&&(H=H(t,c))){YE(p,H,n,f);break e}w&&w(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&qf(g,"number",g.value)}switch(w=c?qa(c):window,t){case"focusin":(py(w)||w.contentEditable==="true")&&(ms=w,Kf=c,to=null);break;case"focusout":to=Kf=ms=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,Ty(p,n,f);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":Ty(p,n,f)}var E;if(pm)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ds?GE(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(FE&&n.locale!=="ko"&&(ds||A!=="onCompositionStart"?A==="onCompositionEnd"&&ds&&(E=qE()):(Ni=f,dm="value"in Ni?Ni.value:Ni.textContent,ds=!0)),w=$u(c,A),0<w.length&&(A=new hy(A,t,null,n,f),p.push({event:A,listeners:w}),E?A.data=E:(E=KE(n),E!==null&&(A.data=E)))),(E=F1?G1(t,n):K1(t,n))&&(A=$u(c,"onBeforeInput"),0<A.length&&(w=new hy("onBeforeInput","beforeinput",null,n,f),p.push({event:w,listeners:A}),w.data=E)),LR(p,t,c,n,f)}H0(p,e)})}function xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $u(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=To(t,n),r!=null&&i.unshift(xo(t,r,s)),r=To(t,e),r!=null&&i.push(xo(t,r,s))),t.tag===3)return i;t=t.return}return[]}function BR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=To(n,s),c!=null&&a.unshift(xo(n,c,u))):r||(c=To(n,s),c!=null&&a.push(xo(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var HR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace(HR,`
`).replace(qR,"")}function F0(t,e){return e=r_(e),r_(t)===e}function _e(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||ks(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&ks(t,""+i);break;case"className":kl(t,"class",i);break;case"tabIndex":kl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(t,n,i);break;case"style":BE(t,i,s);break;case"data":if(e!=="object"){kl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=tu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&_e(t,e,"name",r.name,r,null),_e(t,e,"formEncType",r.formEncType,r,null),_e(t,e,"formMethod",r.formMethod,r,null),_e(t,e,"formTarget",r.formTarget,r,null)):(_e(t,e,"encType",r.encType,r,null),_e(t,e,"method",r.method,r,null),_e(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=tu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Ln);break;case"onScroll":i!=null&&re("scroll",t);break;case"onScrollEnd":i!=null&&re("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=tu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":re("beforetoggle",t),re("toggle",t),eu(t,"popover",i);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":eu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=y1.get(n)||n,eu(t,n,i))}}function yd(t,e,n,i,r,s){switch(n){case"style":BE(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ks(t,i):(typeof i=="number"||typeof i=="bigint")&&ks(t,""+i);break;case"onScroll":i!=null&&re("scroll",t);break;case"onScrollEnd":i!=null&&re("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kE.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[It]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):eu(t,n,i)}}}function ut(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",t),re("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:_e(t,e,s,a,n,null)}}r&&_e(t,e,"srcSet",n.srcSet,n,null),i&&_e(t,e,"src",n.src,n,null);return;case"input":re("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(P(137,e));break;default:_e(t,e,i,f,n,null)}}jE(t,s,l,u,c,a,r,!1);return;case"select":re("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:_e(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?Ss(t,!!i,e,!1):n!=null&&Ss(t,!!i,n,!0);return;case"textarea":re("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:_e(t,e,a,l,n,null)}zE(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:_e(t,e,u,i,n,null)}return;case"dialog":re("beforetoggle",t),re("toggle",t),re("cancel",t),re("close",t);break;case"iframe":case"object":re("load",t);break;case"video":case"audio":for(i=0;i<No.length;i++)re(No[i],t);break;case"image":re("error",t),re("load",t);break;case"details":re("toggle",t);break;case"embed":case"source":case"link":re("error",t),re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:_e(t,e,c,i,n,null)}return;default:if(hm(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&yd(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&_e(t,e,l,i,n,null))}function FR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(y in n){var p=n[y];if(n.hasOwnProperty(y)&&p!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(y)||_e(t,e,y,null,i,p)}}for(var g in i){var y=i[g];if(p=n[g],i.hasOwnProperty(g)&&(y!=null||p!=null))switch(g){case"type":s=y;break;case"name":r=y;break;case"checked":c=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(P(137,e));break;default:y!==p&&_e(t,e,g,y,i,p)}}Hf(t,a,l,u,c,f,s,r);return;case"select":y=a=l=g=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(s)||_e(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":g=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&_e(t,e,r,s,i,u)}e=l,n=a,i=y,g!=null?Ss(t,!!n,g,!1):!!i!=!!n&&(e!=null?Ss(t,!!n,e,!0):Ss(t,!!n,n?[]:"",!1));return;case"textarea":y=g=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:_e(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":g=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&_e(t,e,a,r,i,s)}UE(t,g,y);return;case"option":for(var I in n)if(g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I))switch(I){case"selected":t.selected=!1;break;default:_e(t,e,I,null,i,g)}for(u in i)if(g=i[u],y=n[u],i.hasOwnProperty(u)&&g!==y&&(g!=null||y!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:_e(t,e,u,g,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)g=n[x],n.hasOwnProperty(x)&&g!=null&&!i.hasOwnProperty(x)&&_e(t,e,x,null,i,g);for(c in i)if(g=i[c],y=n[c],i.hasOwnProperty(c)&&g!==y&&(g!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(P(137,e));break;default:_e(t,e,c,g,i,y)}return;default:if(hm(e)){for(var M in n)g=n[M],n.hasOwnProperty(M)&&g!==void 0&&!i.hasOwnProperty(M)&&yd(t,e,M,void 0,i,g);for(f in i)g=i[f],y=n[f],!i.hasOwnProperty(f)||g===y||g===void 0&&y===void 0||yd(t,e,f,g,i,y);return}}for(var T in n)g=n[T],n.hasOwnProperty(T)&&g!=null&&!i.hasOwnProperty(T)&&_e(t,e,T,null,i,g);for(p in i)g=i[p],y=n[p],!i.hasOwnProperty(p)||g===y||g==null&&y==null||_e(t,e,p,g,i,y)}function s_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&s_(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,p=u.initiatorType;f&&s_(p)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _d=null,vd=null;function Xu(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ed(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hf=null;function KR(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,YR=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch($R)}:K0;function $R(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function l_(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),qs(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ho(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,ho(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Xo]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&ho(t.ownerDocument.body);n=r}while(n);qs(e)}function u_(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Td(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Td(n),cm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function XR(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Xo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Zt(t.nextSibling),t===null)break}return null}function JR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zt(t.nextSibling),t===null))return null;return t}function Y0(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Zt(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function WR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ad=null;function c_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Zt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function h_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Q0(t,e,n){switch(e=Xu(n),t){case"html":if(t=e.documentElement,!t)throw Error(P(452));return t;case"head":if(t=e.head,!t)throw Error(P(453));return t;case"body":if(t=e.body,!t)throw Error(P(454));return t;default:throw Error(P(451))}}function ho(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);cm(t)}var en=new Map,f_=new Set;function Ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ri=de.d;de.d={f:ZR,r:eC,D:tC,C:nC,L:iC,m:rC,X:aC,S:sC,M:oC};function ZR(){var t=ri.f(),e=jc();return t||e}function eC(t){var e=Zs(t);e!==null&&e.tag===5&&e.type==="form"?BT(e):ri.r(t)}var ia=typeof document>"u"?null:document;function $0(t,e,n){var i=ia;if(i&&typeof e=="string"&&e){var r=Yt(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),f_.has(r)||(f_.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),ut(e,"link",t),et(e),i.head.appendChild(e)))}}function tC(t){ri.D(t),$0("dns-prefetch",t,null)}function nC(t,e){ri.C(t,e),$0("preconnect",t,e)}function iC(t,e,n){ri.L(t,e,n);var i=ia;if(i&&t&&e){var r='link[rel="preload"][as="'+Yt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Yt(n.imageSizes)+'"]')):r+='[href="'+Yt(t)+'"]';var s=r;switch(e){case"style":s=Hs(t);break;case"script":s=ra(t)}en.has(s)||(t=Ie({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),en.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(nl(s))||e==="script"&&i.querySelector(il(s))||(e=i.createElement("link"),ut(e,"link",t),et(e),i.head.appendChild(e)))}}function rC(t,e){ri.m(t,e);var n=ia;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Yt(i)+'"][href="'+Yt(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ra(t)}if(!en.has(s)&&(t=Ie({rel:"modulepreload",href:t},e),en.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(il(s)))return}i=n.createElement("link"),ut(i,"link",t),et(i),n.head.appendChild(i)}}}function sC(t,e,n){ri.S(t,e,n);var i=ia;if(i&&t){var r=Ts(i).hoistableStyles,s=Hs(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(nl(s)))l.loading=5;else{t=Ie({rel:"stylesheet",href:t,"data-precedence":e},n),(n=en.get(s))&&$m(t,n);var u=a=i.createElement("link");et(u),ut(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,hu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function aC(t,e){ri.X(t,e);var n=ia;if(n&&t){var i=Ts(n).hoistableScripts,r=ra(t),s=i.get(r);s||(s=n.querySelector(il(r)),s||(t=Ie({src:t,async:!0},e),(e=en.get(r))&&Xm(t,e),s=n.createElement("script"),et(s),ut(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function oC(t,e){ri.M(t,e);var n=ia;if(n&&t){var i=Ts(n).hoistableScripts,r=ra(t),s=i.get(r);s||(s=n.querySelector(il(r)),s||(t=Ie({src:t,async:!0,type:"module"},e),(e=en.get(r))&&Xm(t,e),s=n.createElement("script"),et(s),ut(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function d_(t,e,n,i){var r=(r=ki.current)?Ju(r):null;if(!r)throw Error(P(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Hs(n.href),n=Ts(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Hs(n.href);var s=Ts(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(nl(t)))&&!s._p&&(a.instance=s,a.state.loading=5),en.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},en.set(t,n),s||lC(r,t,n,a.state))),e&&i===null)throw Error(P(528,""));return a}if(e&&i!==null)throw Error(P(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ra(n),n=Ts(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,t))}}function Hs(t){return'href="'+Yt(t)+'"'}function nl(t){return'link[rel="stylesheet"]['+t+"]"}function X0(t){return Ie({},t,{"data-precedence":t.precedence,precedence:null})}function lC(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ut(e,"link",n),et(e),t.head.appendChild(e))}function ra(t){return'[src="'+Yt(t)+'"]'}function il(t){return"script[async]"+t}function m_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Yt(n.href)+'"]');if(i)return e.instance=i,et(i),i;var r=Ie({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),et(i),ut(i,"style",r),hu(i,n.precedence,t),e.instance=i;case"stylesheet":r=Hs(n.href);var s=t.querySelector(nl(r));if(s)return e.state.loading|=4,e.instance=s,et(s),s;i=X0(n),(r=en.get(r))&&$m(i,r),s=(t.ownerDocument||t).createElement("link"),et(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ut(s,"link",i),e.state.loading|=4,hu(s,n.precedence,t),e.instance=s;case"script":return s=ra(n.src),(r=t.querySelector(il(s)))?(e.instance=r,et(r),r):(i=n,(r=en.get(s))&&(i=Ie({},n),Xm(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),et(r),ut(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(P(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,hu(i,n.precedence,t));return e.instance}function hu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function $m(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Xm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var fu=null;function p_(t,e,n){if(fu===null){var i=new Map,r=fu=new Map;r.set(n,i)}else r=fu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[Xo]||s[st]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function g_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function uC(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function J0(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function cC(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Hs(i.href),s=e.querySelector(nl(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Wu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,et(s);return}s=e.ownerDocument||e,i=X0(i),(r=en.get(r))&&$m(i,r),s=s.createElement("link"),et(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ut(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Wu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ff=0;function hC(t,e){return t.stylesheets&&t.count===0&&du(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&du(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&ff===0&&(ff=62500*GR());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&du(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>ff?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)du(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zu=null;function du(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zu=new Map,e.forEach(fC,t),Zu=null,Wu.call(t))}function fC(t,e){if(!(e.state.loading&4)){var n=Zu.get(t);if(n)var i=n.get(null);else{n=new Map,Zu.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Wu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Do={$$typeof:Pn,Provider:null,Consumer:null,_currentValue:wr,_currentValue2:wr,_threadCount:0};function dC(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vh(0),this.hiddenUpdates=Vh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function W0(t,e,n,i,r,s,a,l,u,c,f,p){return t=new dC(t,e,n,a,u,c,f,p,l),e=1,s===!0&&(e|=24),s=Mt(3,null,null,e),t.current=s,s.stateNode=t,e=Sm(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},wm(s),t}function Z0(t){return t?(t=ys,t):ys}function eS(t,e,n,i,r,s){r=Z0(r),i.context===null?i.context=r:i.pendingContext=r,i=Li(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=ji(t,i,e),n!==null&&(Ct(n,t,e),io(n,t,e))}function y_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jm(t,e){y_(t,e),(t=t.alternate)&&y_(t,e)}function tS(t){if(t.tag===13||t.tag===31){var e=Fr(t,67108864);e!==null&&Ct(e,t,67108864),Jm(t,67108864)}}function __(t){if(t.tag===13||t.tag===31){var e=jt();e=lm(e);var n=Fr(t,e);n!==null&&Ct(n,t,e),Jm(t,e)}}var ec=!0;function mC(t,e,n,i){var r=$.T;$.T=null;var s=de.p;try{de.p=2,Wm(t,e,n,i)}finally{de.p=s,$.T=r}}function pC(t,e,n,i){var r=$.T;$.T=null;var s=de.p;try{de.p=8,Wm(t,e,n,i)}finally{de.p=s,$.T=r}}function Wm(t,e,n,i){if(ec){var r=wd(i);if(r===null)cf(t,e,i,tc,n),v_(t,i);else if(yC(r,t,e,n,i))i.stopPropagation();else if(v_(t,i),e&4&&-1<gC.indexOf(t)){for(;r!==null;){var s=Zs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=vr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Lt(a);l.entanglements[1]|=u,a&=~u}Cn(s),!(fe&6)&&(Fu=kt()+500,tl(0))}}break;case 31:case 13:l=Fr(s,2),l!==null&&Ct(l,s,2),jc(),Jm(s,2)}if(s=wd(i),s===null&&cf(t,e,i,tc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else cf(t,e,i,null,n)}}function wd(t){return t=fm(t),Zm(t)}var tc=null;function Zm(t){if(tc=null,t=hs(t),t!==null){var e=Ko(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=TE(e),t!==null)return t;t=null}else if(n===31){if(t=SE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return tc=t,null}function nS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(t1()){case RE:return 2;case CE:return 8;case xu:case n1:return 32;case IE:return 268435456;default:return 32}default:return 32}}var Rd=!1,Bi=null,Hi=null,qi=null,Oo=new Map,Mo=new Map,Ai=[],gC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(t,e){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Oo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(e.pointerId)}}function La(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Zs(e),e!==null&&tS(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function yC(t,e,n,i,r){switch(e){case"focusin":return Bi=La(Bi,t,e,n,i,r),!0;case"dragenter":return Hi=La(Hi,t,e,n,i,r),!0;case"mouseover":return qi=La(qi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Oo.set(s,La(Oo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Mo.set(s,La(Mo.get(s)||null,t,e,n,i,r)),!0}return!1}function iS(t){var e=hs(t.target);if(e!==null){var n=Ko(e);if(n!==null){if(e=n.tag,e===13){if(e=TE(n),e!==null){t.blockedOn=e,iy(t.priority,function(){__(n)});return}}else if(e===31){if(e=SE(n),e!==null){t.blockedOn=e,iy(t.priority,function(){__(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ff=i,n.target.dispatchEvent(i),Ff=null}else return e=Zs(n),e!==null&&tS(e),t.blockedOn=n,!1;e.shift()}return!0}function E_(t,e,n){mu(t)&&n.delete(e)}function _C(){Rd=!1,Bi!==null&&mu(Bi)&&(Bi=null),Hi!==null&&mu(Hi)&&(Hi=null),qi!==null&&mu(qi)&&(qi=null),Oo.forEach(E_),Mo.forEach(E_)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,Rd||(Rd=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,_C)))}var Fl=null;function T_(t){Fl!==t&&(Fl=t,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,function(){Fl===t&&(Fl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(Zm(i||n)===null)continue;break}var s=Zs(n);s!==null&&(t.splice(e,3),e-=3,ad(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function qs(t){function e(u){return ql(u,t)}Bi!==null&&ql(Bi,t),Hi!==null&&ql(Hi,t),qi!==null&&ql(qi,t),Oo.forEach(e),Mo.forEach(e);for(var n=0;n<Ai.length;n++){var i=Ai[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)iS(n),n.blockedOn===null&&Ai.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[It]||null;if(typeof s=="function")a||T_(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[It]||null)l=a.formAction;else if(Zm(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),T_(n)}}}function rS(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function ep(t){this._internalRoot=t}Bc.prototype.render=ep.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));var n=e.current,i=jt();eS(n,i,t,e,null,null)};Bc.prototype.unmount=ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eS(t.current,2,null,t,null,null),jc(),e[Ws]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ME();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&iS(t)}};var S_=vE.version;if(S_!=="19.2.4")throw Error(P(527,S_,"19.2.4"));de.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Qw(e),t=t!==null?bE(t):null,t=t===null?null:t.stateNode,t};var vC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{Yo=Gl.inject(vC),Pt=Gl}catch{}}Ac.createRoot=function(t,e){if(!EE(t))throw Error(P(299));var n=!1,i="",r=$T,s=XT,a=JT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=W0(t,1,!1,null,null,n,i,null,r,s,a,rS),t[Ws]=e.current,Qm(t),new ep(e)};Ac.hydrateRoot=function(t,e,n){if(!EE(t))throw Error(P(299));var i=!1,r="",s=$T,a=XT,l=JT,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=W0(t,1,!0,e,n??null,i,r,u,s,a,l,rS),e.context=Z0(null),n=e.current,i=jt(),i=lm(i),r=Li(i),r.callback=null,ji(n,r,i),n=i,e.current.lanes=n,$o(e,n),Cn(e),t[Ws]=e.current,Qm(t),new Bc(e)};Ac.version="19.2.4";function sS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sS)}catch(t){console.error(t)}}sS(),dE.exports=Ac;var EC=dE.exports;const TC=iE(EC);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b_="popstate";function SC(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return Cd("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Vo(r)}return AC(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bC(){return Math.random().toString(36).substring(2,10)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function Cd(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:n,key:e&&e.key||i||bC()}}function Vo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function AC(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function p(){l="POP";let M=f(),T=M==null?null:M-c;c=M,u&&u({action:l,location:x.location,delta:T})}function g(M,T){l="PUSH";let v=Cd(x.location,M,T);c=f()+1;let b=A_(v,c),D=x.createHref(v);try{a.pushState(b,"",D)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(D)}s&&u&&u({action:l,location:x.location,delta:1})}function y(M,T){l="REPLACE";let v=Cd(x.location,M,T);c=f();let b=A_(v,c),D=x.createHref(v);a.replaceState(b,"",D),s&&u&&u({action:l,location:x.location,delta:0})}function I(M){return wC(M)}let x={get action(){return l},get location(){return t(r,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(b_,p),u=M,()=>{r.removeEventListener(b_,p),u=null}},createHref(M){return e(r,M)},createURL:I,encodeLocation(M){let T=I(M);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:y,go(M){return a.go(M)}};return x}function wC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),De(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Vo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function aS(t,e,n="/"){return RC(t,e,n,!1)}function RC(t,e,n,i){let r=typeof e=="string"?sa(e):e,s=Wn(r.pathname||"/",n);if(s==null)return null;let a=oS(t);CC(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=jC(s);l=PC(a[u],c,i)}return l}function oS(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;De(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let p=Fn([i,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(De(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),oS(a.children,e,g,p,u)),!(a.path==null&&!a.index)&&e.push({path:p,score:VC(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let c of lS(a.path))s(a,l,!0,c)}),e}function lS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=lS(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function CC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var IC=/^:[\w-]+$/,NC=3,xC=2,DC=1,OC=10,MC=-2,w_=t=>t==="*";function VC(t,e){let n=t.split("/"),i=n.length;return n.some(w_)&&(i+=MC),e&&(i+=xC),n.filter(r=>!w_(r)).reduce((r,s)=>r+(IC.test(s)?NC:s===""?DC:OC),i)}function kC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function PC(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=nc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!p&&c&&n&&!i[i.length-1].route.index&&(p=nc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:Fn([s,p.pathname]),pathnameBase:HC(Fn([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Fn([s,p.pathnameBase]))}return a}function nc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=LC(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:p},g)=>{if(f==="*"){let I=l[g]||"";a=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function LC(t,e=!1,n=!0){bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function jC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var UC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function zC(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?sa(t):t,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=R_(n.substring(1),"/"):s=R_(n,e)):s=e,{pathname:s,search:qC(i),hash:FC(r)}}function R_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function df(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uS(t){let e=BC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function cS(t,e,n,i=!1){let r;typeof t=="string"?r=sa(t):(r={...t},De(!r.pathname||!r.pathname.includes("?"),df("?","pathname","search",r)),De(!r.pathname||!r.pathname.includes("#"),df("#","pathname","hash",r)),De(!r.search||!r.search.includes("#"),df("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=zC(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Fn=t=>t.join("/").replace(/\/\/+/g,"/"),HC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,GC=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function KC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function YC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fS(t,e){let n=t;if(typeof n!="string"||!UC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(hS)try{let s=new URL(window.location.href),a=n.startsWith("//")?new URL(s.protocol+n):new URL(n),l=Wn(a.pathname,e);a.origin===s.origin&&l!=null?n=l+a.search+a.hash:r=!0}catch{bn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dS=["POST","PUT","PATCH","DELETE"];new Set(dS);var QC=["GET",...dS];new Set(QC);var aa=O.createContext(null);aa.displayName="DataRouter";var Hc=O.createContext(null);Hc.displayName="DataRouterState";var $C=O.createContext(!1),mS=O.createContext({isTransitioning:!1});mS.displayName="ViewTransition";var XC=O.createContext(new Map);XC.displayName="Fetchers";var JC=O.createContext(null);JC.displayName="Await";var nn=O.createContext(null);nn.displayName="Navigation";var rl=O.createContext(null);rl.displayName="Location";var si=O.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var tp=O.createContext(null);tp.displayName="RouteError";var pS="REACT_ROUTER_ERROR",WC="REDIRECT",ZC="ROUTE_ERROR_RESPONSE";function eI(t){if(t.startsWith(`${pS}:${WC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function tI(t){if(t.startsWith(`${pS}:${ZC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new GC(e.status,e.statusText,e.data)}catch{}}function nI(t,{relative:e}={}){De(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(nn),{hash:r,pathname:s,search:a}=al(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Fn([n,s])),i.createHref({pathname:l,search:a,hash:r})}function sl(){return O.useContext(rl)!=null}function or(){return De(sl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(rl).location}var gS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yS(t){O.useContext(nn).static||O.useLayoutEffect(t)}function np(){let{isDataRoute:t}=O.useContext(si);return t?pI():iI()}function iI(){De(sl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(aa),{basename:e,navigator:n}=O.useContext(nn),{matches:i}=O.useContext(si),{pathname:r}=or(),s=JSON.stringify(uS(i)),a=O.useRef(!1);return yS(()=>{a.current=!0}),O.useCallback((u,c={})=>{if(bn(a.current,gS),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=cS(u,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Fn([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,r,t])}O.createContext(null);function al(t,{relative:e}={}){let{matches:n}=O.useContext(si),{pathname:i}=or(),r=JSON.stringify(uS(n));return O.useMemo(()=>cS(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function rI(t,e){return _S(t,e)}function _S(t,e,n,i,r){var v;De(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(nn),{matches:a}=O.useContext(si),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let b=p&&p.path||"";ES(c,!p||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let g=or(),y;if(e){let b=typeof e=="string"?sa(e):e;De(f==="/"||((v=b.pathname)==null?void 0:v.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${b.pathname}" was given in the \`location\` prop.`),y=b}else y=g;let I=y.pathname||"/",x=I;if(f!=="/"){let b=f.replace(/^\//,"").split("/");x="/"+I.replace(/^\//,"").split("/").slice(b.length).join("/")}let M=aS(t,{pathname:x});bn(p||M!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),bn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=uI(M&&M.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Fn([f,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Fn([f,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),a,n,i,r);return e&&T?O.createElement(rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function sI(){let t=mI(),e=KC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:r},n):null,a)}var aI=O.createElement(sI,null),vS=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=tI(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(si.Provider,{value:this.props.routeContext},O.createElement(tp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(oI,{error:t},e):e}};vS.contextType=$C;var mf=new WeakMap;function oI({children:t,error:e}){let{basename:n}=O.useContext(nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=eI(e.digest);if(i){let r=mf.get(e);if(r)throw r;let s=fS(i.location,n);if(hS&&!mf.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw mf.set(e,a),a}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function lI({routeContext:t,match:e,children:n}){let i=O.useContext(aa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(si.Provider,{value:t},n)}function uI(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);De(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:y}=n,I=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||I){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=n&&i?(f,p)=>{var g,y;i(f,{location:n.location,params:((y=(g=n.matches)==null?void 0:g[0])==null?void 0:y.params)??{},unstable_pattern:YC(n.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,g)=>{let y,I=!1,x=null,M=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||aI,l&&(u<0&&g===0?(ES("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):u===g&&(I=!0,M=p.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,g+1)),v=()=>{let b;return y?b=x:I?b=M:p.route.Component?b=O.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=f,O.createElement(lI,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(vS,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:c}):v()},null)}function ip(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cI(t){let e=O.useContext(aa);return De(e,ip(t)),e}function hI(t){let e=O.useContext(Hc);return De(e,ip(t)),e}function fI(t){let e=O.useContext(si);return De(e,ip(t)),e}function rp(t){let e=fI(t),n=e.matches[e.matches.length-1];return De(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function dI(){return rp("useRouteId")}function mI(){var i;let t=O.useContext(tp),e=hI("useRouteError"),n=rp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function pI(){let{router:t}=cI("useNavigate"),e=rp("useNavigate"),n=O.useRef(!1);return yS(()=>{n.current=!0}),O.useCallback(async(r,s={})=>{bn(n.current,gS),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var C_={};function ES(t,e,n){!e&&!C_[t]&&(C_[t]=!0,bn(!1,n))}O.memo(gI);function gI({routes:t,future:e,state:n,onError:i}){return _S(t,void 0,n,i,e)}function _i(t){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){De(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[l,r,s,a]);typeof n=="string"&&(n=sa(n));let{pathname:c="/",search:f="",hash:p="",state:g=null,key:y="default"}=n,I=O.useMemo(()=>{let x=Wn(c,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:g,key:y},navigationType:i}},[l,c,f,p,g,y,i]);return bn(I!=null,`<Router basename="${l}"> is not able to match the URL "${c}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(nn.Provider,{value:u},O.createElement(rl.Provider,{children:e,value:I}))}function _I({children:t,location:e}){return rI(Id(t),e)}function Id(t,e=[]){let n=[];return O.Children.forEach(t,(i,r)=>{if(!O.isValidElement(i))return;let s=[...e,r];if(i.type===O.Fragment){n.push.apply(n,Id(i.props.children,s));return}De(i.type===_i,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Id(i.props.children,s)),n.push(a)}),n}var pu="get",gu="application/x-www-form-urlencoded";function qc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function vI(t){return qc(t)&&t.tagName.toLowerCase()==="button"}function EI(t){return qc(t)&&t.tagName.toLowerCase()==="form"}function TI(t){return qc(t)&&t.tagName.toLowerCase()==="input"}function SI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bI(t,e){return t.button===0&&(!e||e==="_self")&&!SI(t)}var Kl=null;function AI(){if(Kl===null)try{new FormData(document.createElement("form"),0),Kl=!1}catch{Kl=!0}return Kl}var wI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pf(t){return t!=null&&!wI.has(t)?(bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gu}"`),null):t}function RI(t,e){let n,i,r,s,a;if(EI(t)){let l=t.getAttribute("action");i=l?Wn(l,e):null,n=t.getAttribute("method")||pu,r=pf(t.getAttribute("enctype"))||gu,s=new FormData(t)}else if(vI(t)||TI(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?Wn(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||pu,r=pf(t.getAttribute("formenctype"))||pf(l.getAttribute("enctype"))||gu,s=new FormData(l,t),!AI()){let{name:c,type:f,value:p}=t;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,p)}}else{if(qc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pu,i=null,r=gu,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CI(t,e,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&Wn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function II(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xI(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await II(s,n);return a.links?a.links():[]}return[]}));return VI(i.flat(1).filter(NI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function I_(t,e,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var p;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function DI(t,e,{includeHydrateFallback:n}={}){return OI(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function OI(t){return[...new Set(t)]}function MI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function VI(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(MI(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function TS(){let t=O.useContext(aa);return sp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kI(){let t=O.useContext(Hc);return sp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ap=O.createContext(void 0);ap.displayName="FrameworkContext";function SS(){let t=O.useContext(ap);return sp(t,"You must render this element inside a <HydratedRouter> element"),t}function PI(t,e){let n=O.useContext(ap),[i,r]=O.useState(!1),[s,a]=O.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=e,g=O.useRef(null);O.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let x=T=>{T.forEach(v=>{a(v.isIntersecting)})},M=new IntersectionObserver(x,{threshold:.5});return g.current&&M.observe(g.current),()=>{M.disconnect()}}},[t]),O.useEffect(()=>{if(i){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[i]);let y=()=>{r(!0)},I=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:ja(l,y),onBlur:ja(u,I),onMouseEnter:ja(c,y),onMouseLeave:ja(f,I),onTouchStart:ja(p,y)}]:[!1,g,{}]}function ja(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LI({page:t,...e}){let{router:n}=TS(),i=O.useMemo(()=>aS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(UI,{page:t,matches:i,...e}):null}function jI(t){let{manifest:e,routeModules:n}=SS(),[i,r]=O.useState([]);return O.useEffect(()=>{let s=!1;return xI(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function UI({page:t,matches:e,...n}){let i=or(),{future:r,manifest:s,routeModules:a}=SS(),{basename:l}=TS(),{loaderData:u,matches:c}=kI(),f=O.useMemo(()=>I_(t,e,c,s,i,"data"),[t,e,c,s,i]),p=O.useMemo(()=>I_(t,e,c,s,i,"assets"),[t,e,c,s,i]),g=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,M=!1;if(e.forEach(v=>{var D;let b=s.routes[v.route.id];!b||!b.hasLoader||(!f.some(U=>U.route.id===v.route.id)&&v.route.id in u&&((D=a[v.route.id])!=null&&D.shouldRevalidate)||b.hasClientLoader?M=!0:x.add(v.route.id))}),x.size===0)return[];let T=CI(t,l,r.unstable_trailingSlashAwareDataRequests,"data");return M&&x.size>0&&T.searchParams.set("_routes",e.filter(v=>x.has(v.route.id)).map(v=>v.route.id).join(",")),[T.pathname+T.search]},[l,r.unstable_trailingSlashAwareDataRequests,u,i,s,f,e,t,a]),y=O.useMemo(()=>DI(p,s),[p,s]),I=jI(p);return O.createElement(O.Fragment,null,g.map(x=>O.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>O.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),I.map(({key:x,link:M})=>O.createElement("link",{key:x,nonce:n.nonce,...M,crossOrigin:M.crossOrigin??n.crossOrigin})))}function zI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var BI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BI&&(window.__reactRouterVersion="7.13.0")}catch{}function HI({basename:t,children:e,unstable_useTransitions:n,window:i}){let r=O.useRef();r.current==null&&(r.current=SC({window:i,v5Compat:!0}));let s=r.current,[a,l]=O.useState({action:s.action,location:s.location}),u=O.useCallback(c=>{n===!1?l(c):O.startTransition(()=>l(c))},[n]);return O.useLayoutEffect(()=>s.listen(u),[s,u]),O.createElement(yI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n})}var bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mi=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},I){let{basename:x,unstable_useTransitions:M}=O.useContext(nn),T=typeof c=="string"&&bS.test(c),v=fS(c,x);c=v.to;let b=nI(c,{relative:r}),[D,U,H]=PI(i,y),w=KI(c,{replace:a,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:M});function E(R){e&&e(R),R.defaultPrevented||w(R)}let A=O.createElement("a",{...y,...H,href:v.absoluteURL||b,onClick:v.isExternal||s?e:E,ref:zI(I,U),target:u,"data-discover":!T&&n==="render"?"true":void 0});return D&&!T?O.createElement(O.Fragment,null,A,O.createElement(LI,{page:b})):A});Mi.displayName="Link";var qI=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},f){let p=al(a,{relative:c.relative}),g=or(),y=O.useContext(Hc),{navigator:I,basename:x}=O.useContext(nn),M=y!=null&&JI(p)&&l===!0,T=I.encodeLocation?I.encodeLocation(p).pathname:p.pathname,v=g.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),b=b?b.toLowerCase():null,T=T.toLowerCase()),b&&x&&(b=Wn(b,x)||b);const D=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=v===T||!r&&v.startsWith(T)&&v.charAt(D)==="/",H=b!=null&&(b===T||!r&&b.startsWith(T)&&b.charAt(T.length)==="/"),w={isActive:U,isPending:H,isTransitioning:M},E=U?e:void 0,A;typeof i=="function"?A=i(w):A=[i,U?"active":null,H?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(w):s;return O.createElement(Mi,{...c,"aria-current":E,className:A,ref:f,style:R,to:a,viewTransition:l},typeof u=="function"?u(w):u)});qI.displayName="NavLink";var FI=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=pu,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},I)=>{let{unstable_useTransitions:x}=O.useContext(nn),M=$I(),T=XI(l,{relative:c}),v=a.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&bS.test(l),D=U=>{if(u&&u(U),U.defaultPrevented)return;U.preventDefault();let H=U.nativeEvent.submitter,w=(H==null?void 0:H.getAttribute("formmethod"))||a,E=()=>M(H||U.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:r,state:s,relative:c,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});x&&n!==!1?O.startTransition(()=>E()):E()};return O.createElement("form",{ref:I,method:v,action:T,onSubmit:i?u:D,...y,"data-discover":!b&&t==="render"?"true":void 0})});FI.displayName="Form";function GI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AS(t){let e=O.useContext(aa);return De(e,GI(t)),e}function KI(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let c=np(),f=or(),p=al(t,{relative:s});return O.useCallback(g=>{if(bI(g,e)){g.preventDefault();let y=n!==void 0?n:Vo(f)===Vo(p),I=()=>c(t,{replace:y,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l});u?O.startTransition(()=>I()):I()}},[f,c,p,n,i,e,t,r,s,a,l,u])}var YI=0,QI=()=>`__${String(++YI)}__`;function $I(){let{router:t}=AS("useSubmit"),{basename:e}=O.useContext(nn),n=dI(),i=t.fetch,r=t.navigate;return O.useCallback(async(s,a={})=>{let{action:l,method:u,encType:c,formData:f,body:p}=RI(s,e);if(a.navigate===!1){let g=a.fetcherKey||QI();await i(g,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await r(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,n])}function XI(t,{relative:e}={}){let{basename:n}=O.useContext(nn),i=O.useContext(si);De(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...al(t||".",{relative:e})},a=or();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Fn([n,s.pathname])),Vo(s)}function JI(t,{relative:e}={}){let n=O.useContext(mS);De(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=AS("useViewTransitionState"),r=al(t,{relative:e});if(!n.isTransitioning)return!1;let s=Wn(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Wn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return nc(r.pathname,a)!=null||nc(r.pathname,s)!=null}const WI=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ZI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},RS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,y=c&63;u||(y=64,a||(g=64)),i.push(n[f],n[p],n[g],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||p==null)throw new e2;const g=s<<2|l>>4;if(i.push(g),c!==64){const y=l<<4&240|c>>2;if(i.push(y),p!==64){const I=c<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class e2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t2=function(t){const e=wS(t);return RS.encodeByteArray(e,!0)},ic=function(t){return t2(t).replace(/\./g,"")},CS=function(t){try{return RS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=()=>n2().__FIREBASE_DEFAULTS__,r2=()=>{if(typeof process>"u"||typeof N_>"u")return;const t=N_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CS(t[1]);return e&&JSON.parse(e)},Fc=()=>{try{return WI()||i2()||r2()||s2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IS=t=>{var e,n;return(n=(e=Fc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},a2=t=>{const e=IS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},NS=()=>{var t;return(t=Fc())==null?void 0:t.config},xS=t=>{var e;return(e=Fc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ic(JSON.stringify(n)),ic(JSON.stringify(a)),""].join(".")}const fo={};function u2(){const t={prod:[],emulator:[]};for(const e of Object.keys(fo))fo[e]?t.emulator.push(e):t.prod.push(e);return t}function c2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let x_=!1;function OS(t,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||fo[t]===e||fo[t]||x_)return;fo[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=u2().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{x_=!0,a()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=c2(i),y=n("text"),I=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),M=document.getElementById(x)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const b=g.element;l(b),f(M,x);const D=c();u(v,T),b.append(v,I,M,D),document.body.appendChild(b)}s?(I.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function f2(){var e;const t=(e=Fc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g2(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y2(){return!f2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _2(){try{return typeof indexedDB=="object"}catch{return!1}}function v2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="FirebaseError";class ai extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=E2,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?T2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ai(r,l,i)}}function T2(t,e){return t.replace(S2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const S2=/\{\$([^}]+)}/g;function b2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(D_(s)&&D_(a)){if(!Pr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function D_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ya(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A2(t,e){const n=new w2(t,e);return n.subscribe.bind(n)}class w2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");R2(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=gf),r.error===void 0&&(r.error=gf),r.complete===void 0&&(r.complete=gf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class Lr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new o2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N2(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:I2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I2(t){return t===Sr?void 0:t}function N2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const D2={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},O2=ae.INFO,M2={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},V2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=M2[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class op{constructor(e){this.name=e,this._logLevel=O2,this._logHandler=V2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const k2=(t,e)=>e.some(n=>t instanceof n);let O_,M_;function P2(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L2(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MS=new WeakMap,Nd=new WeakMap,VS=new WeakMap,yf=new WeakMap,lp=new WeakMap;function j2(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Fi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&MS.set(n,t)}).catch(()=>{}),lp.set(e,t),e}function U2(t){if(Nd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Nd.set(t,e)}let xd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z2(t){xd=t(xd)}function B2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_f(this),e,...n);return VS.set(i,e.sort?e.sort():[e]),Fi(i)}:L2().includes(t)?function(...e){return t.apply(_f(this),e),Fi(MS.get(this))}:function(...e){return Fi(t.apply(_f(this),e))}}function H2(t){return typeof t=="function"?B2(t):(t instanceof IDBTransaction&&U2(t),k2(t,P2())?new Proxy(t,xd):t)}function Fi(t){if(t instanceof IDBRequest)return j2(t);if(yf.has(t))return yf.get(t);const e=H2(t);return e!==t&&(yf.set(t,e),lp.set(e,t)),e}const _f=t=>lp.get(t);function q2(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=Fi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Fi(a.result),u.oldVersion,u.newVersion,Fi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const F2=["get","getKey","getAll","getAllKeys","count"],G2=["put","add","delete","clear"],vf=new Map;function V_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vf.get(e))return vf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=G2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||F2.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return vf.set(e,s),s}z2(t=>({...t,get:(e,n,i)=>V_(e,n)||t.get(e,n,i),has:(e,n)=>!!V_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Y2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dd="@firebase/app",k_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new op("@firebase/app"),Q2="@firebase/app-compat",$2="@firebase/analytics-compat",X2="@firebase/analytics",J2="@firebase/app-check-compat",W2="@firebase/app-check",Z2="@firebase/auth",eN="@firebase/auth-compat",tN="@firebase/database",nN="@firebase/data-connect",iN="@firebase/database-compat",rN="@firebase/functions",sN="@firebase/functions-compat",aN="@firebase/installations",oN="@firebase/installations-compat",lN="@firebase/messaging",uN="@firebase/messaging-compat",cN="@firebase/performance",hN="@firebase/performance-compat",fN="@firebase/remote-config",dN="@firebase/remote-config-compat",mN="@firebase/storage",pN="@firebase/storage-compat",gN="@firebase/firestore",yN="@firebase/ai",_N="@firebase/firestore-compat",vN="firebase",EN="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]",TN={[Dd]:"fire-core",[Q2]:"fire-core-compat",[X2]:"fire-analytics",[$2]:"fire-analytics-compat",[W2]:"fire-app-check",[J2]:"fire-app-check-compat",[Z2]:"fire-auth",[eN]:"fire-auth-compat",[tN]:"fire-rtdb",[nN]:"fire-data-connect",[iN]:"fire-rtdb-compat",[rN]:"fire-fn",[sN]:"fire-fn-compat",[aN]:"fire-iid",[oN]:"fire-iid-compat",[lN]:"fire-fcm",[uN]:"fire-fcm-compat",[cN]:"fire-perf",[hN]:"fire-perf-compat",[fN]:"fire-rc",[dN]:"fire-rc-compat",[mN]:"fire-gcs",[pN]:"fire-gcs-compat",[gN]:"fire-fst",[_N]:"fire-fst-compat",[yN]:"fire-vertex","fire-js":"fire-js",[vN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,SN=new Map,Md=new Map;function P_(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(Md.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;Md.set(e,t);for(const n of rc.values())P_(n,t);for(const n of SN.values())P_(n,t);return!0}function up(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new ol("app","Firebase",bN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=EN;function kS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Od,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Gi.create("bad-app-name",{appName:String(r)});if(n||(n=NS()),!n)throw Gi.create("no-options");const s=rc.get(r);if(s){if(Pr(n,s.options)&&Pr(i,s.config))return s;throw Gi.create("duplicate-app",{appName:r})}const a=new x2(r);for(const u of Md.values())a.addComponent(u);const l=new AN(n,i,a);return rc.set(r,l),l}function PS(t=Od){const e=rc.get(t);if(!e&&t===Od&&NS())return kS();if(!e)throw Gi.create("no-app",{appName:t});return e}function Ki(t,e,n){let i=TN[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}Fs(new Lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",RN=1,ko="firebase-heartbeat-store";let Ef=null;function LS(){return Ef||(Ef=q2(wN,RN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ko)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gi.create("idb-open",{originalErrorMessage:t.message})})),Ef}async function CN(t){try{const n=(await LS()).transaction(ko),i=await n.objectStore(ko).get(jS(t));return await n.done,i}catch(e){if(e instanceof ai)Zn.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function L_(t,e){try{const i=(await LS()).transaction(ko,"readwrite");await i.objectStore(ko).put(e,jS(t)),await i.done}catch(n){if(n instanceof ai)Zn.warn(n.message);else{const i=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(i.message)}}}function jS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1024,NN=30;class xN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ON(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>NN){const a=MN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Zn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j_(),{heartbeatsToSend:i,unsentEntries:r}=DN(this._heartbeatsCache.heartbeats),s=ic(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zn.warn(n),""}}}function j_(){return new Date().toISOString().substring(0,10)}function DN(t,e=IN){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),U_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),U_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ON{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _2()?v2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return L_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return L_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function U_(t){return ic(JSON.stringify({version:2,heartbeats:t})).length}function MN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){Fs(new Lr("platform-logger",e=>new K2(e),"PRIVATE")),Fs(new Lr("heartbeat",e=>new xN(e),"PRIVATE")),Ki(Dd,k_,t),Ki(Dd,k_,"esm2020"),Ki("fire-js","")}VN("");var kN="firebase",PN="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(kN,PN,"app");function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LN=US,zS=new ol("auth","Firebase",US());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new op("@firebase/auth");function jN(t,...e){sc.logLevel<=ae.WARN&&sc.warn(`Auth (${la}): ${t}`,...e)}function yu(t,...e){sc.logLevel<=ae.ERROR&&sc.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,...e){throw hp(t,...e)}function ln(t,...e){return hp(t,...e)}function cp(t,e,n){const i={...LN(),[e]:n};return new ol("auth","Firebase",i).create(e,{appName:t.name})}function _n(t){return cp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UN(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&tn(t,"argument-error"),cp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return zS.create(t,...e)}function Y(t,e,...n){if(!t)throw hp(e,...n)}function Un(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yu(e),new Error(e)}function ei(t,e){t||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zN(){return z_()==="http:"||z_()==="https:"}function z_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zN()||m2()||"connection"in navigator)?navigator.onLine:!0}function HN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=h2()||p2()}get(){return BN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GN=new ul(3e4,6e4);function lr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ur(t,e,n,i,r={}){return HS(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=ll({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return d2()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&oa(t.emulatorConfig.host)&&(c.credentials="include"),BS.fetch()(await qS(t,t.config.apiHost,n,l),c)})}async function HS(t,e,n){t._canInitEmulator=!1;const i={...qN,...e};try{const r=new YN(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Yl(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Yl(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cp(t,f,c);tn(t,f)}}catch(r){if(r instanceof ai)throw r;tn(t,"network-request-failed",{message:String(r)})}}async function cl(t,e,n,i,r={}){const s=await ur(t,e,n,i,r);return"mfaPendingCredential"in s&&tn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function qS(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?fp(t.config,r):`${t.config.apiScheme}://${r}`;return FN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function KN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ln(this.auth,"network-request-failed")),GN.get())})}}function Yl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ln(t,e,i);return r.customData._tokenResponse=n,r}function B_(t){return t!==void 0&&t.enterprise!==void 0}class QN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $N(t,e){return ur(t,"GET","/v2/recaptchaConfig",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e){return ur(t,"POST","/v1/accounts:delete",e)}async function ac(t,e){return ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JN(t,e=!1){const n=Bt(t),i=await n.getIdToken(e),r=dp(i);Y(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:mo(Tf(r.auth_time)),issuedAtTime:mo(Tf(r.iat)),expirationTime:mo(Tf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Tf(t){return Number(t)*1e3}function dp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return yu("JWT malformed, contained fewer than 3 sections"),null;try{const r=CS(n);return r?JSON.parse(r):(yu("Failed to decode base64 JWT payload"),null)}catch(r){return yu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function H_(t){const e=dp(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ai&&WN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function WN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){var p;const e=t.auth,n=await t.getIdToken(),i=await Po(t,ac(e,{idToken:n}));Y(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(p=r.providerUserInfo)!=null&&p.length?FS(r.providerUserInfo):[],a=tx(t.providerData,s),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new kd(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function ex(t){const e=Bt(t);await oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tx(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function FS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(t,e){const n=await HS(t,{},async()=>{const i=ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await qS(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&oa(t.emulatorConfig.host)&&(u.credentials="include"),BS.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ix(t,e){return ur(t,"POST","/v2/accounts:revokeToken",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=H_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await nx(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Is;return i&&(Y(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Y(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(Y(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Is,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class an{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new ZN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new kd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JN(this,e)}reload(){return ex(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new an({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await oc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(_n(this.auth));const e=await this.getIdToken();return await Po(this,XN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:I,stsTokenManager:x}=n;Y(p&&x,e,"internal-error");const M=Is.fromJSON(this.name,x);Y(typeof p=="string",e,"internal-error"),gi(i,e.name),gi(r,e.name),Y(typeof g=="boolean",e,"internal-error"),Y(typeof y=="boolean",e,"internal-error"),gi(s,e.name),gi(a,e.name),gi(l,e.name),gi(u,e.name),gi(c,e.name),gi(f,e.name);const T=new an({uid:p,auth:e,email:r,emailVerified:g,displayName:i,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:M,createdAt:c,lastLoginAt:f});return I&&Array.isArray(I)&&(T.providerData=I.map(v=>({...v}))),u&&(T._redirectEventId=u),T}static async _fromIdTokenResponse(e,n,i=!1){const r=new Is;r.updateFromServerResponse(n);const s=new an({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await oc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Y(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?FS(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Is;l.updateFromIdToken(i);const u=new an({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new kd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function zn(t){ei(t instanceof Function,"Expected a class definition");let e=q_.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GS.type="NONE";const F_=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t,e,n){return`firebase:${t}:${e}:${n}`}class Ns{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=_u(this.userKey,r.apiKey,s),this.fullPersistenceKey=_u("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ac(this.auth,{idToken:e}).catch(()=>{});return n?an._fromGetAccountInfoResponse(this.auth,n,e):null}return an._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ns(zn(F_),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||zn(F_);const a=_u(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let p;if(typeof f=="string"){const g=await ac(e,{idToken:f}).catch(()=>{});if(!g)break;p=await an._fromGetAccountInfoResponse(e,g,f)}else p=an._fromJSON(e,f);c!==s&&(l=p),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ns(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Ns(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JS(e))return"Blackberry";if(WS(e))return"Webos";if(YS(e))return"Safari";if((e.includes("chrome/")||QS(e))&&!e.includes("edge/"))return"Chrome";if(XS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function KS(t=pt()){return/firefox\//i.test(t)}function YS(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QS(t=pt()){return/crios\//i.test(t)}function $S(t=pt()){return/iemobile/i.test(t)}function XS(t=pt()){return/android/i.test(t)}function JS(t=pt()){return/blackberry/i.test(t)}function WS(t=pt()){return/webos/i.test(t)}function mp(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rx(t=pt()){var e;return mp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function sx(){return g2()&&document.documentMode===10}function ZS(t=pt()){return mp(t)||XS(t)||WS(t)||JS(t)||/windows phone/i.test(t)||$S(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t,e=[]){let n;switch(t){case"Browser":n=G_(pt());break;case"Worker":n=`${G_(pt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t,e={}){return ur(t,"GET","/v2/passwordPolicy",lr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=6;class ux{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new ax(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ns.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ac(this,{idToken:e}),i=await an._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Rt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rt(this.app))return Promise.reject(_n(this));const n=e?Bt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(_n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rt(this.app)?Promise.reject(_n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ox(this),n=new ux(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ol("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await ix(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zn(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Ns.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&jN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function oi(t){return Bt(t)}class K_{constructor(e){this.auth=e,this.observer=null,this.addObserver=A2(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hx(t){Gc=t}function tb(t){return Gc.loadJS(t)}function fx(){return Gc.recaptchaEnterpriseScript}function dx(){return Gc.gapiScript}function mx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class px{constructor(){this.enterprise=new gx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yx="recaptcha-enterprise",nb="NO_RECAPTCHA";class _x{constructor(e){this.type=yx,this.auth=oi(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{$N(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new QN(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;B_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(nb)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new px().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&B_(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=fx();u.length!==0&&(u+=l),tb(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function Y_(t,e,n,i=!1,r=!1){const s=new _x(t);let a;if(r)a=nb;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Pd(t,e,n,i,r){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Y_(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Y_(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e){const n=up(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Pr(s,e??{}))return r;tn(r,"already-initialized")}return n.initialize({options:e})}function Ex(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Tx(t,e,n){const i=oi(t);Y(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=ib(e),{host:a,port:l}=Sx(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Y(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Y(Pr(c,i.config.emulator)&&Pr(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,oa(a)?(DS(`${s}//${a}${u}`),OS("Auth",!0)):bx()}function ib(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sx(t){const e=ib(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Q_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:Q_(a)}}}function Q_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}async function Ax(t,e){return ur(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(t,e){return cl(t,"POST","/v1/accounts:signInWithPassword",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(t,e){return cl(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,e))}async function Cx(t,e){return cl(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends pp{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Lo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Lo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,n,"signInWithPassword",wx);case"emailLink":return Rx(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,i,"signUpPassword",Ax);case"emailLink":return Cx(e,{idToken:n,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t,e){return cl(t,"POST","/v1/accounts:signInWithIdp",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="http://localhost";class jr extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new jr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return xs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xs(e,n)}buildRequest(){const e={requestUri:Ix,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xx(t){const e=Ka(Ya(t)).link,n=e?Ka(Ya(e)).deep_link_id:null,i=Ka(Ya(t)).deep_link_id;return(i?Ka(Ya(i)).link:null)||i||n||e||t}class gp{constructor(e){const n=Ka(Ya(e)),i=n.apiKey??null,r=n.oobCode??null,s=Nx(n.mode??null);Y(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=xx(e);try{return new gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,n){return Lo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=gp.parseLink(n);return Y(i,"argument-error"),Lo._fromEmailAndCode(e,i.code,i.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends hl{constructor(){super("facebook.com")}static credential(e){return jr._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jr._fromParams({providerId:kn.PROVIDER_ID,signInMethod:kn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kn.credentialFromTaggedObject(e)}static credentialFromError(e){return kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return kn.credential(n,i)}catch{return null}}}kn.GOOGLE_SIGN_IN_METHOD="google.com";kn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends hl{constructor(){super("github.com")}static credential(e){return jr._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends hl{constructor(){super("twitter.com")}static credential(e,n){return jr._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ci.credential(n,i)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(t,e){return cl(t,"POST","/v1/accounts:signUp",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await an._fromIdTokenResponse(e,i,r),a=$_(i);return new ti({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=$_(i);return new ti({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function $_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(t){var r;if(Rt(t.app))return Promise.reject(_n(t));const e=oi(t);if(await e._initializationPromise,(r=e.currentUser)!=null&&r.isAnonymous)return new ti({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await rb(e,{returnSecureToken:!0}),i=await ti._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends ai{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new lc(e,n,i,r)}}function sb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lc._fromErrorAndOperation(t,s,e,i):s})}async function Ox(t,e,n=!1){const i=await Po(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ti._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(t,e,n=!1){const{auth:i}=t;if(Rt(i.app))return Promise.reject(_n(i));const r="reauthenticate";try{const s=await Po(t,sb(i,r,e,t),n);Y(s.idToken,i,"internal-error");const a=dp(s.idToken);Y(a,i,"internal-error");const{sub:l}=a;return Y(t.uid===l,i,"user-mismatch"),ti._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&tn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(t,e,n=!1){if(Rt(t.app))return Promise.reject(_n(t));const i="signIn",r=await sb(t,i,e),s=await ti._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function Vx(t,e){return ab(oi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(t){const e=oi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kx(t,e,n){if(Rt(t.app))return Promise.reject(_n(t));const i=oi(t),a=await Pd(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rb).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ob(t),u}),l=await ti._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Px(t,e,n){return Rt(t.app)?Promise.reject(_n(t)):Vx(Bt(t),ua.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ob(t),i})}function Lx(t,e,n,i){return Bt(t).onIdTokenChanged(e,n,i)}function jx(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function Ux(t,e,n,i){return Bt(t).onAuthStateChanged(e,n,i)}function zx(t){return Bt(t).signOut()}const uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1e3,Hx=10;class ub extends lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);sx()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Hx):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ub.type="LOCAL";const qx=ub;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cb.type="SESSION";const hb=cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Kc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await Fx(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=_p("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function Kx(t){vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function Yx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $x(){return fb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firebaseLocalStorageDb",Xx=1,cc="firebaseLocalStorage",mb="fbase_key";class fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yc(t,e){return t.transaction([cc],e?"readwrite":"readonly").objectStore(cc)}function Jx(){const t=indexedDB.deleteDatabase(db);return new fl(t).toPromise()}function Ld(){const t=indexedDB.open(db,Xx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(cc,{keyPath:mb})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(cc)?e(i):(i.close(),await Jx(),e(await Ld()))})})}async function X_(t,e,n){const i=Yc(t,!0).put({[mb]:e,value:n});return new fl(i).toPromise()}async function Wx(t,e){const n=Yc(t,!1).get(e),i=await new fl(n).toPromise();return i===void 0?null:i.value}function J_(t,e){const n=Yc(t,!0).delete(e);return new fl(n).toPromise()}const Zx=800,eD=3;class pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ld(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>eD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance($x()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await Yx(),!this.activeServiceWorker)return;this.sender=new Gx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ld();return await X_(e,uc,"1"),await J_(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>X_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Wx(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Yc(r,!1).getAll();return new fl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pb.type="LOCAL";const tD=pb;new ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e){return e?zn(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nD(t){return ab(t.auth,new vp(t),t.bypassAuthState)}function iD(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),Mx(n,new vp(t),t.bypassAuthState)}async function rD(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),Ox(n,new vp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nD;case"linkViaPopup":case"linkViaRedirect":return rD;case"reauthViaPopup":case"reauthViaRedirect":return iD;default:tn(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new ul(2e3,1e4);async function aD(t,e,n){if(Rt(t.app))return Promise.reject(ln(t,"operation-not-supported-in-this-environment"));const i=oi(t);UN(t,e,yp);const r=gb(i,n);return new br(i,"signInViaPopup",e,r).executeNotNull()}class br extends yb{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,br.currentPopupAction&&br.currentPopupAction.cancel(),br.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,br.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sD.get())};e()}}br.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="pendingRedirect",vu=new Map;class lD extends yb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=vu.get(this.auth._key());if(!e){try{const i=await uD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}vu.set(this.auth._key(),e)}return this.bypassAuthState||vu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uD(t,e){const n=fD(e),i=hD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function cD(t,e){vu.set(t._key(),e)}function hD(t){return zn(t._redirectPersistence)}function fD(t){return _u(oD,t.config.apiKey,t.name)}async function dD(t,e,n=!1){if(Rt(t.app))return Promise.reject(_n(t));const i=oi(t),r=gb(i,e),a=await new lD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=10*60*1e3;class pD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!_b(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _b({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _b(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e={}){return ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vD=/^https?/;async function ED(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yD(t);for(const n of e)try{if(TD(n))return}catch{}tn(t,"unauthorized-domain")}function TD(t){const e=Vd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!vD.test(n))return!1;if(_D.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new ul(3e4,6e4);function Z_(){const t=vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bD(t){return new Promise((e,n)=>{var r,s,a;function i(){Z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z_(),n(ln(t,"network-request-failed"))},timeout:SD.get()})}if((s=(r=vn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=vn().gapi)!=null&&a.load)i();else{const l=mx("iframefcb");return vn()[l]=()=>{gapi.load?i():n(ln(t,"network-request-failed"))},tb(`${dx()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Eu=null,e})}let Eu=null;function AD(t){return Eu=Eu||bD(t),Eu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new ul(5e3,15e3),RD="__/auth/iframe",CD="emulator/auth/iframe",ID={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ND=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xD(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fp(e,CD):`https://${t.config.authDomain}/${RD}`,i={apiKey:e.apiKey,appName:t.name,v:la},r=ND.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ll(i).slice(1)}`}async function DD(t){const e=await AD(t),n=vn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:xD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ID,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=ln(t,"network-request-failed"),l=vn().setTimeout(()=>{s(a)},wD.get());function u(){vn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MD=500,VD=600,kD="_blank",PD="http://localhost";class ev{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LD(t,e,n,i=MD,r=VD){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...OD,width:i.toString(),height:r.toString(),top:s,left:a},c=pt().toLowerCase();n&&(l=QS(c)?kD:n),KS(c)&&(e=e||PD,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[y,I])=>`${g}${y}=${I},`,"");if(rx(c)&&l!=="_self")return jD(e||"",l),new ev(null);const p=window.open(e||"",l,f);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new ev(p)}function jD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__/auth/handler",zD="emulator/auth/handler",BD=encodeURIComponent("fac");async function tv(t,e,n,i,r,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:la,eventId:r};if(e instanceof yp){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",b2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof hl){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${BD}=${encodeURIComponent(u)}`:"";return`${HD(t)}?${ll(l).slice(1)}${c}`}function HD({config:t}){return t.emulator?fp(t,zD):`https://${t.authDomain}/${UD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="webStorageSupport";class qD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hb,this._completeRedirectFn=dD,this._overrideRedirectResult=cD}async _openPopup(e,n,i,r){var a;ei((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await tv(e,n,i,Vd(),r);return LD(e,s,_p())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await tv(e,n,i,Vd(),r);return Kx(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ei(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await DD(e),i=new pD(e);return n.register("authEvent",r=>(Y(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sf,{type:Sf},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[Sf];s!==void 0&&n(!!s),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ED(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZS()||YS()||mp()}}const FD=qD;var nv="@firebase/auth",iv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YD(t){Fs(new Lr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eb(t)},c=new cx(i,r,s,u);return Ex(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fs(new Lr("auth-internal",e=>{const n=oi(e.getProvider("auth").getImmediate());return(i=>new GD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(nv,iv,KD(t)),Ki(nv,iv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=5*60,$D=xS("authIdTokenMaxAge")||QD;let rv=null;const XD=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$D)return;const r=n==null?void 0:n.token;rv!==r&&(rv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function JD(t=PS()){const e=up(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vx(t,{popupRedirectResolver:FD,persistence:[tD,qx,hb]}),i=xS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=XD(s.toString());jx(n,a,()=>a(n.currentUser)),Lx(n,l=>a(l))}}const r=IS("auth");return r&&Tx(n,`http://${r}`),n}function WD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}hx({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=ln("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",WD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YD("Browser");var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,vb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,E){function A(){}A.prototype=E.prototype,w.F=E.prototype,w.prototype=new A,w.prototype.constructor=w,w.D=function(R,C,N){for(var S=Array(arguments.length-2),G=2;G<arguments.length;G++)S[G-2]=arguments[G];return E.prototype[C].apply(R,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,E,A){A||(A=0);const R=Array(16);if(typeof E=="string")for(var C=0;C<16;++C)R[C]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(C=0;C<16;++C)R[C]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=w.g[0],A=w.g[1],C=w.g[2];let N=w.g[3],S;S=E+(N^A&(C^N))+R[0]+3614090360&4294967295,E=A+(S<<7&4294967295|S>>>25),S=N+(C^E&(A^C))+R[1]+3905402710&4294967295,N=E+(S<<12&4294967295|S>>>20),S=C+(A^N&(E^A))+R[2]+606105819&4294967295,C=N+(S<<17&4294967295|S>>>15),S=A+(E^C&(N^E))+R[3]+3250441966&4294967295,A=C+(S<<22&4294967295|S>>>10),S=E+(N^A&(C^N))+R[4]+4118548399&4294967295,E=A+(S<<7&4294967295|S>>>25),S=N+(C^E&(A^C))+R[5]+1200080426&4294967295,N=E+(S<<12&4294967295|S>>>20),S=C+(A^N&(E^A))+R[6]+2821735955&4294967295,C=N+(S<<17&4294967295|S>>>15),S=A+(E^C&(N^E))+R[7]+4249261313&4294967295,A=C+(S<<22&4294967295|S>>>10),S=E+(N^A&(C^N))+R[8]+1770035416&4294967295,E=A+(S<<7&4294967295|S>>>25),S=N+(C^E&(A^C))+R[9]+2336552879&4294967295,N=E+(S<<12&4294967295|S>>>20),S=C+(A^N&(E^A))+R[10]+4294925233&4294967295,C=N+(S<<17&4294967295|S>>>15),S=A+(E^C&(N^E))+R[11]+2304563134&4294967295,A=C+(S<<22&4294967295|S>>>10),S=E+(N^A&(C^N))+R[12]+1804603682&4294967295,E=A+(S<<7&4294967295|S>>>25),S=N+(C^E&(A^C))+R[13]+4254626195&4294967295,N=E+(S<<12&4294967295|S>>>20),S=C+(A^N&(E^A))+R[14]+2792965006&4294967295,C=N+(S<<17&4294967295|S>>>15),S=A+(E^C&(N^E))+R[15]+1236535329&4294967295,A=C+(S<<22&4294967295|S>>>10),S=E+(C^N&(A^C))+R[1]+4129170786&4294967295,E=A+(S<<5&4294967295|S>>>27),S=N+(A^C&(E^A))+R[6]+3225465664&4294967295,N=E+(S<<9&4294967295|S>>>23),S=C+(E^A&(N^E))+R[11]+643717713&4294967295,C=N+(S<<14&4294967295|S>>>18),S=A+(N^E&(C^N))+R[0]+3921069994&4294967295,A=C+(S<<20&4294967295|S>>>12),S=E+(C^N&(A^C))+R[5]+3593408605&4294967295,E=A+(S<<5&4294967295|S>>>27),S=N+(A^C&(E^A))+R[10]+38016083&4294967295,N=E+(S<<9&4294967295|S>>>23),S=C+(E^A&(N^E))+R[15]+3634488961&4294967295,C=N+(S<<14&4294967295|S>>>18),S=A+(N^E&(C^N))+R[4]+3889429448&4294967295,A=C+(S<<20&4294967295|S>>>12),S=E+(C^N&(A^C))+R[9]+568446438&4294967295,E=A+(S<<5&4294967295|S>>>27),S=N+(A^C&(E^A))+R[14]+3275163606&4294967295,N=E+(S<<9&4294967295|S>>>23),S=C+(E^A&(N^E))+R[3]+4107603335&4294967295,C=N+(S<<14&4294967295|S>>>18),S=A+(N^E&(C^N))+R[8]+1163531501&4294967295,A=C+(S<<20&4294967295|S>>>12),S=E+(C^N&(A^C))+R[13]+2850285829&4294967295,E=A+(S<<5&4294967295|S>>>27),S=N+(A^C&(E^A))+R[2]+4243563512&4294967295,N=E+(S<<9&4294967295|S>>>23),S=C+(E^A&(N^E))+R[7]+1735328473&4294967295,C=N+(S<<14&4294967295|S>>>18),S=A+(N^E&(C^N))+R[12]+2368359562&4294967295,A=C+(S<<20&4294967295|S>>>12),S=E+(A^C^N)+R[5]+4294588738&4294967295,E=A+(S<<4&4294967295|S>>>28),S=N+(E^A^C)+R[8]+2272392833&4294967295,N=E+(S<<11&4294967295|S>>>21),S=C+(N^E^A)+R[11]+1839030562&4294967295,C=N+(S<<16&4294967295|S>>>16),S=A+(C^N^E)+R[14]+4259657740&4294967295,A=C+(S<<23&4294967295|S>>>9),S=E+(A^C^N)+R[1]+2763975236&4294967295,E=A+(S<<4&4294967295|S>>>28),S=N+(E^A^C)+R[4]+1272893353&4294967295,N=E+(S<<11&4294967295|S>>>21),S=C+(N^E^A)+R[7]+4139469664&4294967295,C=N+(S<<16&4294967295|S>>>16),S=A+(C^N^E)+R[10]+3200236656&4294967295,A=C+(S<<23&4294967295|S>>>9),S=E+(A^C^N)+R[13]+681279174&4294967295,E=A+(S<<4&4294967295|S>>>28),S=N+(E^A^C)+R[0]+3936430074&4294967295,N=E+(S<<11&4294967295|S>>>21),S=C+(N^E^A)+R[3]+3572445317&4294967295,C=N+(S<<16&4294967295|S>>>16),S=A+(C^N^E)+R[6]+76029189&4294967295,A=C+(S<<23&4294967295|S>>>9),S=E+(A^C^N)+R[9]+3654602809&4294967295,E=A+(S<<4&4294967295|S>>>28),S=N+(E^A^C)+R[12]+3873151461&4294967295,N=E+(S<<11&4294967295|S>>>21),S=C+(N^E^A)+R[15]+530742520&4294967295,C=N+(S<<16&4294967295|S>>>16),S=A+(C^N^E)+R[2]+3299628645&4294967295,A=C+(S<<23&4294967295|S>>>9),S=E+(C^(A|~N))+R[0]+4096336452&4294967295,E=A+(S<<6&4294967295|S>>>26),S=N+(A^(E|~C))+R[7]+1126891415&4294967295,N=E+(S<<10&4294967295|S>>>22),S=C+(E^(N|~A))+R[14]+2878612391&4294967295,C=N+(S<<15&4294967295|S>>>17),S=A+(N^(C|~E))+R[5]+4237533241&4294967295,A=C+(S<<21&4294967295|S>>>11),S=E+(C^(A|~N))+R[12]+1700485571&4294967295,E=A+(S<<6&4294967295|S>>>26),S=N+(A^(E|~C))+R[3]+2399980690&4294967295,N=E+(S<<10&4294967295|S>>>22),S=C+(E^(N|~A))+R[10]+4293915773&4294967295,C=N+(S<<15&4294967295|S>>>17),S=A+(N^(C|~E))+R[1]+2240044497&4294967295,A=C+(S<<21&4294967295|S>>>11),S=E+(C^(A|~N))+R[8]+1873313359&4294967295,E=A+(S<<6&4294967295|S>>>26),S=N+(A^(E|~C))+R[15]+4264355552&4294967295,N=E+(S<<10&4294967295|S>>>22),S=C+(E^(N|~A))+R[6]+2734768916&4294967295,C=N+(S<<15&4294967295|S>>>17),S=A+(N^(C|~E))+R[13]+1309151649&4294967295,A=C+(S<<21&4294967295|S>>>11),S=E+(C^(A|~N))+R[4]+4149444226&4294967295,E=A+(S<<6&4294967295|S>>>26),S=N+(A^(E|~C))+R[11]+3174756917&4294967295,N=E+(S<<10&4294967295|S>>>22),S=C+(E^(N|~A))+R[2]+718787259&4294967295,C=N+(S<<15&4294967295|S>>>17),S=A+(N^(C|~E))+R[9]+3951481745&4294967295,w.g[0]=w.g[0]+E&4294967295,w.g[1]=w.g[1]+(C+(S<<21&4294967295|S>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+N&4294967295}i.prototype.v=function(w,E){E===void 0&&(E=w.length);const A=E-this.blockSize,R=this.C;let C=this.h,N=0;for(;N<E;){if(C==0)for(;N<=A;)r(this,w,N),N+=this.blockSize;if(typeof w=="string"){for(;N<E;)if(R[C++]=w.charCodeAt(N++),C==this.blockSize){r(this,R),C=0;break}}else for(;N<E;)if(R[C++]=w[N++],C==this.blockSize){r(this,R),C=0;break}}this.h=C,this.o+=E},i.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var E=1;E<w.length-8;++E)w[E]=0;E=this.o*8;for(var A=w.length-8;A<w.length;++A)w[A]=E&255,E/=256;for(this.v(w),w=Array(16),E=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)w[E++]=this.g[A]>>>R&255;return w};function s(w,E){var A=l;return Object.prototype.hasOwnProperty.call(A,w)?A[w]:A[w]=E(w)}function a(w,E){this.h=E;const A=[];let R=!0;for(let C=w.length-1;C>=0;C--){const N=w[C]|0;R&&N==E||(A[C]=N,R=!1)}this.g=A}var l={};function u(w){return-128<=w&&w<128?s(w,function(E){return new a([E|0],E<0?-1:0)}):new a([w|0],w<0?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return p;if(w<0)return M(c(-w));const E=[];let A=1;for(let R=0;w>=A;R++)E[R]=w/A|0,A*=4294967296;return new a(E,0)}function f(w,E){if(w.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(w.charAt(0)=="-")return M(f(w.substring(1),E));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(E,8));let R=p;for(let N=0;N<w.length;N+=8){var C=Math.min(8,w.length-N);const S=parseInt(w.substring(N,N+C),E);C<8?(C=c(Math.pow(E,C)),R=R.j(C).add(c(S))):(R=R.j(A),R=R.add(c(S)))}return R}var p=u(0),g=u(1),y=u(16777216);t=a.prototype,t.m=function(){if(x(this))return-M(this).m();let w=0,E=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);w+=(R>=0?R:4294967296+R)*E,E*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I(this))return"0";if(x(this))return"-"+M(this).toString(w);const E=c(Math.pow(w,6));var A=this;let R="";for(;;){const C=D(A,E).g;A=T(A,C.j(E));let N=((A.g.length>0?A.g[0]:A.h)>>>0).toString(w);if(A=C,I(A))return N+R;for(;N.length<6;)N="0"+N;R=N+R}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function I(w){if(w.h!=0)return!1;for(let E=0;E<w.g.length;E++)if(w.g[E]!=0)return!1;return!0}function x(w){return w.h==-1}t.l=function(w){return w=T(this,w),x(w)?-1:I(w)?0:1};function M(w){const E=w.g.length,A=[];for(let R=0;R<E;R++)A[R]=~w.g[R];return new a(A,~w.h).add(g)}t.abs=function(){return x(this)?M(this):this},t.add=function(w){const E=Math.max(this.g.length,w.g.length),A=[];let R=0;for(let C=0;C<=E;C++){let N=R+(this.i(C)&65535)+(w.i(C)&65535),S=(N>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);R=S>>>16,N&=65535,S&=65535,A[C]=S<<16|N}return new a(A,A[A.length-1]&-2147483648?-1:0)};function T(w,E){return w.add(M(E))}t.j=function(w){if(I(this)||I(w))return p;if(x(this))return x(w)?M(this).j(M(w)):M(M(this).j(w));if(x(w))return M(this.j(M(w)));if(this.l(y)<0&&w.l(y)<0)return c(this.m()*w.m());const E=this.g.length+w.g.length,A=[];for(var R=0;R<2*E;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let C=0;C<w.g.length;C++){const N=this.i(R)>>>16,S=this.i(R)&65535,G=w.i(C)>>>16,X=w.i(C)&65535;A[2*R+2*C]+=S*X,v(A,2*R+2*C),A[2*R+2*C+1]+=N*X,v(A,2*R+2*C+1),A[2*R+2*C+1]+=S*G,v(A,2*R+2*C+1),A[2*R+2*C+2]+=N*G,v(A,2*R+2*C+2)}for(w=0;w<E;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=E;w<2*E;w++)A[w]=0;return new a(A,0)};function v(w,E){for(;(w[E]&65535)!=w[E];)w[E+1]+=w[E]>>>16,w[E]&=65535,E++}function b(w,E){this.g=w,this.h=E}function D(w,E){if(I(E))throw Error("division by zero");if(I(w))return new b(p,p);if(x(w))return E=D(M(w),E),new b(M(E.g),M(E.h));if(x(E))return E=D(w,M(E)),new b(M(E.g),E.h);if(w.g.length>30){if(x(w)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var A=g,R=E;R.l(w)<=0;)A=U(A),R=U(R);var C=H(A,1),N=H(R,1);for(R=H(R,2),A=H(A,2);!I(R);){var S=N.add(R);S.l(w)<=0&&(C=C.add(A),N=S),R=H(R,1),A=H(A,1)}return E=T(w,C.j(E)),new b(C,E)}for(C=p;w.l(E)>=0;){for(A=Math.max(1,Math.floor(w.m()/E.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),N=c(A),S=N.j(E);x(S)||S.l(w)>0;)A-=R,N=c(A),S=N.j(E);I(N)&&(N=g),C=C.add(N),w=T(w,S)}return new b(C,w)}t.B=function(w){return D(this,w).h},t.and=function(w){const E=Math.max(this.g.length,w.g.length),A=[];for(let R=0;R<E;R++)A[R]=this.i(R)&w.i(R);return new a(A,this.h&w.h)},t.or=function(w){const E=Math.max(this.g.length,w.g.length),A=[];for(let R=0;R<E;R++)A[R]=this.i(R)|w.i(R);return new a(A,this.h|w.h)},t.xor=function(w){const E=Math.max(this.g.length,w.g.length),A=[];for(let R=0;R<E;R++)A[R]=this.i(R)^w.i(R);return new a(A,this.h^w.h)};function U(w){const E=w.g.length+1,A=[];for(let R=0;R<E;R++)A[R]=w.i(R)<<1|w.i(R-1)>>>31;return new a(A,w.h)}function H(w,E){const A=E>>5;E%=32;const R=w.g.length-A,C=[];for(let N=0;N<R;N++)C[N]=E>0?w.i(N+A)>>>E|w.i(N+A+1)<<32-E:w.i(N+A);return new a(C,w.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,vb=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,Yi=a}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eb,Qa,Tb,Tu,jd,Sb,bb,Ab;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ql=="object"&&Ql];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var d=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var V=o[_];if(!(V in d))break e;d=d[V]}o=o[o.length-1],_=d[o],h=h(_),h!=_&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(h){var d=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&d.push([_,h[_]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,d){return o.call.apply(o.bind,arguments)}function c(o,h,d){return c=u,c.apply(null,arguments)}function f(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var _=d.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function p(o,h){function d(){}d.prototype=h.prototype,o.Z=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(_,V,k){for(var z=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)z[ie-2]=arguments[ie];return h.prototype[V].apply(_,z)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const h=o.length;if(h>0){const d=Array(h);for(let _=0;_<h;_++)d[_]=o[_];return d}return[]}function I(o,h){for(let _=1;_<arguments.length;_++){const V=arguments[_];var d=typeof V;if(d=d!="object"?d:V?Array.isArray(V)?"array":d:"null",d=="array"||d=="object"&&typeof V.length=="number"){d=o.length||0;const k=V.length||0;o.length=d+k;for(let z=0;z<k;z++)o[d+z]=V[z]}else o.push(V)}}class x{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function M(o){a.setTimeout(()=>{throw o},0)}function T(){var o=w;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,d){const _=b.get();_.set(h,d),this.h?this.h.next=_:this.g=_,this.h=_}}var b=new x(()=>new D,o=>o.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let U,H=!1,w=new v,E=()=>{const o=Promise.resolve(void 0);U=()=>{o.then(A)}};function A(){for(var o;o=T();){try{o.h.call(o.g)}catch(d){M(d)}var h=b;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}H=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,h),a.removeEventListener("test",d,h)}catch{}return o}();function S(o){return/^[\s\xa0]*$/.test(o)}function G(o,h){C.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}p(G,C),G.prototype.init=function(o,h){const d=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),B=0;function ee(o,h,d,_,V){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!_,this.ha=V,this.key=++B,this.da=this.fa=!1}function J(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function me(o,h,d){for(const _ in o)h.call(d,o[_],_,o)}function Ue(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function cr(o){const h={};for(const d in o)h[d]=o[d];return h}const hr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xr(o,h){let d,_;for(let V=1;V<arguments.length;V++){_=arguments[V];for(d in _)o[d]=_[d];for(let k=0;k<hr.length;k++)d=hr[k],Object.prototype.hasOwnProperty.call(_,d)&&(o[d]=_[d])}}function Ht(o){this.src=o,this.g={},this.h=0}Ht.prototype.add=function(o,h,d,_,V){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const z=ah(o,h,_,V);return z>-1?(h=o[z],d||(h.fa=!1)):(h=new ee(h,this.src,k,!!_,V),h.fa=d,o.push(h)),h};function li(o,h){const d=h.type;if(d in o.g){var _=o.g[d],V=Array.prototype.indexOf.call(_,h,void 0),k;(k=V>=0)&&Array.prototype.splice.call(_,V,1),k&&(J(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function ah(o,h,d,_){for(let V=0;V<o.length;++V){const k=o[V];if(!k.da&&k.listener==h&&k.capture==!!d&&k.ha==_)return V}return-1}var oh="closure_lm_"+(Math.random()*1e6|0),lh={};function Jp(o,h,d,_,V){if(Array.isArray(h)){for(let k=0;k<h.length;k++)Jp(o,h[k],d,_,V);return null}return d=eg(d),o&&o[X]?o.J(h,d,l(_)?!!_.capture:!1,V):$A(o,h,d,!1,_,V)}function $A(o,h,d,_,V,k){if(!h)throw Error("Invalid event type");const z=l(V)?!!V.capture:!!V;let ie=ch(o);if(ie||(o[oh]=ie=new Ht(o)),d=ie.add(h,d,_,z,k),d.proxy)return d;if(_=XA(),d.proxy=_,_.src=o,_.listener=d,o.addEventListener)N||(V=z),V===void 0&&(V=!1),o.addEventListener(h.toString(),_,V);else if(o.attachEvent)o.attachEvent(Zp(h.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return d}function XA(){function o(d){return h.call(o.src,o.listener,d)}const h=JA;return o}function Wp(o,h,d,_,V){if(Array.isArray(h))for(var k=0;k<h.length;k++)Wp(o,h[k],d,_,V);else _=l(_)?!!_.capture:!!_,d=eg(d),o&&o[X]?(o=o.i,k=String(h).toString(),k in o.g&&(h=o.g[k],d=ah(h,d,_,V),d>-1&&(J(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete o.g[k],o.h--)))):o&&(o=ch(o))&&(h=o.g[h.toString()],o=-1,h&&(o=ah(h,d,_,V)),(d=o>-1?h[o]:null)&&uh(d))}function uh(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[X])li(h.i,o);else{var d=o.type,_=o.proxy;h.removeEventListener?h.removeEventListener(d,_,o.capture):h.detachEvent?h.detachEvent(Zp(d),_):h.addListener&&h.removeListener&&h.removeListener(_),(d=ch(h))?(li(d,o),d.h==0&&(d.src=null,h[oh]=null)):J(o)}}}function Zp(o){return o in lh?lh[o]:lh[o]="on"+o}function JA(o,h){if(o.da)o=!0;else{h=new G(h,this);const d=o.listener,_=o.ha||o.src;o.fa&&uh(o),o=d.call(_,h)}return o}function ch(o){return o=o[oh],o instanceof Ht?o:null}var hh="__closure_events_fn_"+(Math.random()*1e9>>>0);function eg(o){return typeof o=="function"?o:(o[hh]||(o[hh]=function(h){return o.handleEvent(h)}),o[hh])}function ht(){R.call(this),this.i=new Ht(this),this.M=this,this.G=null}p(ht,R),ht.prototype[X]=!0,ht.prototype.removeEventListener=function(o,h,d,_){Wp(this,o,h,d,_)};function gt(o,h){var d,_=o.G;if(_)for(d=[];_;_=_.G)d.push(_);if(o=o.M,_=h.type||h,typeof h=="string")h=new C(h,o);else if(h instanceof C)h.target=h.target||o;else{var V=h;h=new C(_,o),Xr(h,V)}V=!0;let k,z;if(d)for(z=d.length-1;z>=0;z--)k=h.g=d[z],V=_l(k,_,!0,h)&&V;if(k=h.g=o,V=_l(k,_,!0,h)&&V,V=_l(k,_,!1,h)&&V,d)for(z=0;z<d.length;z++)k=h.g=d[z],V=_l(k,_,!1,h)&&V}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const d=o.g[h];for(let _=0;_<d.length;_++)J(d[_]);delete o.g[h],o.h--}}this.G=null},ht.prototype.J=function(o,h,d,_){return this.i.add(String(o),h,!1,d,_)},ht.prototype.K=function(o,h,d,_){return this.i.add(String(o),h,!0,d,_)};function _l(o,h,d,_){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let V=!0;for(let k=0;k<h.length;++k){const z=h[k];if(z&&!z.da&&z.capture==d){const ie=z.listener,Ke=z.ha||z.src;z.fa&&li(o.i,z),V=ie.call(Ke,_)!==!1&&V}}return V&&!_.defaultPrevented}function WA(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(o,h||0)}function tg(o){o.g=WA(()=>{o.g=null,o.i&&(o.i=!1,tg(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class ZA extends R{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:tg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(o){R.call(this),this.h=o,this.g={}}p(pa,R);var ng=[];function ig(o){me(o.g,function(h,d){this.g.hasOwnProperty(d)&&uh(h)},o),o.g={}}pa.prototype.N=function(){pa.Z.N.call(this),ig(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fh=a.JSON.stringify,ew=a.JSON.parse,tw=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function rg(){}function sg(){}var ga={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dh(){C.call(this,"d")}p(dh,C);function mh(){C.call(this,"c")}p(mh,C);var fr={},ag=null;function vl(){return ag=ag||new ht}fr.Ia="serverreachability";function og(o){C.call(this,fr.Ia,o)}p(og,C);function ya(o){const h=vl();gt(h,new og(h))}fr.STAT_EVENT="statevent";function lg(o,h){C.call(this,fr.STAT_EVENT,o),this.stat=h}p(lg,C);function yt(o){const h=vl();gt(h,new lg(h,o))}fr.Ja="timingevent";function ug(o,h){C.call(this,fr.Ja,o),this.size=h}p(ug,C);function _a(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function va(){this.g=!0}va.prototype.ua=function(){this.g=!1};function nw(o,h,d,_,V,k){o.info(function(){if(o.g)if(k){var z="",ie=k.split("&");for(let Ee=0;Ee<ie.length;Ee++){var Ke=ie[Ee].split("=");if(Ke.length>1){const Je=Ke[0];Ke=Ke[1];const fn=Je.split("_");z=fn.length>=2&&fn[1]=="type"?z+(Je+"="+Ke+"&"):z+(Je+"=redacted&")}}}else z=null;else z=k;return"XMLHTTP REQ ("+_+") [attempt "+V+"]: "+h+`
`+d+`
`+z})}function iw(o,h,d,_,V,k,z){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+V+"]: "+h+`
`+d+`
`+k+" "+z})}function Jr(o,h,d,_){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+sw(o,d)+(_?" "+_:"")})}function rw(o,h){o.info(function(){return"TIMEOUT: "+h})}va.prototype.info=function(){};function sw(o,h){if(!o.g)return h;if(!h)return null;try{const k=JSON.parse(h);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var d=k[o];if(!(d.length<2)){var _=d[1];if(Array.isArray(_)&&!(_.length<1)){var V=_[0];if(V!="noop"&&V!="stop"&&V!="close")for(let z=1;z<_.length;z++)_[z]=""}}}}return fh(k)}catch{return h}}var El={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hg;function ph(){}p(ph,rg),ph.prototype.g=function(){return new XMLHttpRequest},hg=new ph;function Ea(o){return encodeURIComponent(String(o))}function aw(o){var h=1;o=o.split(":");const d=[];for(;h>0&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function ui(o,h,d,_){this.j=o,this.i=h,this.l=d,this.S=_||1,this.V=new pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fg}function fg(){this.i=null,this.g="",this.h=!1}var dg={},gh={};function yh(o,h,d){o.M=1,o.A=Sl(hn(h)),o.u=d,o.R=!0,mg(o,null)}function mg(o,h){o.F=Date.now(),Tl(o),o.B=hn(o.A);var d=o.B,_=o.S;Array.isArray(_)||(_=[String(_)]),Cg(d.i,"t",_),o.C=0,d=o.j.L,o.h=new fg,o.g=Gg(o.j,d?h:null,!o.u),o.P>0&&(o.O=new ZA(c(o.Y,o,o.g),o.P)),h=o.V,d=o.g,_=o.ba;var V="readystatechange";Array.isArray(V)||(V&&(ng[0]=V.toString()),V=ng);for(let k=0;k<V.length;k++){const z=Jp(d,V[k],_||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=o.J?cr(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),ya(),nw(o.i,o.v,o.B,o.l,o.S,o.u)}ui.prototype.ba=function(o){o=o.target;const h=this.O;h&&fi(o)==3?h.j():this.Y(o)},ui.prototype.Y=function(o){try{if(o==this.g)e:{const ie=fi(this.g),Ke=this.g.ya(),Ee=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||Vg(this.g)))){this.K||ie!=4||Ke==7||(Ke==8||Ee<=0?ya(3):ya(2)),_h(this);var h=this.g.ca();this.X=h;var d=ow(this);if(this.o=h==200,iw(this.i,this.v,this.B,this.l,this.S,ie,h),this.o){if(this.U&&!this.L){t:{if(this.g){var _,V=this.g;if((_=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(_)){var k=_;break t}}k=null}if(o=k)Jr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vh(this,o);else{this.o=!1,this.m=3,yt(12),dr(this),Ta(this);break e}}if(this.R){o=!0;let Je;for(;!this.K&&this.C<d.length;)if(Je=lw(this,d),Je==gh){ie==4&&(this.m=4,yt(14),o=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==dg){this.m=4,yt(15),Jr(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else Jr(this.i,this.l,Je,null),vh(this,Je);if(pg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||d.length!=0||this.h.h||(this.m=1,yt(16),o=!1),this.o=this.o&&o,!o)Jr(this.i,this.l,d,"[Invalid Chunked Response]"),dr(this),Ta(this);else if(d.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),Ch(z),z.P=!0,yt(11))}}else Jr(this.i,this.l,d,null),vh(this,d);ie==4&&dr(this),this.o&&!this.K&&(ie==4?Bg(this.j,this):(this.o=!1,Tl(this)))}else Sw(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),dr(this),Ta(this)}}}catch{}finally{}};function ow(o){if(!pg(o))return o.g.la();const h=Vg(o.g);if(h==="")return"";let d="";const _=h.length,V=fi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return dr(o),Ta(o),"";o.h.i=new a.TextDecoder}for(let k=0;k<_;k++)o.h.h=!0,d+=o.h.i.decode(h[k],{stream:!(V&&k==_-1)});return h.length=0,o.h.g+=d,o.C=0,o.h.g}function pg(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function lw(o,h){var d=o.C,_=h.indexOf(`
`,d);return _==-1?gh:(d=Number(h.substring(d,_)),isNaN(d)?dg:(_+=1,_+d>h.length?gh:(h=h.slice(_,_+d),o.C=_+d,h)))}ui.prototype.cancel=function(){this.K=!0,dr(this)};function Tl(o){o.T=Date.now()+o.H,gg(o,o.H)}function gg(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=_a(c(o.aa,o),h)}function _h(o){o.D&&(a.clearTimeout(o.D),o.D=null)}ui.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(rw(this.i,this.B),this.M!=2&&(ya(),yt(17)),dr(this),this.m=2,Ta(this)):gg(this,this.T-o)};function Ta(o){o.j.I==0||o.K||Bg(o.j,o)}function dr(o){_h(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,ig(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function vh(o,h){try{var d=o.j;if(d.I!=0&&(d.g==o||Eh(d.h,o))){if(!o.L&&Eh(d.h,o)&&d.I==3){try{var _=d.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var V=_;if(V[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)Cl(d),wl(d);else break e;Rh(d),yt(18)}}else d.xa=V[1],0<d.xa-d.K&&V[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=_a(c(d.Va,d),6e3));vg(d.h)<=1&&d.ta&&(d.ta=void 0)}else pr(d,11)}else if((o.L||d.g==o)&&Cl(d),!S(h))for(V=d.Ba.g.parse(h),h=0;h<V.length;h++){let Ee=V[h];const Je=Ee[0];if(!(Je<=d.K))if(d.K=Je,Ee=Ee[1],d.I==2)if(Ee[0]=="c"){d.M=Ee[1],d.ba=Ee[2];const fn=Ee[3];fn!=null&&(d.ka=fn,d.j.info("VER="+d.ka));const gr=Ee[4];gr!=null&&(d.za=gr,d.j.info("SVER="+d.za));const di=Ee[5];di!=null&&typeof di=="number"&&di>0&&(_=1.5*di,d.O=_,d.j.info("backChannelRequestTimeoutMs_="+_)),_=d;const mi=o.g;if(mi){const Nl=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nl){var k=_.h;k.g||Nl.indexOf("spdy")==-1&&Nl.indexOf("quic")==-1&&Nl.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Th(k,k.h),k.h=null))}if(_.G){const Ih=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ih&&(_.wa=Ih,be(_.J,_.G,Ih))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),_=d;var z=o;if(_.na=Fg(_,_.L?_.ba:null,_.W),z.L){Eg(_.h,z);var ie=z,Ke=_.O;Ke&&(ie.H=Ke),ie.D&&(_h(ie),Tl(ie)),_.g=z}else Ug(_);d.i.length>0&&Rl(d)}else Ee[0]!="stop"&&Ee[0]!="close"||pr(d,7);else d.I==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?pr(d,7):wh(d):Ee[0]!="noop"&&d.l&&d.l.qa(Ee),d.A=0)}}ya(4)}catch{}}var uw=class{constructor(o,h){this.g=o,this.map=h}};function yg(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _g(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function vg(o){return o.h?1:o.g?o.g.size:0}function Eh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Th(o,h){o.g?o.g.add(h):o.h=h}function Eg(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}yg.prototype.cancel=function(){if(this.i=Tg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Tg(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.G);return h}return y(o.i)}var Sg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cw(o,h){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const _=o[d].indexOf("=");let V,k=null;_>=0?(V=o[d].substring(0,_),k=o[d].substring(_+1)):V=o[d],h(V,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ci(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof ci?(this.l=o.l,Sa(this,o.j),this.o=o.o,this.g=o.g,ba(this,o.u),this.h=o.h,Sh(this,Ig(o.i)),this.m=o.m):o&&(h=String(o).match(Sg))?(this.l=!1,Sa(this,h[1]||"",!0),this.o=Aa(h[2]||""),this.g=Aa(h[3]||"",!0),ba(this,h[4]),this.h=Aa(h[5]||"",!0),Sh(this,h[6]||"",!0),this.m=Aa(h[7]||"")):(this.l=!1,this.i=new Ra(null,this.l))}ci.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(wa(h,bg,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(wa(h,bg,!0),"@"),o.push(Ea(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(wa(d,d.charAt(0)=="/"?dw:fw,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",wa(d,pw)),o.join("")},ci.prototype.resolve=function(o){const h=hn(this);let d=!!o.j;d?Sa(h,o.j):d=!!o.o,d?h.o=o.o:d=!!o.g,d?h.g=o.g:d=o.u!=null;var _=o.h;if(d)ba(h,o.u);else if(d=!!o.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var V=h.h.lastIndexOf("/");V!=-1&&(_=h.h.slice(0,V+1)+_)}if(V=_,V==".."||V==".")_="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){_=V.lastIndexOf("/",0)==0,V=V.split("/");const k=[];for(let z=0;z<V.length;){const ie=V[z++];ie=="."?_&&z==V.length&&k.push(""):ie==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),_&&z==V.length&&k.push("")):(k.push(ie),_=!0)}_=k.join("/")}else _=V}return d?h.h=_:d=o.i.toString()!=="",d?Sh(h,Ig(o.i)):d=!!o.m,d&&(h.m=o.m),h};function hn(o){return new ci(o)}function Sa(o,h,d){o.j=d?Aa(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function ba(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function Sh(o,h,d){h instanceof Ra?(o.i=h,gw(o.i,o.l)):(d||(h=wa(h,mw)),o.i=new Ra(h,o.l))}function be(o,h,d){o.i.set(h,d)}function Sl(o){return be(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Aa(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function wa(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,hw),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function hw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var bg=/[#\/\?@]/g,fw=/[#\?:]/g,dw=/[#\?]/g,mw=/[#\?@]/g,pw=/#/g;function Ra(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function mr(o){o.g||(o.g=new Map,o.h=0,o.i&&cw(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Ra.prototype,t.add=function(o,h){mr(this),this.i=null,o=Wr(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function Ag(o,h){mr(o),h=Wr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function wg(o,h){return mr(o),h=Wr(o,h),o.g.has(h)}t.forEach=function(o,h){mr(this),this.g.forEach(function(d,_){d.forEach(function(V){o.call(h,V,_,this)},this)},this)};function Rg(o,h){mr(o);let d=[];if(typeof h=="string")wg(o,h)&&(d=d.concat(o.g.get(Wr(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)d=d.concat(o[h]);return d}t.set=function(o,h){return mr(this),this.i=null,o=Wr(this,o),wg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=Rg(this,o),o.length>0?String(o[0]):h):h};function Cg(o,h,d){Ag(o,h),d.length>0&&(o.i=null,o.g.set(Wr(o,h),y(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var d=h[_];const V=Ea(d);d=Rg(this,d);for(let k=0;k<d.length;k++){let z=V;d[k]!==""&&(z+="="+Ea(d[k])),o.push(z)}}return this.i=o.join("&")};function Ig(o){const h=new Ra;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function Wr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function gw(o,h){h&&!o.j&&(mr(o),o.i=null,o.g.forEach(function(d,_){const V=_.toLowerCase();_!=V&&(Ag(this,_),Cg(this,V,d))},o)),o.j=h}function yw(o,h){const d=new va;if(a.Image){const _=new Image;_.onload=f(hi,d,"TestLoadImage: loaded",!0,h,_),_.onerror=f(hi,d,"TestLoadImage: error",!1,h,_),_.onabort=f(hi,d,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(hi,d,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else h(!1)}function _w(o,h){const d=new va,_=new AbortController,V=setTimeout(()=>{_.abort(),hi(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:_.signal}).then(k=>{clearTimeout(V),k.ok?hi(d,"TestPingServer: ok",!0,h):hi(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),hi(d,"TestPingServer: error",!1,h)})}function hi(o,h,d,_,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),_(d)}catch{}}function vw(){this.g=new tw}function bh(o){this.i=o.Sb||null,this.h=o.ab||!1}p(bh,rg),bh.prototype.g=function(){return new bl(this.i,this.h)};function bl(o,h){ht.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(bl,ht),t=bl.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,Ia(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ng(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ng(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?Ca(this):Ia(this),this.readyState==3&&Ng(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Ca(this))},t.Na=function(o){this.g&&(this.response=o,Ca(this))},t.ga=function(){this.g&&Ca(this)};function Ca(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Ia(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function Ia(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function xg(o){let h="";return me(o,function(d,_){h+=_,h+=":",h+=d,h+=`\r
`}),h}function Ah(o,h,d){e:{for(_ in d){var _=!1;break e}_=!0}_||(d=xg(d),typeof o=="string"?d!=null&&Ea(d):be(o,h,d))}function Me(o){ht.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Me,ht);var Ew=/^https?$/i,Tw=["POST","PUT"];t=Me.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,d,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hg.g(),this.g.onreadystatechange=g(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(k){Dg(this,k);return}if(o=d||"",d=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var V in _)d.set(V,_[V]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const k of _.keys())d.set(k,_.get(k));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(d.keys()).find(k=>k.toLowerCase()=="content-type"),V=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(Tw,h,void 0)>=0)||_||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,z]of d)this.g.setRequestHeader(k,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){Dg(this,k)}};function Dg(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,Og(o),Al(o)}function Og(o){o.A||(o.A=!0,gt(o,"complete"),gt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,gt(this,"complete"),gt(this,"abort"),Al(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Al(this,!0)),Me.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Mg(this):this.Xa())},t.Xa=function(){Mg(this)};function Mg(o){if(o.h&&typeof s<"u"){if(o.v&&fi(o)==4)setTimeout(o.Ca.bind(o),0);else if(gt(o,"readystatechange"),fi(o)==4){o.h=!1;try{const k=o.ca();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var _;if(_=k===0){let z=String(o.D).match(Sg)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),_=!Ew.test(z?z.toLowerCase():"")}d=_}if(d)gt(o,"complete"),gt(o,"success");else{o.o=6;try{var V=fi(o)>2?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.ca()+"]",Og(o)}}finally{Al(o)}}}}function Al(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,h||gt(o,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fi(o){return o.g?o.g.readyState:0}t.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),ew(h)}};function Vg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Sw(o){const h={};o=(o.g&&fi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(S(o[_]))continue;var d=aw(o[_]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const k=h[V]||[];h[V]=k,k.push(d)}Ue(h,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function kg(o){this.za=0,this.i=[],this.j=new va,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Na("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Na("baseRetryDelayMs",5e3,o),this.Za=Na("retryDelaySeedMs",1e4,o),this.Ta=Na("forwardChannelMaxRetries",2,o),this.va=Na("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new yg(o&&o.concurrentRequestLimit),this.Ba=new vw,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=kg.prototype,t.ka=8,t.I=1,t.connect=function(o,h,d,_){yt(0),this.W=o,this.H=h||{},d&&_!==void 0&&(this.H.OSID=d,this.H.OAID=_),this.F=this.X,this.J=Fg(this,null,this.W),Rl(this)};function wh(o){if(Pg(o),o.I==3){var h=o.V++,d=hn(o.J);if(be(d,"SID",o.M),be(d,"RID",h),be(d,"TYPE","terminate"),xa(o,d),h=new ui(o,o.j,h),h.M=2,h.A=Sl(hn(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=h.A,d=!0),d||(h.g=Gg(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Tl(h)}qg(o)}function wl(o){o.g&&(Ch(o),o.g.cancel(),o.g=null)}function Pg(o){wl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Cl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Rl(o){if(!_g(o.h)&&!o.m){o.m=!0;var h=o.Ea;U||E(),H||(U(),H=!0),w.add(h,o),o.D=0}}function bw(o,h){return vg(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=_a(c(o.Ea,o,h),Hg(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const V=new ui(this,this.j,o);let k=this.o;if(this.U&&(k?(k=cr(k),Xr(k,this.U)):k=this.U),this.u!==null||this.R||(V.J=k,k=null),this.S)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var _=this.i[d];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=jg(this,V,h),d=hn(this.J),be(d,"RID",o),be(d,"CVER",22),this.G&&be(d,"X-HTTP-Session-Id",this.G),xa(this,d),k&&(this.R?h="headers="+Ea(xg(k))+"&"+h:this.u&&Ah(d,this.u,k)),Th(this.h,V),this.Ra&&be(d,"TYPE","init"),this.S?(be(d,"$req",h),be(d,"SID","null"),V.U=!0,yh(V,d,null)):yh(V,d,h),this.I=2}}else this.I==3&&(o?Lg(this,o):this.i.length==0||_g(this.h)||Lg(this))};function Lg(o,h){var d;h?d=h.l:d=o.V++;const _=hn(o.J);be(_,"SID",o.M),be(_,"RID",d),be(_,"AID",o.K),xa(o,_),o.u&&o.o&&Ah(_,o.u,o.o),d=new ui(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),h&&(o.i=h.G.concat(o.i)),h=jg(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Th(o.h,d),yh(d,_,h)}function xa(o,h){o.H&&me(o.H,function(d,_){be(h,_,d)}),o.l&&me({},function(d,_){be(h,_,d)})}function jg(o,h,d){d=Math.min(o.i.length,d);const _=o.l?c(o.l.Ka,o.l,o):null;e:{var V=o.i;let ie=-1;for(;;){const Ke=["count="+d];ie==-1?d>0?(ie=V[0].g,Ke.push("ofs="+ie)):ie=0:Ke.push("ofs="+ie);let Ee=!0;for(let Je=0;Je<d;Je++){var k=V[Je].g;const fn=V[Je].map;if(k-=ie,k<0)ie=Math.max(0,V[Je].g-100),Ee=!1;else try{k="req"+k+"_"||"";try{var z=fn instanceof Map?fn:Object.entries(fn);for(const[gr,di]of z){let mi=di;l(di)&&(mi=fh(di)),Ke.push(k+gr+"="+encodeURIComponent(mi))}}catch(gr){throw Ke.push(k+"type="+encodeURIComponent("_badmap")),gr}}catch{_&&_(fn)}}if(Ee){z=Ke.join("&");break e}}z=void 0}return o=o.i.splice(0,d),h.G=o,z}function Ug(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;U||E(),H||(U(),H=!0),w.add(h,o),o.A=0}}function Rh(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=_a(c(o.Da,o),Hg(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,zg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=_a(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),wl(this),zg(this))};function Ch(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function zg(o){o.g=new ui(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=hn(o.na);be(h,"RID","rpc"),be(h,"SID",o.M),be(h,"AID",o.K),be(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&be(h,"TO",o.ia),be(h,"TYPE","xmlhttp"),xa(o,h),o.u&&o.o&&Ah(h,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=Sl(hn(h)),d.u=null,d.R=!0,mg(d,o)}t.Va=function(){this.C!=null&&(this.C=null,wl(this),Rh(this),yt(19))};function Cl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function Bg(o,h){var d=null;if(o.g==h){Cl(o),Ch(o),o.g=null;var _=2}else if(Eh(o.h,h))d=h.G,Eg(o.h,h),_=1;else return;if(o.I!=0){if(h.o)if(_==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var V=o.D;_=vl(),gt(_,new ug(_,d)),Rl(o)}else Ug(o);else if(V=h.m,V==3||V==0&&h.X>0||!(_==1&&bw(o,h)||_==2&&Rh(o)))switch(d&&d.length>0&&(h=o.h,h.i=h.i.concat(d)),V){case 1:pr(o,5);break;case 4:pr(o,10);break;case 3:pr(o,6);break;default:pr(o,2)}}}function Hg(o,h){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*h}function pr(o,h){if(o.j.info("Error code "+h),h==2){var d=c(o.bb,o),_=o.Ua;const V=!_;_=new ci(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sa(_,"https"),Sl(_),V?yw(_.toString(),d):_w(_.toString(),d)}else yt(2);o.I=0,o.l&&o.l.pa(h),qg(o),Pg(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function qg(o){if(o.I=0,o.ja=[],o.l){const h=Tg(o.h);(h.length!=0||o.i.length!=0)&&(I(o.ja,h),I(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function Fg(o,h,d){var _=d instanceof ci?hn(d):new ci(d);if(_.g!="")h&&(_.g=h+"."+_.g),ba(_,_.u);else{var V=a.location;_=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;const k=new ci(null);_&&Sa(k,_),h&&(k.g=h),V&&ba(k,V),d&&(k.h=d),_=k}return d=o.G,h=o.wa,d&&h&&be(_,d,h),be(_,"VER",o.ka),xa(o,_),_}function Gg(o,h,d){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new Me(new bh({ab:d})):new Me(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kg(){}t=Kg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Il(){}Il.prototype.g=function(o,h){return new xt(o,h)};function xt(o,h){ht.call(this),this.g=new kg(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!S(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!S(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Zr(this)}p(xt,ht),xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){wh(this.g)},xt.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=fh(o),o=d);h.i.push(new uw(h.Ya++,o)),h.I==3&&Rl(h)},xt.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,xt.Z.N.call(this)};function Yg(o){dh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}p(Yg,dh);function Qg(){mh.call(this),this.status=1}p(Qg,mh);function Zr(o){this.g=o}p(Zr,Kg),Zr.prototype.ra=function(){gt(this.g,"a")},Zr.prototype.qa=function(o){gt(this.g,new Yg(o))},Zr.prototype.pa=function(o){gt(this.g,new Qg)},Zr.prototype.oa=function(){gt(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,Ab=function(){return new Il},bb=function(){return vl()},Sb=fr,jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,Tu=El,cg.COMPLETE="complete",Tb=cg,sg.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Qa=sg,Me.prototype.listenOnce=Me.prototype.K,Me.prototype.getLastError=Me.prototype.Ha,Me.prototype.getLastErrorCode=Me.prototype.ya,Me.prototype.getStatus=Me.prototype.ca,Me.prototype.getResponseJson=Me.prototype.La,Me.prototype.getResponseText=Me.prototype.la,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Fa,Eb=Me}).apply(typeof Ql<"u"?Ql:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="12.8.0";function ZD(t){ca=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new op("@firebase/firestore");function ss(){return Ur.logLevel}function q(t,...e){if(Ur.logLevel<=ae.DEBUG){const n=e.map(Ep);Ur.debug(`Firestore (${ca}): ${t}`,...n)}}function ni(t,...e){if(Ur.logLevel<=ae.ERROR){const n=e.map(Ep);Ur.error(`Firestore (${ca}): ${t}`,...n)}}function Gs(t,...e){if(Ur.logLevel<=ae.WARN){const n=e.map(Ep);Ur.warn(`Firestore (${ca}): ${t}`,...n)}}function Ep(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,wb(t,i,n)}function wb(t,e,n){let i=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ni(i),new Error(i)}function pe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||wb(e,r,i)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class tO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nO{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pe(typeof i.accessToken=="string",31837,{l:i}),new Rb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new dt(e)}}class iO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new iO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pe(this.o===void 0,3512);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=aO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function oe(t,e){return t<e?-1:t>e?1:0}function Ud(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return bf(r)===bf(s)?oe(r,s):bf(r)?1:-1}return oe(t.length,e.length)}const oO=55296,lO=57343;function bf(t){const e=t.charCodeAt(0);return e>=oO&&e<=lO}function Ks(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__name__";class dn{constructor(e,n,i){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Q(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return dn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=dn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return oe(e.length,n.length)}static compareSegments(e,n){const i=dn.isNumericId(e),r=dn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?dn.extractNumericId(e).compare(dn.extractNumericId(n)):Ud(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class xe extends dn{construct(e,n,i){return new xe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new F(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const uO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends dn{construct(e,n,i){return new ot(e,n,i)}static isValidIdentifier(e){return uO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new ot([ov])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new F(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(xe.fromString(e))}static fromName(e){return new K(xe.fromString(e).popFirst(5))}static empty(){return new K(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t,e,n){if(!n)throw new F(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hO(t,e,n,i){if(e===!0&&i===!0)throw new F(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lv(t){if(!K.isDocumentKey(t))throw new F(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function jo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sp(t);throw new F(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e){const n={typeString:t};return e&&(n.value=e),n}function dl(t,e){if(!Cb(t))throw new F(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new F(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*cv);return new Re(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uv)throw new F(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dl(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Ge("string",Re._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{static fromTimestamp(e){return new W(e)}static min(){return new W(new Re(0,0))}static max(){return new W(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=-1;function fO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=W.fromTimestamp(i===1e9?new Re(n+1,0):new Re(n,i));return new Zi(r,K.empty(),e)}function dO(t){return new Zi(t.readTime,t.key,Uo)}class Zi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Zi(W.min(),K.empty(),Uo)}static max(){return new Zi(W.max(),K.empty(),Uo)}}function mO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==pO)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,i)=>{n(e)})}static reject(e){return new L((n,i)=>{i(e)})}static waitFor(e){return new L((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=L.resolve(!1);for(const i of e)n=n.next(r=>r?L.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new L((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new L((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function yO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=-1;function $c(t){return t==null}function hc(t){return t===0&&1/t==-1/0}function _O(t){return typeof t=="number"&&Number.isInteger(t)&&!hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="";function vO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hv(e)),e=EO(t.get(n),e);return hv(e)}function EO(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case Ib:n+="";break;default:n+=s}}return n}function hv(t){return t+Ib+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??rt.RED,this.left=r??rt.EMPTY,this.right=s??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new rt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return rt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(e){return new dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new on([])}unionWith(e){let n=new $e(ot.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xb("Invalid base64 string: "+s):s}}(e);return new ct(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const TO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(t){if(pe(!!t,39018),typeof t=="string"){let e=0;const n=TO.exec(t);if(pe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tr(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="server_timestamp",Ob="__type__",Mb="__previous_value__",Vb="__local_write_time__";function Ap(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ob])==null?void 0:i.stringValue)===Db}function Xc(t){const e=t.mapValue.fields[Mb];return Ap(e)?Xc(e):e}function zo(t){const e=er(t.mapValue.fields[Vb].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,i,r,s,a,l,u,c,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f,this.apiKey=p}}const fc="(default)";class Bo{constructor(e,n){this.projectId=e,this.database=n||fc}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof Bo&&e.projectId===this.projectId&&e.database===this.database}}function bO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new F(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="__type__",AO="__max__",Xl={mapValue:{}},Pb="__vector__",dc="value";function nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ap(t)?4:RO(t)?9007199254740991:wO(t)?10:11:Q(28295,{value:t})}function An(t,e){if(t===e)return!0;const n=nr(t);if(n!==nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zo(t).isEqual(zo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=er(r.timestampValue),l=er(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return tr(r.bytesValue).isEqual(tr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Pe(r.geoPointValue.latitude)===Pe(s.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Pe(r.integerValue)===Pe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Pe(r.doubleValue),l=Pe(s.doubleValue);return a===l?hc(a)===hc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ks(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(fv(a)!==fv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!An(a[u],l[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function Ho(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=nr(t),i=nr(e);if(n!==i)return oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Pe(s.integerValue||s.doubleValue),u=Pe(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return mv(t.timestampValue,e.timestampValue);case 4:return mv(zo(t),zo(e));case 5:return Ud(t.stringValue,e.stringValue);case 6:return function(s,a){const l=tr(s),u=tr(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=oe(l[c],u[c]);if(f!==0)return f}return oe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=oe(Pe(s.latitude),Pe(a.latitude));return l!==0?l:oe(Pe(s.longitude),Pe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pv(t.arrayValue,e.arrayValue);case 10:return function(s,a){var g,y,I,x;const l=s.fields||{},u=a.fields||{},c=(g=l[dc])==null?void 0:g.arrayValue,f=(y=u[dc])==null?void 0:y.arrayValue,p=oe(((I=c==null?void 0:c.values)==null?void 0:I.length)||0,((x=f==null?void 0:f.values)==null?void 0:x.length)||0);return p!==0?p:pv(c,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Xl.mapValue&&a===Xl.mapValue)return 0;if(s===Xl.mapValue)return 1;if(a===Xl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=Ud(u[p],f[p]);if(g!==0)return g;const y=Ys(l[u[p]],c[f[p]]);if(y!==0)return y}return oe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function mv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=er(t),i=er(e),r=oe(n.seconds,i.seconds);return r!==0?r:oe(n.nanos,i.nanos)}function pv(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Ys(n[r],i[r]);if(s)return s}return oe(n.length,i.length)}function Qs(t){return zd(t)}function zd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=er(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=zd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${zd(n.fields[a])}`;return r+"}"}(t.mapValue):Q(61005,{value:t})}function Su(t){switch(nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xc(t);return e?16+Su(e):16;case 5:return 2*t.stringValue.length;case 6:return tr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Su(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Kr(i.fields,(s,a)=>{r+=s.length+Su(a)}),r}(t.mapValue);default:throw Q(13486,{value:t})}}function Bd(t){return!!t&&"integerValue"in t}function wp(t){return!!t&&"arrayValue"in t}function gv(t){return!!t&&"nullValue"in t}function yv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bu(t){return!!t&&"mapValue"in t}function wO(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kb])==null?void 0:i.stringValue)===Pb}function po(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Kr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=po(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=po(t.arrayValue.values[n]);return e}return{...t}}function RO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!bu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=po(n)}setAll(e){let n=ot.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=po(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());bu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];bu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Kr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Xt(po(this.value))}}function Lb(t){const e=[];return Kr(t.fields,(n,i)=>{const r=new ot([n]);if(bu(i)){const s=Lb(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new mt(e,0,W.min(),W.min(),W.min(),Xt.empty(),0)}static newFoundDocument(e,n,i,r){return new mt(e,1,n,W.min(),i,r,0)}static newNoDocument(e,n){return new mt(e,2,n,W.min(),W.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,W.min(),W.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.position=e,this.inclusive=n}}function _v(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=K.comparator(K.fromName(a.referenceValue),n.key):i=Ys(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function vv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function CO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{}class Qe extends jb{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new NO(e,n,i):n==="array-contains"?new OO(e,i):n==="in"?new MO(e,i):n==="not-in"?new VO(e,i):n==="array-contains-any"?new kO(e,i):new Qe(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new xO(e,i):new DO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ys(n,this.value)):n!==null&&nr(this.value)===nr(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wn extends jb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wn(e,n)}matches(e){return Ub(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ub(t){return t.op==="and"}function zb(t){return IO(t)&&Ub(t)}function IO(t){for(const e of t.filters)if(e instanceof wn)return!1;return!0}function Hd(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Qs(t.value);if(zb(t))return t.filters.map(e=>Hd(e)).join(",");{const e=t.filters.map(n=>Hd(n)).join(",");return`${t.op}(${e})`}}function Bb(t,e){return t instanceof Qe?function(i,r){return r instanceof Qe&&i.op===r.op&&i.field.isEqual(r.field)&&An(i.value,r.value)}(t,e):t instanceof wn?function(i,r){return r instanceof wn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&Bb(a,r.filters[l]),!0):!1}(t,e):void Q(19439)}function Hb(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`}(t):t instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(Hb).join(" ,")+"}"}(t):"Filter"}class NO extends Qe{constructor(e,n,i){super(e,n,i),this.key=K.fromName(i.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class xO extends Qe{constructor(e,n){super(e,"in",n),this.keys=qb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DO extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=qb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>K.fromName(i.referenceValue))}class OO extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&Ho(n.arrayValue,this.value)}}class MO extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ho(this.value.arrayValue,n)}}class VO extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ho(this.value.arrayValue,n)}}class kO extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ho(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function Ev(t,e=null,n=[],i=[],r=null,s=null,a=null){return new PO(t,e,n,i,r,s,a)}function Rp(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Hd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),$c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Qs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Qs(i)).join(",")),e.Te=n}return e.Te}function Cp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Bb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vv(t.startAt,e.startAt)&&vv(t.endAt,e.endAt)}function qd(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function LO(t,e,n,i,r,s,a,l){return new Jc(t,e,n,i,r,s,a,l)}function Ip(t){return new Jc(t)}function Tv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jO(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function UO(t){return t.collectionGroup!==null}function go(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new $e(ot.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new pc(s,i))}),n.has(ot.keyField().canonicalString())||e.Ie.push(new pc(ot.keyField(),i))}return e.Ie}function En(t){const e=Z(t);return e.Ee||(e.Ee=zO(e,go(t))),e.Ee}function zO(t,e){if(t.limitType==="F")return Ev(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new pc(r.field,s)});const n=t.endAt?new mc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new mc(t.startAt.position,t.startAt.inclusive):null;return Ev(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Fd(t,e,n){return new Jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wc(t,e){return Cp(En(t),En(e))&&t.limitType===e.limitType}function Fb(t){return`${Rp(En(t))}|lt:${t.limitType}`}function as(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Hb(r)).join(", ")}]`),$c(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Qs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Qs(r)).join(",")),`Target(${i})`}(En(t))}; limitType=${t.limitType})`}function Zc(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):K.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of go(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=_v(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,go(i),r)||i.endAt&&!function(a,l,u){const c=_v(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,go(i),r))}(t,e)}function BO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gb(t){return(e,n)=>{let i=!1;for(const r of go(t)){const s=HO(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function HO(t,e,n){const i=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Ys(u,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Nb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new Oe(K.comparator);function ii(){return qO}const Kb=new Oe(K.comparator);function $a(...t){let e=Kb;for(const n of t)e=e.insert(n.key,n);return e}function Yb(t){let e=Kb;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ar(){return yo()}function Qb(){return yo()}function yo(){return new Yr(t=>t.toString(),(t,e)=>t.isEqual(e))}const FO=new Oe(K.comparator),GO=new $e(K.comparator);function le(...t){let e=GO;for(const n of t)e=e.add(n);return e}const KO=new $e(oe);function YO(){return KO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function $b(t){return{integerValue:""+t}}function QO(t,e){return _O(e)?$b(e):Np(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function $O(t,e,n){return t instanceof gc?function(r,s){const a={fields:{[Ob]:{stringValue:Db},[Vb]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ap(s)&&(s=Xc(s)),s&&(a.fields[Mb]=s),{mapValue:a}}(n,e):t instanceof qo?Jb(t,e):t instanceof Fo?Wb(t,e):function(r,s){const a=Xb(r,s),l=Sv(a)+Sv(r.Ae);return Bd(a)&&Bd(r.Ae)?$b(l):Np(r.serializer,l)}(t,e)}function XO(t,e,n){return t instanceof qo?Jb(t,e):t instanceof Fo?Wb(t,e):n}function Xb(t,e){return t instanceof yc?function(i){return Bd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class gc extends eh{}class qo extends eh{constructor(e){super(),this.elements=e}}function Jb(t,e){const n=Zb(e);for(const i of t.elements)n.some(r=>An(r,i))||n.push(i);return{arrayValue:{values:n}}}class Fo extends eh{constructor(e){super(),this.elements=e}}function Wb(t,e){let n=Zb(e);for(const i of t.elements)n=n.filter(r=>!An(r,i));return{arrayValue:{values:n}}}class yc extends eh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Sv(t){return Pe(t.integerValue||t.doubleValue)}function Zb(t){return wp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JO(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof qo&&r instanceof qo||i instanceof Fo&&r instanceof Fo?Ks(i.elements,r.elements,An):i instanceof yc&&r instanceof yc?An(i.Ae,r.Ae):i instanceof gc&&r instanceof gc}(t.transform,e.transform)}class WO{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class th{}function eA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nA(t.key,Gn.none()):new ml(t.key,t.data,Gn.none());{const n=t.data,i=Xt.empty();let r=new $e(ot.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Qr(t.key,i,new on(r.toArray()),Gn.none())}}function ZO(t,e,n){t instanceof ml?function(r,s,a){const l=r.value.clone(),u=Av(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Qr?function(r,s,a){if(!Au(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Av(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(tA(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function _o(t,e,n,i){return t instanceof ml?function(s,a,l,u){if(!Au(s.precondition,a))return l;const c=s.value.clone(),f=wv(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Qr?function(s,a,l,u){if(!Au(s.precondition,a))return l;const c=wv(s.fieldTransforms,u,a),f=a.data;return f.setAll(tA(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(s,a,l){return Au(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function eM(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=Xb(i.transform,r||null);s!=null&&(n===null&&(n=Xt.empty()),n.set(i.field,s))}return n||null}function bv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ks(i,r,(s,a)=>JO(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ml extends th{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qr extends th{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Av(t,e,n){const i=new Map;pe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,XO(a,l,n[r]))}return i}function wv(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,$O(s,a,e))}return i}class nA extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tM extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&ZO(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=_o(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=_o(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Qb();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=eA(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(W.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,(n,i)=>bv(n,i))&&Ks(this.baseMutations,e.baseMutations,(n,i)=>bv(n,i))}}class xp{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){pe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return FO}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new xp(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,he;function sM(t){switch(t){case j.OK:return Q(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function iA(t){if(t===void 0)return ni("GRPC error has no .code"),j.UNKNOWN;switch(t){case ze.OK:return j.OK;case ze.CANCELLED:return j.CANCELLED;case ze.UNKNOWN:return j.UNKNOWN;case ze.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ze.INTERNAL:return j.INTERNAL;case ze.UNAVAILABLE:return j.UNAVAILABLE;case ze.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ze.NOT_FOUND:return j.NOT_FOUND;case ze.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ze.ABORTED:return j.ABORTED;case ze.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ze.DATA_LOSS:return j.DATA_LOSS;default:return Q(39323,{code:t})}}(he=ze||(ze={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new Yi([4294967295,4294967295],0);function Rv(t){const e=aM().encode(t),n=new vb;return n.update(e),new Uint8Array(n.digest())}function Cv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yi([n,i],0),new Yi([r,s],0)]}class Dp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xa(`Invalid padding: ${n}`);if(i<0)throw new Xa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yi.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Yi.fromNumber(i)));return r.compare(oM)===1&&(r=new Yi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rv(e),[i,r]=Cv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Dp(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Rv(e),[i,r]=Cv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.be(a)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new nh(W.min(),r,new Oe(oe),ii(),le())}}class pl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new pl(i,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=r}}class rA{constructor(e,n){this.targetId=e,this.Ce=n}}class sA{constructor(e,n,i=ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Iv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=le(),n=le(),i=le();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q(38017,{changeType:s})}}),new pl(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=Nv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class lM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.He=Jl(),this.Je=Jl(),this.Ze=new Oe(oe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(qd(s))if(i===0){const a=new K(s.path);this.et(n,a,mt.newNoDocument(a,W.min()))}else pe(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=tr(i).toUint8Array()}catch(u){if(u instanceof xb)return Gs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Dp(a,r,s)}catch(u){return Gs(u instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&qd(l.target)){const u=new K(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,mt.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}});let i=le();this.Je.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new nh(e,n,this.Ze,this.je,i);return this.je=ii(),this.He=Jl(),this.Je=Jl(),this.Ze=new Oe(oe),r}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Iv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new $e(oe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new $e(oe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Iv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jl(){return new Oe(K.comparator)}function Nv(){return new Oe(K.comparator)}const uM={asc:"ASCENDING",desc:"DESCENDING"},cM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hM={and:"AND",or:"OR"};class fM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gd(t,e){return t.useProto3Json||$c(e)?e:{value:e}}function _c(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dM(t,e){return _c(t,e.toTimestamp())}function Tn(t){return pe(!!t,49232),W.fromTimestamp(function(n){const i=er(n);return new Re(i.seconds,i.nanos)}(t))}function Op(t,e){return Kd(t,e).canonicalString()}function Kd(t,e){const n=function(r){return new xe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oA(t){const e=xe.fromString(t);return pe(fA(e),10190,{key:e.toString()}),e}function Yd(t,e){return Op(t.databaseId,e.path)}function Af(t,e){const n=oA(e);if(n.get(1)!==t.databaseId.projectId)throw new F(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(uA(n))}function lA(t,e){return Op(t.databaseId,e)}function mM(t){const e=oA(t);return e.length===4?xe.emptyPath():uA(e)}function Qd(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uA(t){return pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xv(t,e,n){return{name:Yd(t,e),fields:n.value.mapValue.fields}}function pM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(pe(f===void 0||typeof f=="string",58123),ct.fromBase64String(f||"")):(pe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ct.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const f=c.code===void 0?j.UNKNOWN:iA(c.code);return new F(f,c.message||"")}(a);n=new sA(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Af(t,i.document.name),s=Tn(i.document.updateTime),a=i.document.createTime?Tn(i.document.createTime):W.min(),l=new Xt({mapValue:{fields:i.document.fields}}),u=mt.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new wu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Af(t,i.document),s=i.readTime?Tn(i.readTime):W.min(),a=mt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new wu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Af(t,i.document),s=i.removedTargetIds||[];n=new wu([],s,r,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new rM(r,s),l=i.targetId;n=new rA(l,a)}}return n}function gM(t,e){let n;if(e instanceof ml)n={update:xv(t,e.key,e.value)};else if(e instanceof nA)n={delete:Yd(t,e.key)};else if(e instanceof Qr)n={update:xv(t,e.key,e.data),updateMask:wM(e.fieldMask)};else{if(!(e instanceof tM))return Q(16599,{dt:e.type});n={verify:Yd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof gc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof qo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof yc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Q(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:dM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(t,e.precondition)),n}function yM(t,e){return t&&t.length>0?(pe(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?Tn(r.updateTime):Tn(s);return a.isEqual(W.min())&&(a=Tn(s)),new WO(a,r.transformResults||[])}(n,e))):[]}function _M(t,e){return{documents:[lA(t,e.path)]}}function vM(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=lA(t,r);const s=function(c){if(c.length!==0)return hA(wn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:os(g.field),direction:SM(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Gd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function EM(t){let e=mM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){pe(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const g=cA(p);return g instanceof wn&&zb(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(I){return new pc(ls(I.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,$c(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new mc(y,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,y=p.values||[];return new mc(y,g)}(n.endAt)),LO(e,r,a,s,l,"F",u,c)}function TM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ls(n.unaryFilter.field);return Qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ls(n.unaryFilter.field);return Qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ls(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ls(n.unaryFilter.field);return Qe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(ls(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wn.create(n.compositeFilter.filters.map(i=>cA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function SM(t){return uM[t]}function bM(t){return cM[t]}function AM(t){return hM[t]}function os(t){return{fieldPath:t.canonicalString()}}function ls(t){return ot.fromServerFormat(t.fieldPath)}function hA(t){return t instanceof Qe?function(n){if(n.op==="=="){if(yv(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NAN"}};if(gv(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yv(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NAN"}};if(gv(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(n.field),op:bM(n.op),value:n.value}}}(t):t instanceof wn?function(n){const i=n.getFilters().map(r=>hA(r));return i.length===1?i[0]:{compositeFilter:{op:AM(n.op),filters:i}}}(t):Q(54877,{filter:t})}function wM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function dA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,i,r,s=W.min(),a=W.min(),l=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.yt=e}}function CM(t){const e=EM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.Sn=new NM}addToCollectionParentIndex(e,n){return this.Sn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Zi.min())}updateCollectionGroup(e,n,i){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class NM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new $e(xe.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new $e(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mA=41943040;class wt{static withCacheSize(e){return new wt(e,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wt.DEFAULT_COLLECTION_PERCENTILE=10,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wt.DEFAULT=new wt(mA,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wt.DISABLED=new wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $s(0)}static ar(){return new $s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="LruGarbageCollector",xM=1048576;function Mv([t,e],[n,i]){const r=oe(t,n);return r===0?oe(e,i):r}class DM{constructor(e){this.Pr=e,this.buffer=new $e(Mv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Mv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){q(Ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fa(n)?q(Ov,"Ignoring IndexedDB error during garbage collection: ",n):await ha(n)}await this.Ar(3e5)})}}class MM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Qc.ce);const i=new DM(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Dv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,l=Date.now(),this.removeTargets(e,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(c=Date.now(),ss()<=ae.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function VM(t,e){return new MM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.changes=new Yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&_o(i.mutation,r,on.empty(),Re.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=le()){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=$a();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,le()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=ii();const a=yo(),l=function(){return yo()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof Qr)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),_o(f.mutation,c,f.mutation.getFieldMask(),Re.now())):a.set(c.key,on.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>l.set(c,new PM(f,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=yo();let r=new Oe((a,l)=>a-l),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||on.empty();f=l.applyToLocalView(c,f),i.set(u,f);const p=(r.get(l.batchId)||le()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=Qb();f.forEach(g=>{if(!s.has(g)){const y=eA(n.get(g),i.get(g));y!==null&&p.set(g,y),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,p))}return L.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return jO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):L.resolve(Ar());let l=Uo,u=s;return a.next(c=>L.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,le())).next(f=>({batchId:l,changes:Yb(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(i=>{let r=$a();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=$a();return this.indexManager.getCollectionParents(e,s).next(l=>L.forEach(l,u=>{const c=function(p,g){return new Jc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,mt.newInvalidDocument(f)))});let l=$a();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&_o(f.mutation,c,on.empty(),Re.now()),Zc(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return L.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Tn(r.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(r){return{name:r.name,query:CM(r.bundledQuery),readTime:Tn(r.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.overlays=new Oe(K.comparator),this.Lr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ar();return L.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.bt(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),L.resolve()}getOverlaysForCollection(e,n,i){const r=Ar(),s=n.length+1,a=new K(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return L.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Oe((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=Ar(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Ar(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return L.resolve(l)}bt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new iM(n,i));let s=this.Lr.get(n);s===void 0&&(s=le(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.kr=new $e(We.Kr),this.qr=new $e(We.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new We(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new We(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new K(new xe([])),i=new We(n,e),r=new We(n,e+1),s=[];return this.qr.forEachInRange([i,r],a=>{this.Wr(a),s.push(a.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new K(new xe([])),i=new We(n,e),r=new We(n,e+1);let s=le();return this.qr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new We(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class We{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return K.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new $e(We.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nM(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Jr=this.Jr.add(new We(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Xr(i),s=r<0?0:r;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?bp:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new We(n,0),r=new We(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,r],a=>{const l=this.Zr(a.Hr);s.push(l)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new $e(oe);return n.forEach(r=>{const s=new We(r,0),a=new We(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],l=>{i=i.add(l.Hr)})}),L.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;K.isDocumentKey(s)||(s=s.child(""));const a=new We(new K(s),0);let l=new $e(oe);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Hr)),!0)},a),L.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){pe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return L.forEach(n.mutations,r=>{const s=new We(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new We(n,0),r=this.Jr.firstAfterOrEqual(i);return L.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.ti=e,this.docs=function(){return new Oe(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let i=ii();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mt.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=ii();const a=n.path,l=new K(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||mO(dO(f),i)<=0||(r.has(f.key)||Zc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Q(9500)}ni(e,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new qM(this)}getSize(e){return L.resolve(this.size)}}class qM extends kM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(i)}),L.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.persistence=e,this.ri=new Yr(n=>Rp(n),Cp),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.ii=0,this.si=new Mp,this.targetCount=0,this.oi=$s._r()}forEachTarget(e,n){return this.ri.forEach((i,r)=>n(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),L.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new $s(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.lr(n),L.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.ri.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),L.waitFor(s).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return L.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),L.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return L.resolve(i)}containsKey(e,n){return L.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){this._i={},this.overlays={},this.ai=new Qc(0),this.ui=!1,this.ui=!0,this.ci=new zM,this.referenceDelegate=e(this),this.li=new FM(this),this.indexManager=new IM,this.remoteDocumentCache=function(r){return new HM(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new RM(n),this.Pi=new jM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new BM(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);const r=new GM(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(s=>this.referenceDelegate.Ii(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ei(e,n){return L.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class GM extends gO{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Ai=null}static Vi(e){return new Vp(e)}get di(){if(this.Ai)return this.Ai;throw Q(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),L.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,i=>{const r=K.fromPath(i);return this.mi(e,r).next(s=>{s||n.removeEntry(r,W.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vc{constructor(e,n){this.persistence=e,this.fi=new Yr(i=>vO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=VM(this,n)}static Vi(e,n){return new vc(e,n)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return L.forEach(this.fi,(i,r)=>this.wr(e,i,r).next(s=>s?L.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ni(e,a=>this.wr(e,a,n).next(l=>{l||(i++,s.removeEntry(a,W.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),L.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Su(e.data.value)),n}wr(e,n,i){return L.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.fi.get(n);return L.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=r}static Es(e,n){let i=le(),r=le();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new kp(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return y2()?8:yO(pt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.gs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ps(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new KM;return this.ys(e,n,a).next(l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)})}).next(()=>s.result)}ws(e,n,i,r){return i.documentReadCount<this.Vs?(ss()<=ae.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",as(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(ss()<=ae.DEBUG&&q("QueryEngine","Query:",as(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(ss()<=ae.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",as(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,En(n))):L.resolve())}gs(e,n){if(Tv(n))return L.resolve(null);let i=En(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Fd(n,null,"F"),i=En(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=le(...s);return this.fs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,a,u.readTime)?this.gs(e,Fd(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,i,r){return Tv(n)||r.isEqual(W.min())?L.resolve(null):this.fs.getDocuments(e,i).next(s=>{const a=this.bs(n,s);return this.Ss(n,a,i,r)?L.resolve(null):(ss()<=ae.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),as(n)),this.Ds(e,a,n,fO(r,Uo)).next(l=>l))})}bs(e,n){let i=new $e(Gb(e));return n.forEach((r,s)=>{Zc(e,s)&&(i=i.add(s))}),i}Ss(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ys(e,n,i){return ss()<=ae.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",as(n)),this.fs.getDocumentsMatchingQuery(e,n,Zi.min(),i)}Ds(e,n,i,r){return this.fs.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LocalStore",QM=3e8;class $M{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.vs=new Oe(oe),this.Fs=new Yr(s=>Rp(s),Cp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function XM(t,e,n,i){return new $M(t,e,n,i)}async function gA(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=le();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:l}))})})}function JM(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,g=p.keys();let y=L.resolve();return g.forEach(I=>{y=y.next(()=>f.getEntry(u,I)).next(x=>{const M=c.docVersions.get(I);pe(M!==null,48541),x.version.compareTo(M)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),f.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=le();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function yA(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function WM(t,e){const n=Z(t),i=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];e.targetChanges.forEach((f,p)=>{const g=r.get(p);if(!g)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.li.addMatchingKeys(s,f.addedDocuments,p)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ct.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(p,y),function(x,M,T){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=QM?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,y,f)&&l.push(n.li.updateTargetData(s,y))});let u=ii(),c=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(ZM(s,a,e.documentUpdates).next(f=>{u=f.Bs,c=f.Ls})),!i.isEqual(W.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next(p=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return L.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.vs=r,s))}function ZM(t,e,n){let i=le(),r=le();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=ii();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):q(Pp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:a,Ls:r}})}function e4(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function t4(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,e).next(s=>s?(r=s,L.resolve(r)):n.li.allocateTargetId(i).next(a=>(r=new Vi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function $d(t,e,n){const i=Z(t),r=i.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!fa(a))throw a;q(Pp,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function Vv(t,e,n){const i=Z(t);let r=W.min(),s=le();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const p=Z(u),g=p.Fs.get(f);return g!==void 0?L.resolve(p.vs.get(g)):p.li.getTargetData(c,f)}(i,a,En(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,n?r:W.min(),n?s:le())).next(l=>(n4(i,BO(e),l),{documents:l,ks:s})))}function n4(t,e,n){let i=t.Ms.get(e)||W.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ms.set(e,i)}class kv{constructor(){this.activeTargetIds=YO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i4{constructor(){this.vo=new kv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new kv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="ConnectivityMonitor";class Lv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q(Pv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){q(Pv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl=null;function Xd(){return Wl===null?Wl=function(){return 268435456+Math.round(2147483648*Math.random())}():Wl++,"0x"+Wl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",s4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class a4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===fc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,s){const a=Xd(),l=this.Qo(e,n.toUriEncodedString());q(wf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,r,s);const{host:c}=new URL(l),f=oa(c);return this.zo(e,l,u,i,f).then(p=>(q(wf,`Received RPC '${e}' ${a}: `,p),p),p=>{throw Gs(wf,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}jo(e,n,i,r,s,a){return this.Wo(e,n,i,r,s)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ca}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Qo(e,n){const i=s4[e];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection",Ua=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class Ds extends a4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ds.c_){const e=bb();Ua(e,Sb.STAT_EVENT,n=>{n.stat===jd.PROXY?q(ft,"STAT_EVENT: detected buffering proxy"):n.stat===jd.NOPROXY&&q(ft,"STAT_EVENT: detected no buffering proxy")}),Ds.c_=!0}}zo(e,n,i,r,s){const a=Xd();return new Promise((l,u)=>{const c=new Eb;c.setWithCredentials(!0),c.listenOnce(Tb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Tu.NO_ERROR:const p=c.getResponseJson();q(ft,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Tu.TIMEOUT:q(ft,`RPC '${e}' ${a} timed out`),u(new F(j.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:const g=c.getStatus();if(q(ft,`RPC '${e}' ${a} failed with status:`,g,"response text:",c.getResponseText()),g>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=y==null?void 0:y.error;if(I&&I.status&&I.message){const x=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(v)>=0?v:j.UNKNOWN}(I.status);u(new F(x,I.message))}else u(new F(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new F(j.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(ft,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);q(ft,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(e,n,i){const r=Xd(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");q(ft,`Creating RPC '${e}' stream ${r}: ${c}`,l);const f=a.createWebChannel(c,l);this.I_(f);let p=!1,g=!1;const y=new o4({Ho:I=>{g?q(ft,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(p||(q(ft,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),q(ft,`RPC '${e}' stream ${r} sending:`,I),f.send(I))},Jo:()=>f.close()});return Ua(f,Qa.EventType.OPEN,()=>{g||(q(ft,`RPC '${e}' stream ${r} transport opened.`),y.i_())}),Ua(f,Qa.EventType.CLOSE,()=>{g||(g=!0,q(ft,`RPC '${e}' stream ${r} transport closed`),y.o_(),this.E_(f))}),Ua(f,Qa.EventType.ERROR,I=>{g||(g=!0,Gs(ft,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),y.o_(new F(j.UNAVAILABLE,"The operation could not be completed")))}),Ua(f,Qa.EventType.MESSAGE,I=>{var x;if(!g){const M=I.data[0];pe(!!M,16349);const T=M,v=(T==null?void 0:T.error)||((x=T[0])==null?void 0:x.error);if(v){q(ft,`RPC '${e}' stream ${r} received error:`,v);const b=v.status;let D=function(w){const E=ze[w];if(E!==void 0)return iA(E)}(b),U=v.message;D===void 0&&(D=j.INTERNAL,U="Unknown error status: "+b+" with message "+v.message),g=!0,y.o_(new F(D,U)),f.close()}else q(ft,`RPC '${e}' stream ${r} received:`,M),y.__(M)}}),Ds.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ab()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){return new Ds(t)}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){return new fM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds.c_=!1;class _A{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="PersistentStream";class vA{constructor(e,n,i,r,s,a,l,u){this.Ci=e,this.b_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _A(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new F(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(jv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(q(jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u4 extends vA{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pM(this.serializer,e),i=function(s){if(!("targetChange"in s))return W.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?W.min():a.readTime?Tn(a.readTime):W.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Qd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=qd(u)?{documents:_M(s,u)}:{query:vM(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=aA(s,a.resumeToken);const c=Gd(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo(W.min())>0){l.readTime=_c(s,a.snapshotVersion.toTimestamp());const c=Gd(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=TM(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Qd(this.serializer),n.removeTarget=e,this.K_(n)}}class c4 extends vA{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yM(e.writeResults,e.commitTime),i=Tn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Qd(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>gM(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{}class f4 extends h4{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new F(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Kd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(j.UNKNOWN,s.toString())})}jo(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.jo(e,Kd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(j.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function d4(t,e,n,i){return new f4(t,e,n,i)}class m4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="RemoteStore";class p4{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{$r(this)&&(q(zr,"Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.Ea.add(4),await gl(c),c.Va.set("Unknown"),c.Ea.delete(4),await rh(c)}(this))})}),this.Va=new m4(i,r)}}async function rh(t){if($r(t))for(const e of t.Ra)await e(!0)}async function gl(t){for(const e of t.Ra)await e(!1)}function EA(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?Up(n):da(n).O_()&&jp(n,e))}function Lp(t,e){const n=Z(t),i=da(n);n.Ia.delete(e),i.O_()&&TA(n,e),n.Ia.size===0&&(i.O_()?i.L_():$r(n)&&n.Va.set("Unknown"))}function jp(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}da(t).Z_(e)}function TA(t,e){t.da.$e(e),da(t).X_(e)}function Up(t){t.da=new lM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),da(t).start(),t.Va.ua()}function zp(t){return $r(t)&&!da(t).x_()&&t.Ia.size>0}function $r(t){return Z(t).Ea.size===0}function SA(t){t.da=void 0}async function g4(t){t.Va.set("Online")}async function y4(t){t.Ia.forEach((e,n)=>{jp(t,e)})}async function _4(t,e){SA(t),zp(t)?(t.Va.ha(e),Up(t)):t.Va.set("Unknown")}async function v4(t,e,n){if(t.Va.set("Online"),e instanceof sA&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.da.removeTarget(l))}(t,e)}catch(i){q(zr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ec(t,i)}else if(e instanceof wu?t.da.Xe(e):e instanceof rA?t.da.st(e):t.da.tt(e),!n.isEqual(W.min()))try{const i=await yA(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),TA(s,u);const p=new Vi(f.target,u,c,f.sequenceNumber);jp(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){q(zr,"Failed to raise snapshot:",i),await Ec(t,i)}}async function Ec(t,e,n){if(!fa(e))throw e;t.Ea.add(1),await gl(t),t.Va.set("Offline"),n||(n=()=>yA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(zr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rh(t)})}function bA(t,e){return e().catch(n=>Ec(t,n,e))}async function sh(t){const e=Z(t),n=ir(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bp;for(;E4(e);)try{const r=await e4(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,T4(e,r)}catch(r){await Ec(e,r)}AA(e)&&wA(e)}function E4(t){return $r(t)&&t.Ta.length<10}function T4(t,e){t.Ta.push(e);const n=ir(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function AA(t){return $r(t)&&!ir(t).x_()&&t.Ta.length>0}function wA(t){ir(t).start()}async function S4(t){ir(t).ra()}async function b4(t){const e=ir(t);for(const n of t.Ta)e.ea(n.mutations)}async function A4(t,e,n){const i=t.Ta.shift(),r=xp.from(i,e,n);await bA(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await sh(t)}async function w4(t,e){e&&ir(t).Y_&&await async function(i,r){if(function(a){return sM(a)&&a!==j.ABORTED}(r.code)){const s=i.Ta.shift();ir(i).B_(),await bA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await sh(i)}}(t,e),AA(t)&&wA(t)}async function Uv(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),q(zr,"RemoteStore received new credentials");const i=$r(n);n.Ea.add(3),await gl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rh(n)}async function R4(t,e){const n=Z(t);e?(n.Ea.delete(2),await rh(n)):e||(n.Ea.add(2),await gl(n),n.Va.set("Unknown"))}function da(t){return t.ma||(t.ma=function(n,i,r){const s=Z(n);return s.sa(),new u4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:g4.bind(null,t),Yo:y4.bind(null,t),t_:_4.bind(null,t),J_:v4.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),zp(t)?Up(t):t.Va.set("Unknown")):(await t.ma.stop(),SA(t))})),t.ma}function ir(t){return t.fa||(t.fa=function(n,i,r){const s=Z(n);return s.sa(),new c4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:S4.bind(null,t),t_:w4.bind(null,t),ta:b4.bind(null,t),na:A4.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await sh(t)):(await t.fa.stop(),t.Ta.length>0&&(q(zr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new Bp(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(t,e){if(ni("AsyncQueue",`${e}: ${t}`),fa(t))return new F(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{static emptySet(e){return new Os(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||K.comparator(n.key,i.key):(n,i)=>K.comparator(n.key,i.key),this.keyedMap=$a(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Os;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.ga=new Oe(K.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Xs{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Xs(e,n,Os.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class I4{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=Z(n),s=r.queries;r.queries=Bv(),s.forEach((a,l)=>{for(const u of l.ba)u.onError(i)})})(this,new F(j.ABORTED,"Firestore shutting down"))}}function Bv(){return new Yr(t=>Fb(t),Wc)}async function N4(t,e){const n=Z(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.Sa()&&e.Da()&&(i=2):(s=new C4,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Hp(a,`Initialization of query '${as(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&qp(n)}async function x4(t,e){const n=Z(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?r=e.Da()?0:1:!s.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function D4(t,e){const n=Z(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(r)&&(i=!0);a.wa=r}}i&&qp(n)}function O4(t,e,n){const i=Z(t),r=i.queries.get(e);if(r)for(const s of r.ba)s.onError(n);i.queries.delete(e)}function qp(t){t.Ca.forEach(e=>{e.next()})}var Jd,Hv;(Hv=Jd||(Jd={})).Ma="default",Hv.Cache="cache";class M4{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Xs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.key=e}}class CA{constructor(e){this.key=e}}class V4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=le(),this.mutatedKeys=le(),this.eu=Gb(e),this.tu=new Os(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new zv,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,p)=>{const g=r.get(f),y=Zc(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let M=!1;g&&y?g.data.isEqual(y.data)?I!==x&&(i.track({type:3,doc:y}),M=!0):this.su(g,y)||(i.track({type:2,doc:y}),M=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(l=!0)):!g&&y?(i.track({type:0,doc:y}),M=!0):g&&!y&&(i.track({type:1,doc:g}),M=!0,(u||c)&&(l=!0)),M&&(y?(a=a.add(y),s=x?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,p)=>function(y,I){const x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:M})}};return x(y)-x(I)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Ya.size===0&&this.current&&!r?1:0,c=u!==this.Xa;return this.Xa=u,a.length!==0||c?{snapshot:new Xs(this.query,e.tu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=le(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new CA(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new RA(i))}),n}cu(e){this.Za=e.ks,this.Ya=le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fp="SyncEngine";class k4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class P4{constructor(e){this.key=e,this.hu=!1}}class L4{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Yr(l=>Fb(l),Wc),this.Iu=new Map,this.Eu=new Set,this.Ru=new Oe(K.comparator),this.Au=new Map,this.Vu=new Mp,this.du={},this.mu=new Map,this.fu=$s.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j4(t,e,n=!0){const i=MA(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await IA(i,e,n,!0),r}async function U4(t,e){const n=MA(t);await IA(n,e,!0,!1)}async function IA(t,e,n,i){const r=await t4(t.localStore,En(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await z4(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&EA(t.remoteStore,r),l}async function z4(t,e,n,i,r){t.pu=(p,g,y)=>async function(x,M,T,v){let b=M.view.ru(T);b.Ss&&(b=await Vv(x.localStore,M.query,!1).then(({documents:w})=>M.view.ru(w,b)));const D=v&&v.targetChanges.get(M.targetId),U=v&&v.targetMismatches.get(M.targetId)!=null,H=M.view.applyChanges(b,x.isPrimaryClient,D,U);return Fv(x,M.targetId,H.au),H.snapshot}(t,p,g,y);const s=await Vv(t.localStore,e,!0),a=new V4(e,s.ks),l=a.ru(s.documents),u=pl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);Fv(t,n,c.au);const f=new k4(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function B4(t,e,n){const i=Z(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!Wc(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await $d(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Lp(i.remoteStore,r.targetId),Wd(i,r.targetId)}).catch(ha)):(Wd(i,r.targetId),await $d(i.localStore,r.targetId,!0))}async function H4(t,e){const n=Z(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Lp(n.remoteStore,i.targetId))}async function q4(t,e,n){const i=X4(t);try{const r=await function(a,l){const u=Z(a),c=Re.now(),f=l.reduce((y,I)=>y.add(I.key),le());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=ii(),x=le();return u.xs.getEntries(y,f).next(M=>{I=M,I.forEach((T,v)=>{v.isValidDocument()||(x=x.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(M=>{p=M;const T=[];for(const v of l){const b=eM(v,p.get(v.key).overlayedDocument);b!=null&&T.push(new Qr(v.key,b,Lb(b.value.mapValue),Gn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,T,l)}).next(M=>{g=M;const T=M.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(y,M.batchId,T)})}).then(()=>({batchId:g.batchId,changes:Yb(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.du[a.currentUser.toKey()];c||(c=new Oe(oe)),c=c.insert(l,u),a.du[a.currentUser.toKey()]=c}(i,r.batchId,n),await yl(i,r.changes),await sh(i.remoteStore)}catch(r){const s=Hp(r,"Failed to persist write");n.reject(s)}}async function NA(t,e){const n=Z(t);try{const i=await WM(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(pe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?pe(a.hu,14607):r.removedDocuments.size>0&&(pe(a.hu,42227),a.hu=!1))}),await yl(n,i,e)}catch(i){await ha(i)}}function qv(t,e,n){const i=Z(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=Z(a);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const g of p.ba)g.va(l)&&(c=!0)}),c&&qp(u)}(i.eventManager,e),r.length&&i.Pu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function F4(t,e,n){const i=Z(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new Oe(K.comparator);a=a.insert(s,mt.newNoDocument(s,W.min()));const l=le().add(s),u=new nh(W.min(),new Map,new Oe(oe),a,l);await NA(i,u),i.Ru=i.Ru.remove(s),i.Au.delete(e),Gp(i)}else await $d(i.localStore,e,!1).then(()=>Wd(i,e,n)).catch(ha)}async function G4(t,e){const n=Z(t),i=e.batch.batchId;try{const r=await JM(n.localStore,e);DA(n,i,null),xA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await yl(n,r)}catch(r){await ha(r)}}async function K4(t,e,n){const i=Z(t);try{const r=await function(a,l){const u=Z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(pe(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);DA(i,e,n),xA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await yl(i,r)}catch(r){await ha(r)}}function xA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function DA(t,e,n){const i=Z(t);let r=i.du[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function Wd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||OA(t,i)})}function OA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Lp(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Gp(t))}function Fv(t,e,n){for(const i of n)i instanceof RA?(t.Vu.addReference(i.key,e),Y4(t,i)):i instanceof CA?(q(Fp,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||OA(t,i.key)):Q(19791,{wu:i})}function Y4(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(q(Fp,"New document in limbo: "+n),t.Eu.add(i),Gp(t))}function Gp(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new K(xe.fromString(e)),i=t.fu.next();t.Au.set(i,new P4(n)),t.Ru=t.Ru.insert(n,i),EA(t.remoteStore,new Vi(En(Ip(n.path)),i,"TargetPurposeLimboResolution",Qc.ce))}}async function yl(t,e,n){const i=Z(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){r.push(c);const p=kp.Es(u.targetId,c);s.push(p)}}))}),await Promise.all(a),i.Pu.J_(r),await async function(u,c){const f=Z(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(c,g=>L.forEach(g.Ts,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.Is,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!fa(p))throw p;q(Pp,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const y=f.vs.get(g),I=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(I);f.vs=f.vs.insert(g,x)}}}(i.localStore,s))}async function Q4(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){q(Fp,"User change. New user:",e.toKey());const i=await gA(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new F(j.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await yl(n,i.Ns)}}function $4(t,e){const n=Z(t),i=n.Au.get(e);if(i&&i.hu)return le().add(i.key);{let r=le();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function MA(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F4.bind(null,e),e.Pu.J_=D4.bind(null,e.eventManager),e.Pu.yu=O4.bind(null,e.eventManager),e}function X4(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K4.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XM(this.persistence,new YM,e.initialUser,this.serializer)}Cu(e){return new pA(Vp.Vi,this.serializer)}Du(e){return new i4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class J4 extends Tc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pe(this.persistence.referenceDelegate instanceof vc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wt.withCacheSize(this.cacheSizeBytes):wt.DEFAULT;return new pA(i=>vc.Vi(i,n),this.serializer)}}class Zd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q4.bind(null,this.syncEngine),await R4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I4}()}createDatastore(e){const n=ih(e.databaseInfo.databaseId),i=l4(e.databaseInfo);return d4(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new p4(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>qv(this.syncEngine,n,0),function(){return Lv.v()?new Lv:new r4}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,f){const p=new L4(r,s,a,l,u,c);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=Z(r);q(zr,"RemoteStore shutting down."),s.Ea.add(5),await gl(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Zd.provider={build:()=>new Zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="FirestoreClient";class Z4{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=dt.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{q(rr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q(rr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Hp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cf(t,e){t.asyncQueue.verifyOperationInProgress(),q(rr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await gA(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eV(t);q(rr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Uv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Uv(e.remoteStore,r)),t._onlineComponents=e}async function eV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(rr,"Using user provided OfflineComponentProvider");try{await Cf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===j.FAILED_PRECONDITION||r.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Gs("Error using user provided cache. Falling back to memory cache: "+n),await Cf(t,new Tc)}}else q(rr,"Using default OfflineComponentProvider"),await Cf(t,new J4(void 0));return t._offlineComponents}async function VA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(rr,"Using user provided OnlineComponentProvider"),await Gv(t,t._uninitializedComponentsProvider._online)):(q(rr,"Using default OnlineComponentProvider"),await Gv(t,new Zd))),t._onlineComponents}function tV(t){return VA(t).then(e=>e.syncEngine)}async function nV(t){const e=await VA(t),n=e.eventManager;return n.onListen=j4.bind(null,e.syncEngine),n.onUnlisten=B4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=U4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H4.bind(null,e.syncEngine),n}function iV(t,e,n={}){const i=new Qi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new W4({next:g=>{f.Nu(),a.enqueueAndForget(()=>x4(s,p));const y=g.docs.has(l);!y&&g.fromCache?c.reject(new F(j.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?c.reject(new F(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new M4(Ip(l.path),f,{includeMetadataChanges:!0,Ka:!0});return N4(s,p)}(await nV(t),t.asyncQueue,e,n,i)),i.promise}function rV(t,e){const n=new Qi;return t.asyncQueue.enqueueAndForget(async()=>q4(await tV(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="ComponentProvider",Kv=new Map;function aV(t,e,n,i,r){return new SO(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,kA(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firestore.googleapis.com",Yv=!0;class Qv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new F(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PA,this.ssl=Yv}else this.host=e.host,this.ssl=e.ssl??Yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xM)throw new F(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kp{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new eO;switch(i.type){case"firstParty":return new rO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Kv.get(n);i&&(q(sV,"Removing Datastore"),Kv.delete(n),i.terminate())}(this),Promise.resolve()}}function oV(t,e,n,i={}){var c;t=jo(t,Kp);const r=oa(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(DS(`https://${l}`),OS("Firestore",!0)),s.host!==PA&&s.host!==l&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!Pr(u,a)&&(t._setSettings(u),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=dt.MOCK_USER;else{f=l2(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new F(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new dt(g)}t._authCredentials=new tO(new Rb(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yp(this.firestore,e,this._query)}}class tt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(dl(n,tt._jsonSchema))return new tt(e,i||null,new K(xe.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:Ge("string",tt._jsonSchemaVersion),referencePath:Ge("string")};class Go extends Yp{constructor(e,n,i){super(e,n,Ip(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new K(e))}withConverter(e){return new Go(this.firestore,e,this._path)}}function If(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=Tp.newId()),cO("doc","path",e),t instanceof Kp){const i=xe.fromString(e,...n);return lv(i),new tt(t,null,new K(i))}{if(!(t instanceof tt||t instanceof Go))throw new F(j.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xe.fromString(e,...n));return lv(i),new tt(t.firestore,t instanceof Go?t.converter:null,new K(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="AsyncQueue";class Xv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _A(this,"async_queue_retry"),this._c=()=>{const i=Rf();i&&q($v,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Rf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fa(e))throw e;q($v,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",Jv(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Bp.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Q(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Jv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Qp extends Kp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Xv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xv(e),this._firestoreClient=void 0,await e}}}function lV(t,e){const n=typeof t=="object"?t:PS(),i=typeof t=="string"?t:fc,r=up(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=a2("firestore");s&&oV(r,...s)}return r}function LA(t){if(t._terminated)throw new F(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uV(t),t._firestoreClient}function uV(t){var i,r,s,a;const e=t._freezeSettings(),n=aV(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(r=t._app)==null?void 0:r.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Z4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(ct.fromBase64String(e))}catch(n){throw new F(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dl(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:Ge("string",Jt._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sn._jsonSchemaVersion}}static fromJSON(e){if(dl(e,Sn._jsonSchema))return new Sn(e.latitude,e.longitude)}}Sn._jsonSchemaVersion="firestore/geoPoint/1.0",Sn._jsonSchema={type:Ge("string",Sn._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dl(e,un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new un(e.vectorValues);throw new F(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}un._jsonSchemaVersion="firestore/vectorValue/1.0",un._jsonSchema={type:Ge("string",un._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=/^__.*__$/;class hV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ml(e,this.data,n,this.fieldTransforms)}}function zA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{dataSource:t})}}class $p{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new $p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(zA(this.dataSource)&&cV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class fV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ih(e)}createContext(e,n,i,r=!1){return new $p({dataSource:e,methodName:n,targetDoc:i,path:ot.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dV(t){const e=t._freezeSettings(),n=ih(t._databaseId);return new fV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mV(t,e,n,i,r,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,r);FA("Data must be an object, but it was:",a,i);const l=HA(i,a);let u,c;if(s.merge)u=new on(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=Xp(e,p,n);if(!a.contains(g))throw new F(j.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);yV(f,g)||f.push(g)}u=new on(f),c=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=a.fieldTransforms;return new hV(new Xt(l),u,c)}function BA(t,e){if(qA(t=Bt(t)))return FA("Unsupported field value:",e,t),HA(t,e);if(t instanceof UA)return function(i,r){if(!zA(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=BA(l,r.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Bt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Re.fromDate(i);return{timestampValue:_c(r.serializer,s)}}if(i instanceof Re){const s=new Re(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_c(r.serializer,s)}}if(i instanceof Sn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jt)return{bytesValue:aA(r.serializer,i._byteString)};if(i instanceof tt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Op(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof un)return function(a,l){const u=a instanceof un?a.toArray():a;return{mapValue:{fields:{[kb]:{stringValue:Pb},[dc]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return Np(l.serializer,f)})}}}}}}(i,r);if(dA(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${Sp(i)}`)}(t,e)}function HA(t,e){const n={};return Nb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(t,(i,r)=>{const s=BA(r,e.childContextForField(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function qA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Sn||t instanceof Jt||t instanceof tt||t instanceof UA||t instanceof un||dA(t))}function FA(t,e,n){if(!qA(n)||!Cb(n)){const i=Sp(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Xp(t,e,n){if((e=Bt(e))instanceof jA)return e._internalPath;if(typeof e=="string")return gV(t,e);throw Sc("Field path arguments must be of type string or ",t,!1,void 0,n)}const pV=new RegExp("[~\\*/\\[\\]]");function gV(t,e,n){if(e.search(pV)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jA(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(j.INVALID_ARGUMENT,l+t+u)}function yV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{convertValue(e,n="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Kr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[dc].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Pe(a.doubleValue));return new un(n)}convertGeoPoint(e){return new Sn(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Xc(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(zo(e));default:return null}}convertTimestamp(e){const n=er(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=xe.fromString(e);pe(fA(i),9688,{name:e});const r=new Bo(i.get(1),i.get(3)),s=new K(i.popFirst(5));return r.isEqual(n)||ni(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV extends _V{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}const Wv="@firebase/firestore",Zv="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Xp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EV extends GA{data(){return super.data()}}function TV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xr extends GA{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ru(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Xp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",xr._jsonSchema={type:Ge("string",xr._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Ru extends xr{data(e={}){return super.data(e)}}class vo{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ja(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ru(this._firestore,this._userDataWriter,i.key,i,new Ja(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Ru(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ru(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:SV(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Ge("string",vo._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){t=jo(t,tt);const e=jo(t.firestore,Qp),n=LA(e);return iV(n,t._key).then(i=>wV(e,t,i))}function bV(t,e,n){t=jo(t,tt);const i=jo(t.firestore,Qp),r=TV(t.converter,e),s=dV(i);return AV(i,[mV(s,"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Gn.none())])}function AV(t,e){const n=LA(t);return rV(n,e)}function wV(t,e,n){const i=n.docs.get(e._key),r=new vV(t);return new xr(t,r,e._key,i,new Ja(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){ZD(la),Fs(new Lr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Qp(new nO(i.getProvider("auth-internal")),new sO(a,i.getProvider("app-check-internal")),bO(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ki(Wv,Zv,e),Ki(Wv,Zv,"esm2020")})();const RV={apiKey:"AIzaSyDW-YtMEqry5jF6JBfBk-3o_ZKohz9OJfI",authDomain:"my-awesome-site-f3f94.firebaseapp.com",projectId:"my-awesome-site-f3f94",storageBucket:"my-awesome-site-f3f94.firebasestorage.app",messagingSenderId:"60484064662",appId:"1:60484064662:web:3f45d04868d26cd8aaf9b7"},KA=kS(RV),Kn=JD(KA),Nf=lV(KA),CV=new kn,yi={basicInfo:{fullName:"",role:"",email:"",phone:"",summary:""},experience:[],education:[],skills:""},IV=({isOpen:t,onKeepLocal:e,onLoadCloud:n,cloudDate:i,localDate:r})=>t?m.jsx("div",{className:"auth-overlay",children:m.jsxs("div",{className:"auth-modal conflict-modal",children:[m.jsx("div",{className:"auth-header",children:m.jsx("h2",{className:"stitch-title-small",style:{color:"#ff4081",margin:0,fontSize:"1.4rem"},children:" Data Conflict"})}),m.jsxs("div",{className:"auth-body",children:[m.jsxs("p",{style:{color:"#ccc",marginBottom:"25px",lineHeight:"1.6"},children:["We found ",m.jsx("strong",{children:"unsaved local changes"})," on this device, but you also have ",m.jsx("strong",{children:"saved data"})," in the cloud."]}),m.jsxs("div",{className:"conflict-comparison",children:[m.jsxs("div",{className:"conflict-card local",children:[m.jsx("div",{className:"conflict-label",children:" THIS DEVICE"}),m.jsx("div",{className:"conflict-value",children:"Local Draft"}),m.jsx("div",{className:"conflict-date",children:r?new Date(r).toLocaleString():"Just now"})]}),m.jsxs("div",{className:"conflict-card cloud",children:[m.jsx("div",{className:"conflict-label",children:" CLOUD"}),m.jsx("div",{className:"conflict-value",children:"Saved Profile"}),m.jsx("div",{className:"conflict-date",children:i?new Date(i).toLocaleString():"Unknown date"})]})]}),m.jsxs("div",{className:"auth-actions",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsx("button",{onClick:e,className:"auth-submit-btn secondary",style:{background:"transparent",borderColor:"#666",color:"#ccc"},children:" Keep Local (Overwrite Cloud)"}),m.jsx("button",{onClick:n,className:"auth-submit-btn primary",children:" Load from Cloud (Discard Local)"})]})]})]})}):null,YA=O.createContext(),ma=()=>O.useContext(YA),tE="resumeData_v1",NV=({children:t})=>{const[e,n]=O.useState(()=>{let R=null;try{const C=localStorage.getItem(tE);C&&(R=JSON.parse(C))}catch(C){console.warn("LocalStorage parse error:",C)}return R?{...yi,...R,basicInfo:{...yi.basicInfo,...R.basicInfo||{}},experience:Array.isArray(R.experience)?R.experience.map(C=>({...C,role:C.role||C.title||"",id:C.id||Date.now()+Math.random()})):[],education:Array.isArray(R.education)?R.education:[],skills:R.skills||""}:yi}),[i,r]=O.useState(null),[s,a]=O.useState(!0),[l,u]=O.useState(null),[c,f]=O.useState("saved"),[p,g]=O.useState(null),[y,I]=O.useState(!1),[x,M]=O.useState(null),[T,v]=O.useState(null),b=O.useRef(!1);O.useEffect(()=>{e!==yi&&(b.current=!0,f("unsaved"),localStorage.setItem(tE,JSON.stringify(e)))},[e]),O.useEffect(()=>{const R=Ux(Kn,async C=>{r(C),C&&!l?b.current?D(C.uid):await U(C.uid):C||(u(null),n(yi),b.current=!1,f("saved")),a(!1)});return()=>R()},[]),O.useEffect(()=>{l&&i&&(console.log("Switching to Stable Storage ID:",l),b.current?D(l):U(l))},[l,i]);const D=async R=>{var S;const C=If(Nf,"resumes",R),N=await eE(C);N.exists()?(M(N.data()),v(((S=N.data().updatedAt)==null?void 0:S.toDate())||null),I(!0)):f("unsaved")},U=async R=>{if(R)try{f("saving");const C=If(Nf,"resumes",R),N=await eE(C);if(N.exists()){const S=N.data();A(S),f("saved"),g(new Date),b.current=!1}}catch(C){console.warn("Cloud load failed:",C),f("error")}},H=async()=>{if(!i){alert("     .");return}const R=l||i.uid;console.log("Saving to:",R),f("saving");try{const C=If(Nf,"resumes",R);await bV(C,{...e,updatedAt:new Date}),f("saved"),g(new Date),b.current=!1,alert("Cloud Save Complete! ")}catch(C){console.error("Save failed:",C),f("error"),alert("Save failed: "+C.message)}},w=R=>{R==="keepLocal"?(I(!1),M(null),alert("Kept local data. Don't forget to Save to Cloud!")):R==="loadCloud"&&(x&&(A(x),f("saved"),g(new Date),b.current=!1,alert("Loaded data from cloud.")),I(!1),M(null))},E=()=>{window.confirm("Are you sure you want to reset all data? (This cannot be undone)")&&(n(yi),f("saved"),b.current=!1)},A=R=>{n({...yi,...R,basicInfo:{...yi.basicInfo,...R.basicInfo||{}},experience:Array.isArray(R.experience)?R.experience:[],education:Array.isArray(R.education)?R.education:[],skills:R.skills||""})};return m.jsxs(YA.Provider,{value:{data:e,setData:n,user:i,saveResume:H,resetData:E,importData:A,loading:s,saveStatus:c,lastSaved:p,setCustomDocId:u},children:[t,m.jsx(IV,{isOpen:y,onKeepLocal:()=>w("keepLocal"),onLoadCloud:()=>w("loadCloud"),cloudDate:T,localDate:Date.now()})]})},xV=(t,e="resume_backup.json")=>{const n=JSON.stringify(t,null,2),i=new Blob([n],{type:"application/json"}),r=URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)},DV=t=>new Promise((e,n)=>{const i=new FileReader;i.onload=r=>{try{const s=JSON.parse(r.target.result);if(!(s&&(s.basicInfo||s.experience||s.education||s.skills))){n(new Error("Invalid Resume JSON format. Missing core fields."));return}e(s)}catch(s){n(new Error("Failed to parse JSON file: "+s.message))}},i.onerror=()=>n(new Error("File reading failed")),i.readAsText(t)}),OV=({status:t,lastSaved:e,onManualSave:n})=>{const r=(()=>{switch(t){case"saving":return{color:"#00e5ff",text:"Saving...",icon:"",isActionable:!1};case"unsaved":return{color:"#ffb74d",text:"Unsaved Changes (Click to Save)",icon:"",isActionable:!0};case"error":return{color:"#ff5252",text:"Save Failed (Retry)",icon:"",isActionable:!0};case"saved":default:return{color:"#69f0ae",text:"All Saved",icon:"",isActionable:!1}}})(),s=r.isActionable&&n;return m.jsxs("div",{className:`sync-status ${s?"clickable":""}`,title:s?"Click to save immediately":"Auto-save active",onClick:s?n:void 0,style:{cursor:s?"pointer":"default",opacity:s?1:.9,padding:"5px 10px",borderRadius:"20px",background:s?"rgba(255, 255, 255, 0.05)":"transparent",transition:"all 0.2s"},children:[m.jsx("span",{style:{marginRight:"5px"},children:r.icon}),m.jsx("span",{style:{color:r.color,fontWeight:"bold",fontSize:"0.85rem"},children:r.text}),t==="saved"&&e&&m.jsxs("span",{style:{marginLeft:"8px",color:"#666",fontSize:"0.75rem"},children:["(",e.toLocaleTimeString(),")"]})]})},nE={developer:{basicInfo:{fullName:"Hong Gil Dong",role:"Senior Frontend Developer",email:"hong@example.com",phone:"010-1234-5678",summary:"Passionate logic-driven developer with 5+ years of experience in building scalable web applications using React and Node.js."},experience:[{id:1,company:"Tech Corp",role:"Frontend Team Lead",period:"2022 - Present",desc:"Led the migration from legacy jQuery to React 18. Improved site performance by 40%."},{id:2,company:"Startup Inc",role:"Web Developer",period:"2019 - 2022",desc:"Developed and maintained the main e-commerce platform. Implemented payment gateway integration."}],education:[{id:1,school:"Seoul National University",major:"Computer Science",year:"2019"}],skills:"React, TypeScript, Node.js, AWS, Docker, GraphQL"}},MV=({isOpen:t,onClose:e})=>{const[n,i]=O.useState(!1),r="https://heejung240000.lemonsqueezy.com/checkout/buy/4bbcc3ca-bd77-4bb5-9d94-be1370c56cdb";if(!t)return null;const s=()=>{if(!Kn.currentUser){alert("   .");return}const a=Kn.currentUser.uid,l=Kn.currentUser.email;let u=r;u.includes("?")?u+=`&checkout[custom][user_id]=${a}&checkout[email]=${l}`:u+=`?checkout[custom][user_id]=${a}&checkout[email]=${l}`,console.log("Opening Lemon Squeezy Checkout:",u);try{i(!0),window.LemonSqueezy?(window.LemonSqueezy.Url.Open(u),i(!1)):(window.open(u,"_blank"),i(!1))}catch(c){console.error("Payment Error:",c),alert("     ."),i(!1)}};return m.jsx("div",{className:"pm-overlay",onClick:e,children:m.jsxs("div",{className:"pm-container",onClick:a=>a.stopPropagation(),children:[m.jsx("button",{className:"pm-close-btn",onClick:e,children:""}),m.jsxs("div",{className:"pm-content",children:[m.jsxs("div",{className:"pm-header",children:[m.jsx("h2",{children:"Developer Pro"}),m.jsx("p",{className:"pm-subtitle",children:"Unlock Your Full Potential"})]}),m.jsxs("div",{className:"pm-body",children:[m.jsxs("div",{className:"pm-features-list",children:[m.jsxs("div",{className:"pm-feature-item",children:[m.jsx("span",{className:"pm-icon",children:""}),m.jsxs("div",{className:"pm-feature-text",children:[m.jsx("strong",{children:"   "}),m.jsx("p",{children:"   5  "})]})]}),m.jsxs("div",{className:"pm-feature-item",children:[m.jsx("span",{className:"pm-icon",children:""}),m.jsxs("div",{className:"pm-feature-text",children:[m.jsx("strong",{children:"PDF  &  "}),m.jsx("p",{children:"  PDF "})]})]}),m.jsxs("div",{className:"pm-feature-item",children:[m.jsx("span",{className:"pm-icon",children:""}),m.jsxs("div",{className:"pm-feature-text",children:[m.jsx("strong",{children:"  "}),m.jsx("p",{children:"    ."})]})]})]}),m.jsxs("div",{className:"pm-footer",children:[m.jsxs("div",{className:"pm-price-box",children:[m.jsx("span",{className:"pm-price-label",children:"One-time payment"}),m.jsx("span",{className:"pm-price-value",children:"5,000"})]}),m.jsx("button",{className:"pm-cta-btn",onClick:s,disabled:n,children:n?" ...":"  "})]})]})]})]})})},Zl=({title:t,children:e,defaultOpen:n=!1})=>{const[i,r]=O.useState(n);return m.jsxs("div",{className:"accordion-item",children:[m.jsxs("div",{className:"accordion-header",onClick:()=>r(!i),children:[m.jsx("span",{children:t}),m.jsx("span",{children:i?"":""})]}),i&&m.jsx("div",{className:"accordion-content",children:e})]})},VV=()=>{var E,A,R,C,N;const t=ma();if(!t)return m.jsx("div",{style:{color:"white",padding:20},children:"Error: ResumeContext not found."});const{data:e,setData:n,saveResume:i,user:r,resetData:s,importData:a,saveStatus:l,lastSaved:u}=t,c=O.useRef(null);if(!e)return m.jsx("div",{style:{color:"white",padding:20},children:"Loading Data..."});const f=S=>{const{name:G,value:X}=S.target;["fullName","role","email","phone","summary"].includes(G)?n(B=>({...B,basicInfo:{...B.basicInfo,[G]:X}})):n(B=>({...B,[G]:X}))},p=(S,G,X)=>{const{name:B,value:ee}=S.target;n(J=>{const me=[...J[X]||[]];return me[G]={...me[G],[B]:ee},{...J,[X]:me}})},g=S=>{const G=S==="experience"?{id:Date.now(),company:"",role:"",period:"",desc:""}:{id:Date.now(),school:"",major:"",year:""};n(X=>({...X,[S]:[...X[S]||[],G]}))},y=(S,G)=>{n(X=>({...X,[G]:X[G].filter((B,ee)=>ee!==S)}))},I=()=>{var S;xV(e,`resume_backup_${((S=e.basicInfo)==null?void 0:S.fullName)||"draft"}.json`)},x=()=>{var S;(S=c.current)==null||S.click()},M=async S=>{const G=S.target.files[0];if(G)try{const X=await DV(G);window.confirm("This will overwrite your current data. Continue?")&&(a(X),alert("Resume loaded successfully! "))}catch(X){alert(X.message)}finally{S.target.value=""}},[T,v]=O.useState(!1),[b,D]=O.useState(!1),U=()=>{T?w():D(!0)},H=()=>{v(!0),w()},w=()=>{window.confirm("Load 'Developer' Example Template? Current data will be replaced.")&&nE.developer&&a(nE.developer)};return m.jsxs("div",{className:"editor-panel",children:[m.jsxs("div",{className:"editor-header",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[m.jsx("h2",{children:"Editor"}),m.jsx(OV,{status:l,lastSaved:u,onManualSave:i})]}),m.jsx("input",{type:"file",ref:c,style:{display:"none"},accept:".json",onChange:M}),m.jsxs("div",{className:"editor-actions",style:{gap:"8px",flexWrap:"wrap"},children:[m.jsx("button",{onClick:U,className:"save-btn-secondary",style:{border:"1px solid #ffd700",color:T?"#ffd700":"#aaa",background:T?"rgba(255, 215, 0, 0.1)":"transparent"},children:T?" Load Template":" Premium Templates"}),m.jsx("button",{onClick:I,className:"save-btn-secondary",title:"Download backup",children:" Backup"}),m.jsx("button",{onClick:x,className:"save-btn-secondary",title:"Restore from backup",children:" Restore"}),m.jsx("button",{onClick:s,className:"save-btn-danger",title:"Clear all data",children:" Reset"}),m.jsx("button",{onClick:i,className:"save-btn-primary",children:r?" Save (Manual)":" Save (Login Req)"})]})]}),m.jsxs("div",{className:"editor-scroll-area",children:[m.jsxs(Zl,{title:"1. Basic Info",defaultOpen:!0,children:[m.jsxs("div",{className:"form-group-dark",children:[m.jsx("label",{children:"Full Name"}),m.jsx("input",{name:"fullName",value:((E=e.basicInfo)==null?void 0:E.fullName)||"",onChange:f,placeholder:"Hong Gil Dong"})]}),m.jsxs("div",{className:"form-group-dark",children:[m.jsx("label",{children:"Position / Role"}),m.jsx("input",{name:"role",value:((A=e.basicInfo)==null?void 0:A.role)||"",onChange:f,placeholder:"Senior Developer"})]}),m.jsxs("div",{className:"form-row-dark",children:[m.jsxs("div",{className:"form-group-dark",children:[m.jsx("label",{children:"Email"}),m.jsx("input",{name:"email",value:((R=e.basicInfo)==null?void 0:R.email)||"",onChange:f,placeholder:"email@example.com"})]}),m.jsxs("div",{className:"form-group-dark",children:[m.jsx("label",{children:"Phone"}),m.jsx("input",{name:"phone",value:((C=e.basicInfo)==null?void 0:C.phone)||"",onChange:f,placeholder:"010-0000-0000"})]})]}),m.jsxs("div",{className:"form-group-dark",children:[m.jsx("label",{children:"Summary / Intro"}),m.jsx("textarea",{name:"summary",value:((N=e.basicInfo)==null?void 0:N.summary)||"",onChange:f,rows:4})]})]}),m.jsxs(Zl,{title:"2. Experience",children:[(e.experience||[]).map((S,G)=>m.jsxs("div",{className:"sub-card",children:[m.jsxs("div",{className:"card-top-actions",children:[m.jsxs("span",{className:"card-num",children:["#",G+1]}),m.jsx("button",{onClick:()=>y(G,"experience"),className:"delete-btn",children:""})]}),m.jsx("input",{className:"input-dark",name:"company",value:S.company||"",onChange:X=>p(X,G,"experience"),placeholder:"Company Name"}),m.jsx("input",{className:"input-dark",name:"role",value:S.role||"",onChange:X=>p(X,G,"experience"),placeholder:"Job Title"}),m.jsx("input",{className:"input-dark",name:"period",value:S.period||"",onChange:X=>p(X,G,"experience"),placeholder:"Period (e.g. 2020 - Present)"}),m.jsx("textarea",{className:"input-dark",name:"desc",value:S.desc||"",onChange:X=>p(X,G,"experience"),placeholder:"Description...",rows:3})]},G)),m.jsx("button",{onClick:()=>g("experience"),className:"add-btn-dark",children:"+ Add Experience"})]}),m.jsxs(Zl,{title:"3. Education",children:[(e.education||[]).map((S,G)=>m.jsxs("div",{className:"sub-card",children:[m.jsxs("div",{className:"card-top-actions",children:[m.jsxs("span",{className:"card-num",children:["#",G+1]}),m.jsx("button",{onClick:()=>y(G,"education"),className:"delete-btn",children:""})]}),m.jsx("input",{className:"input-dark",name:"school",value:S.school||"",onChange:X=>p(X,G,"education"),placeholder:"School Name"}),m.jsx("input",{className:"input-dark",name:"major",value:S.major||"",onChange:X=>p(X,G,"education"),placeholder:"Major"}),m.jsx("input",{className:"input-dark",name:"year",value:S.year||"",onChange:X=>p(X,G,"education"),placeholder:"Graduation Year"})]},G)),m.jsx("button",{onClick:()=>g("education"),className:"add-btn-dark",children:"+ Add Education"})]}),m.jsx(Zl,{title:"4. Skills",children:m.jsxs("div",{className:"form-group-dark",children:[m.jsx("label",{children:"List your skills (comma separated)"}),m.jsx("textarea",{name:"skills",value:e.skills||"",onChange:f,rows:4,placeholder:"React, Python, Design..."})]})})]}),m.jsx(MV,{isOpen:b,onClose:()=>D(!1),onUnlockSuccess:H})]})},QA=O.forwardRef(({data:t},e)=>{var s,a,l,u,c,f,p;const[n,i]=za.useState(!1),r=za.useRef(null);return za.useRef(null),za.useEffect(()=>{const g=()=>{if(r.current){const I=r.current.scrollHeight;i(I>1130)}};g();const y=new ResizeObserver(g);return r.current&&y.observe(r.current),()=>y.disconnect()},[t]),t?m.jsxs("div",{className:`a4-page ${(t==null?void 0:t.__mode)||"preview"}`,ref:g=>{r.current=g,typeof e=="function"?e(g):e&&(e.current=g)},id:"resume-print-root",children:[n&&m.jsx("div",{style:{position:"absolute",top:-40,left:"50%",transform:"translateX(-50%)",background:"#ff4444",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.2)",zIndex:9999,whiteSpace:"nowrap",animation:"bounce 1s infinite"},className:"overflow-warning",children:" Content Exceeds 1 Page (Will be Cut Off)"}),m.jsxs("div",{className:"resume-content-wrapper",children:[m.jsxs("header",{className:"form-header",children:[m.jsx("div",{className:"form-icon",children:""}),m.jsxs("div",{className:"form-title-group",children:[m.jsx("h1",{className:"form-title",children:((s=t.basicInfo)==null?void 0:s.role)||"APPLICATION FORM"}),m.jsx("p",{className:"form-desc",children:((a=t.basicInfo)==null?void 0:a.summary)||"Please review the candidate's professional details below. This document serves as a standard profile summary."})]})]}),m.jsxs("section",{className:"form-section",children:[m.jsx("h2",{className:"form-section-title",children:"PERSONAL INFORMATION"}),m.jsxs("div",{className:"form-field-row",children:[m.jsx("span",{className:"field-bullet",children:""}),m.jsx("span",{className:"field-label",children:"Full Name:"}),m.jsx("div",{className:"field-input",children:(l=t.basicInfo)==null?void 0:l.fullName})]}),m.jsxs("div",{className:"form-field-row",children:[m.jsx("span",{className:"field-bullet",children:""}),m.jsx("span",{className:"field-label",children:"Position:"}),m.jsx("div",{className:"field-input",children:(u=t.basicInfo)==null?void 0:u.role})]}),m.jsxs("div",{className:"form-field-row",children:[m.jsx("span",{className:"field-bullet",children:""}),m.jsx("span",{className:"field-label",children:"Email Address:"}),m.jsx("div",{className:"field-input",children:(c=t.basicInfo)==null?void 0:c.email})]}),m.jsxs("div",{className:"form-field-row",children:[m.jsx("span",{className:"field-bullet",children:""}),m.jsx("span",{className:"field-label",children:"Phone Number:"}),m.jsx("div",{className:"field-input",children:(f=t.basicInfo)==null?void 0:f.phone})]})]}),m.jsxs("section",{className:"form-section",children:[m.jsx("h2",{className:"form-section-title",children:"PROFESSIONAL EXPERIENCE"}),(!t.experience||t.experience.length===0)&&m.jsx("div",{style:{color:"#ccc",padding:"10px"},children:"(No Experience Added)"}),(t.experience||[]).map((g,y)=>m.jsxs("div",{className:"form-exp-item",children:[m.jsxs("div",{className:"exp-header-row",children:[m.jsxs("div",{className:"field-half",children:[m.jsx("span",{className:"field-bullet",children:""}),m.jsx("span",{className:"field-label",children:"Company:"}),m.jsx("div",{className:"field-input",children:g.company})]}),m.jsxs("div",{className:"field-half",children:[m.jsx("span",{className:"field-label",children:"Date:"}),m.jsx("div",{className:"field-input",children:g.period})]})]}),m.jsxs("div",{className:"form-field-row",style:{marginTop:"-4px"},children:[m.jsx("span",{className:"field-bullet",style:{visibility:"hidden"},children:""}),m.jsx("span",{className:"field-label",children:"Role:"}),m.jsx("div",{className:"field-input",children:g.role})]}),m.jsx("div",{className:"exp-desc-box",children:g.desc})]},y))]}),m.jsxs("section",{className:"form-section",children:[m.jsx("h2",{className:"form-section-title",children:"EDUCATION"}),(!t.education||t.education.length===0)&&m.jsx("div",{style:{color:"#ccc",padding:"10px"},children:"(No Education Added)"}),(t.education||[]).map((g,y)=>m.jsxs("div",{className:"form-field-row",children:[m.jsx("span",{className:"field-bullet",children:""}),m.jsx("span",{className:"field-label",children:"School:"}),m.jsxs("div",{className:"field-input",children:[g.school," (",g.major,") - ",g.year]})]},y))]}),m.jsxs("section",{className:"form-section",children:[m.jsx("h2",{className:"form-section-title",children:"SKILLS & QUALIFICATIONS"}),m.jsxs("div",{className:"skills-container",children:[(Array.isArray(t.skills)?t.skills:String(t.skills||"").split(",").map(g=>g.trim()).filter(Boolean)).map((g,y)=>m.jsxs("div",{className:"checkbox-item",children:[m.jsx("div",{className:"checkbox-box",children:""}),m.jsx("span",{children:g})]},y)),(!t.skills||t.skills.length===0)&&m.jsx("div",{style:{color:"#ccc",fontSize:"12px"},children:"(No Skills Added)"})]})]}),m.jsxs("div",{className:"form-footer",children:[m.jsx("h2",{className:"form-section-title",children:"AGREEMENT"}),m.jsx("p",{className:"agreement-text",children:"I hereby certify that the information contained in this application form is true and correct to the best of my knowledge. I understand that any misrepresentation may lead to disqualification."}),m.jsxs("div",{className:"signature-row",children:[m.jsxs("div",{className:"field-half",children:[m.jsx("span",{className:"field-label",children:"Signature:"}),m.jsx("div",{className:"field-input",style:{fontFamily:'"Dancing Script", cursive',fontSize:"24px",lineHeight:"1.2"},children:(p=t.basicInfo)==null?void 0:p.fullName})]}),m.jsxs("div",{className:"field-half",children:[m.jsx("span",{className:"field-label",children:"Date:"}),m.jsx("div",{className:"field-input",children:new Date().toISOString().slice(0,10)})]})]})]})]})]}):null}),kV=(t,e=40)=>{const[n,i]=O.useState(1),r=794,s=1123;return O.useLayoutEffect(()=>{const a=()=>{if(!t.current)return;const{clientWidth:u,clientHeight:c}=t.current,f=u-e,p=c-e,g=f/r,y=p/s,I=Math.min(g,y,1);i(I>0?I:.1)};a();const l=new ResizeObserver(()=>{requestAnimationFrame(a)});return t.current&&l.observe(t.current),()=>l.disconnect()},[t]),n},PV=(t,e,n=1060,i={})=>{const[r,s]=O.useState(16),[a,l]=O.useState("OK"),u=i.minSize||10,c=i.step||.5;return O.useEffect(()=>{if(!t.current)return;const f=t.current;if(!(i.active!==!1)){f.style.fontSize="",l("OK"),s(16);return}let g=16;f.style.fontSize=`${g}px`;const y=()=>{const x=n||f.clientHeight,M=f.scrollHeight;return{allowed:x,actual:M,isOver:M>x+1}},I=()=>{let{allowed:x,actual:M,isOver:T}=y(),v=!1;if(console.log(`[AutoFit] Start: Size=${g}px, Allowed=${x}px, Actual=${M}px`),T)for(;T&&g>u;){g-=c,f.style.fontSize=`${g}px`;const b=y();x=b.allowed,M=b.actual,T=b.isOver,v=!0}console.log(`[AutoFit] End: Size=${g}px, IsOver=${T}, Status=${T?"OVER":v?"ADJUSTED":"OK"}`),s(g),l(T?"OVER":v?"ADJUSTED":"OK")};requestAnimationFrame(()=>{requestAnimationFrame(I)})},[e,n,u,c,i.active]),{fontSize:r,status:a}},LV=async(t,e="resume.pdf",n={})=>{alert(` [System Notice]

PDF Engine Upgrade in Progress.
Please use Browser Print (Ctrl+P) for now.`),console.warn("PDF Export is temporarily disabled pending Operation Vector.")},jV=({isOpen:t,onClose:e,data:n})=>{console.log("[ResumePreviewModal] Data Prop:",n);const i=O.useRef(null),r=O.useRef(null),s=kV(i),[a,l]=O.useState("fit"),u=a==="fit"?s:1,[c,f]=O.useState(2),[p,g]=O.useState(0),[y,I]=O.useState(!0),{fontSize:x}=PV(r,n,1050,{minSize:10,active:y}),[M,T]=O.useState(!1);if(O.useEffect(()=>{const b=D=>{D.key==="Escape"&&e()};return t&&window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[t,e]),!t)return null;const v=async()=>{r.current&&(T(!0),setTimeout(async()=>{const b=`Resume_${n.name||"User"}_${new Date().toISOString().slice(0,10)}.pdf`;await LV(r.current,b,{}),T(!1)},100))};return m.jsx("div",{className:"preview-modal-overlay",children:m.jsxs("div",{className:"preview-modal-content",children:[m.jsxs("div",{className:"preview-modal-header",children:[m.jsxs("div",{className:"preview-header-left",children:[m.jsx("span",{className:"preview-title",children:"A4 Print Preview"}),m.jsxs("div",{className:"toolbar-group",children:[m.jsx("label",{className:"toolbar-label",children:"Quality:"}),m.jsxs("select",{value:c,onChange:b=>f(Number(b.target.value)),className:"toolbar-select",children:[m.jsx("option",{value:1.5,children:"Medium (1.5x)"}),m.jsx("option",{value:2,children:"High (2.0x)"}),m.jsx("option",{value:3,children:"Ultra (3.0x)"})]})]}),m.jsx("div",{className:"toolbar-group",children:m.jsxs("label",{className:"toolbar-label",children:[m.jsx("input",{type:"checkbox",checked:y,onChange:b=>I(b.target.checked)}),"Force 1-Page"]})}),m.jsxs("div",{className:"toolbar-group",children:[m.jsx("label",{className:"toolbar-label",children:"Zoom:"}),m.jsxs("div",{className:"zoom-controls",children:[m.jsx("button",{className:`zoom-btn ${a==="fit"?"active":""}`,onClick:b=>{console.log("FIT clicked"),b.stopPropagation(),l("fit")},children:"FIT"}),m.jsx("button",{className:`zoom-btn ${a==="100"?"active":""}`,onClick:b=>{console.log("100% clicked"),b.stopPropagation(),l("100")},children:"100%"})]})]})]}),m.jsxs("div",{className:"preview-actions",children:[m.jsx("button",{className:"btn-close",onClick:e,disabled:M,children:"Close ()"}),m.jsx("button",{className:"btn-save",onClick:v,disabled:M,children:M?"Saving...":" Save PDF"})]})]}),m.jsx("div",{className:"preview-stage",ref:i,style:{overflow:a==="100"?"auto":"hidden",display:a==="100"?"block":"grid"},children:m.jsx("div",{className:"paper-transform-wrapper",style:{transform:`scale(${u})`,transformOrigin:a==="100"?"top center":"center",margin:a==="100"?"40px auto":"0"},children:m.jsx("div",{style:{width:"100%",height:"auto",minHeight:"100%",fontSize:y?`${x}px`:void 0},children:m.jsx(QA,{ref:r,data:n})})})})]})})},UV=()=>{const{data:t}=ma();console.log("[PreviewPanel] Data from Context:",t);const[e,n]=O.useState(.6),[i,r]=O.useState(!1),s=O.useRef(),a=()=>{r(!0)};return m.jsxs("div",{className:"preview-panel",children:[m.jsxs("div",{className:"preview-toolbar",children:[m.jsx("span",{className:"toolbar-title",children:"Live Preview (A4)"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:"rgba(255,255,255,0.1)",padding:"5px 10px",borderRadius:"15px"},children:[m.jsx("span",{style:{fontSize:"0.8rem"},children:" Zoom:"}),m.jsx("input",{type:"range",min:"0.3",max:"1.5",step:"0.1",value:e,onChange:l=>n(parseFloat(l.target.value)),style:{width:"80px",cursor:"pointer"}}),m.jsxs("span",{style:{fontSize:"0.8rem",width:"30px"},children:[Math.round(e*100),"%"]})]}),m.jsx("button",{onClick:a,className:"print-btn",children:" PDF / Print"})]}),m.jsx("div",{className:"preview-scroll-area",style:{overflow:"auto",width:"100%",height:"calc(100vh - 100px)",display:"flex",justifyContent:"center",background:"#525659",paddingTop:"40px",paddingBottom:"40px"},children:m.jsx("div",{style:{transform:`scale(${e})`,transformOrigin:"top center",transition:"transform 0.2s ease-out"},children:m.jsx(QA,{ref:s,data:t})})}),m.jsx(jV,{isOpen:i,onClose:()=>r(!1),data:t})]})},zV=({activeTab:t,onToggle:e})=>m.jsxs("div",{className:"mobile-toggle-bar",children:[m.jsx("button",{className:`mobile-tab-btn ${t==="editor"?"active":""}`,onClick:()=>e("editor"),children:" Editor"}),m.jsx("button",{className:`mobile-tab-btn ${t==="preview"?"active":""}`,onClick:()=>e("preview"),children:" Preview"})]}),xf=()=>{const{loading:t}=ma(),[e,n]=O.useState("editor");return t?m.jsx("div",{className:"loading-screen",children:"Loading Profile Engine..."}):m.jsxs("div",{className:"builder-layout",children:[m.jsx("div",{className:`builder-left ${e==="preview"?"mobile-hidden":""}`,children:m.jsx(VV,{})}),m.jsx("div",{className:`builder-right ${e==="editor"?"mobile-hidden":""}`,children:m.jsx(UV,{})}),m.jsx(zV,{activeTab:e,onToggle:n})]})},BV=()=>m.jsxs("div",{className:"landing-container",children:[m.jsx("div",{className:"orb orb-1"}),m.jsx("div",{className:"orb orb-2"}),m.jsx("div",{className:"grid-overlay"}),m.jsx("div",{className:"landing-bg"}),m.jsxs("section",{className:"hero-section",children:[m.jsx("div",{className:"hero-badge",children:" V2.0 Now Live"}),m.jsxs("h1",{className:"hero-title",children:["Resume Builder ",m.jsx("span",{className:"highlight-text",children:"Pro"})]}),m.jsxs("p",{className:"hero-subtitle",children:["Craft your professional identity with our ",m.jsx("span",{className:"text-gradient",children:"AI-powered"})," editor.",m.jsx("br",{}),"Real-time preview, ATS-friendly, and completely free."]}),m.jsxs("div",{className:"hero-actions",children:[m.jsxs(Mi,{to:"/builder",className:"cta-button primary",children:[" Start Building",m.jsx("div",{className:"btn-glow"})]}),m.jsx("button",{className:"cta-button secondary",onClick:()=>alert("Coming Soon!"),children:" Load Template"})]})]}),m.jsxs("section",{className:"features-section",children:[m.jsxs("div",{className:"feature-card",children:[m.jsx("div",{className:"feature-icon",children:""}),m.jsx("h3",{children:" "}),m.jsx("p",{children:"    ."})]}),m.jsxs("div",{className:"feature-card",children:[m.jsx("div",{className:"feature-icon",children:""}),m.jsx("h3",{children:"PDF "}),m.jsx("p",{children:"   A4 PDF ."})]}),m.jsxs("div",{className:"feature-card",children:[m.jsx("div",{className:"feature-icon",children:""}),m.jsx("h3",{children:" "}),m.jsx("p",{children:"    ."})]})]}),m.jsxs("section",{className:"premium-section",id:"premium",children:[m.jsx("h2",{className:"section-title",children:"  "}),m.jsx("p",{className:"section-subtitle",children:"    "}),m.jsx("div",{className:"premium-grid",children:m.jsxs("div",{className:"premium-card",children:[m.jsx("div",{className:"premium-badge",children:"POPULAR"}),m.jsx("h3",{children:"Developer Pro"}),m.jsx("p",{className:"premium-price",children:"5,000"}),m.jsxs("ul",{className:"premium-features",children:[m.jsx("li",{children:"   "}),m.jsx("li",{children:"   "}),m.jsx("li",{children:" ATS "}),m.jsx("li",{children:" PDF/PNG "})]}),m.jsx(Mi,{to:"/builder",className:"premium-btn",children:" "})]})})]}),m.jsxs("section",{className:"contact-section",id:"contact",children:[m.jsx("h2",{className:"section-title",children:" "}),m.jsx("p",{children:"    ."}),m.jsx("p",{className:"contact-email",children:" heejung240000@gmail.com"})]}),m.jsx("footer",{className:"landing-footer",children:m.jsxs("div",{className:"footer-content",children:[m.jsx("p",{children:" 2026 Resume Builder Pro. All rights reserved."}),m.jsxs("div",{className:"footer-links",children:[m.jsx(Mi,{to:"/privacy",children:" "}),m.jsx("span",{className:"link-divider",children:"|"}),m.jsx(Mi,{to:"/terms",children:""})]}),m.jsxs("div",{className:"footer-policies",children:[m.jsxs("div",{className:"policy-item",children:[m.jsx("strong",{children:" :"}),"       .      ."]}),m.jsxs("div",{className:"policy-item",children:[m.jsx("strong",{children:" :"}),"      ."]})]})]})})]}),HV=()=>{const t=np(),{setCustomDocId:e}=ma(),[n,i]=O.useState("   ...");return O.useEffect(()=>{(async()=>{try{if(!window.Kakao)throw new Error("Kakao SDK not loaded");window.Kakao.isInitialized()||window.Kakao.init("b0d2b8461daab0efebf5e296a1ab9661");const s=new URLSearchParams(window.location.search),a=s.get("code"),l=s.get("error");if(l)throw new Error(`  : ${l}`);if(!a)throw new Error("  ");i("   ...");const f=await(await fetch("/api/kakao-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a,redirectUri:window.location.origin+"/kakao-callback"})})).json();if(f.error)throw new Error(`  : ${f.error_description||f.error}`);i("   ..."),window.Kakao.Auth.setAccessToken(f.access_token);const g=(await window.Kakao.API.request({url:"/v2/user/me"})).id;console.log("Kakao User ID:",g),i("Firebase  ..."),await Dx(Kn),e(`kakao_${g}`),i(" !  ..."),setTimeout(()=>{t("/resume?logged_in=kakao")},500)}catch(s){console.error("Kakao Callback Error:",s),i(`: ${s.message}`),setTimeout(()=>{t("/?error=kakao_failed")},2e3)}})()},[t,e]),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #0a0a12 0%, #1a1a2e 100%)",color:"#fff",fontFamily:"Outfit, sans-serif"},children:[m.jsxs("div",{style:{background:"rgba(30, 30, 40, 0.6)",padding:"40px 60px",borderRadius:"20px",border:"1px solid rgba(0, 229, 255, 0.2)",textAlign:"center"},children:[m.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),m.jsx("h2",{style:{marginBottom:"10px"},children:" "}),m.jsx("p",{style:{color:"#aaa"},children:n}),m.jsx("div",{style:{marginTop:"20px",width:"200px",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",overflow:"hidden"},children:m.jsx("div",{style:{width:"50%",height:"100%",background:"linear-gradient(90deg, #FEE500, #FFD700)",animation:"loading 1s infinite alternate"}})})]}),m.jsx("style",{children:`
                @keyframes loading {
                    0% { width: 20%; margin-left: 0; }
                    100% { width: 80%; margin-left: 20%; }
                }
            `})]})},qV=()=>m.jsx("div",{className:"legal-container",children:m.jsxs("div",{className:"legal-content",children:[m.jsx(Mi,{to:"/",className:"back-link",children:"  "}),m.jsx("h1",{children:"  (Privacy Policy)"}),m.jsx("p",{className:"last-updated",children:" : 2026 2 4"}),m.jsxs("section",{children:[m.jsx("h2",{children:"1.  "}),m.jsx("p",{children:"Resume Builder Pro      :"}),m.jsxs("ul",{children:[m.jsxs("li",{children:[m.jsx("strong",{children:" :"}),"  ,  (  )"]}),m.jsxs("li",{children:[m.jsx("strong",{children:" :"}),"   Lemon Squeezy  ,      ."]}),m.jsxs("li",{children:[m.jsx("strong",{children:" :"}),"   ,  "]})]})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"2.   "}),m.jsxs("ul",{children:[m.jsx("li",{children:"    "}),m.jsx("li",{children:"     "}),m.jsx("li",{children:"    "})]})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"3.   "}),m.jsx("p",{children:"    ,         ."})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"4.  3 "}),m.jsx("p",{children:"   Lemon Squeezy(Stripe)   .      3  ."})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"5.  "}),m.jsx("p",{children:"        ."})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"6. "}),m.jsxs("p",{children:["  : ",m.jsx("a",{href:"mailto:heejung240000@gmail.com",children:"heejung240000@gmail.com"})]})]})]})}),FV=()=>m.jsx("div",{className:"legal-container",children:m.jsxs("div",{className:"legal-content",children:[m.jsx(Mi,{to:"/",className:"back-link",children:"  "}),m.jsx("h1",{children:" (Terms of Service)"}),m.jsx("p",{className:"last-updated",children:" : 2026 2 4"}),m.jsxs("section",{children:[m.jsx("h2",{children:"1.  "}),m.jsx("p",{children:"Resume Builder Pro      ."})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"2.  "}),m.jsxs("ul",{children:[m.jsx("li",{children:"  ,    ."}),m.jsx("li",{children:"      ."}),m.jsx("li",{children:" ,  ."})]})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"3.   "}),m.jsxs("ul",{children:[m.jsxs("li",{children:[m.jsx("strong",{children:":"}),"   Lemon Squeezy   ."]}),m.jsxs("li",{children:[m.jsx("strong",{children:" :"}),"    /   ."]}),m.jsxs("li",{children:[m.jsx("strong",{children:" :"}),"        ,    ."]})]})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"4.  "}),m.jsx("p",{children:"   (, , )  Resume Builder Pro ."})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"5.  "}),m.jsx("p",{children:"    /    .       ."})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"6.  "}),m.jsx("p",{children:"       ."})]}),m.jsxs("section",{children:[m.jsx("h2",{children:"7. "}),m.jsxs("p",{children:["  : ",m.jsx("a",{href:"mailto:heejung240000@gmail.com",children:"heejung240000@gmail.com"})]})]})]})}),GV=({isOpen:t,onClose:e})=>{const{setCustomDocId:n}=ma(),[i,r]=O.useState("login"),[s,a]=O.useState(!1),[l,u]=O.useState(""),[c,f]=O.useState(""),[p,g]=O.useState(""),[y,I]=O.useState(!1),[x,M]=O.useState(!1),[T,v]=O.useState(!1),[b,D]=O.useState("");if(O.useEffect(()=>{console.log("[LoginModal] isOpen prop:",t),t&&(r("login"),a(!1),u(""),f(""),g(""),D(""))},[t]),O.useEffect(()=>{const S="b0d2b8461daab0efebf5e296a1ab9661";if(console.log("Kakao Key used:",S),window.Kakao){if(!window.Kakao.isInitialized())try{window.Kakao.init(S),console.log("Kakao SDK Initialized")}catch(G){console.error("Kakao Init Error:",G)}}else console.error("Kakao SDK script not loaded on window")},[]),!t)return null;const U=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,H=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[\W_]).{8,}$/,w=U.test(l),E=H.test(c),A=c===p,R=i==="login"?l&&c:w&&E&&A,C=async()=>{v(!0),D("");try{await aD(Kn,CV),e()}catch(S){console.error(S),S.code==="auth/popup-closed-by-user"?D("  .  ."):S.code==="auth/cancelled-popup-request"?D(" .    ."):D("  : "+S.message)}finally{v(!1)}},N=async S=>{if(S.preventDefault(),console.log("[LoginModal] Submitting form. Tab:",i),!(!R||T)){v(!0),D("");try{i==="login"?(await Px(Kn,l,c),e()):(await kx(Kn,l,c),a(!0),setTimeout(()=>{e()},3e3))}catch(G){console.error(G);let X=G.message;G.code==="auth/email-already-in-use"&&(X="  ."),G.code==="auth/wrong-password"&&(X=" ."),G.code==="auth/user-not-found"&&(X="  ."),D(X)}finally{v(!1)}}};return s?m.jsx("div",{className:"auth-overlay",children:m.jsxs("div",{className:"auth-modal",children:[m.jsx("button",{className:"auth-close-btn",onClick:e,children:""}),m.jsxs("div",{className:"auth-success-screen",children:[m.jsx("div",{className:"auth-success-icon",children:""}),m.jsx("h2",{className:"auth-success-title",children:"!"}),m.jsxs("p",{className:"auth-success-desc",children:["  .",m.jsx("br",{}),"   ."]}),m.jsx("button",{className:"auth-submit-btn",onClick:e,children:" "})]})]})}):m.jsx("div",{className:"auth-overlay",onClick:e,children:m.jsxs("div",{className:"auth-modal",onClick:S=>S.stopPropagation(),children:[m.jsx("button",{className:"auth-close-btn",onClick:e,children:""}),m.jsx("div",{className:"auth-header",children:m.jsxs("div",{className:"auth-tabs",children:[m.jsx("button",{className:`auth-tab-btn ${i==="login"?"active":""}`,onClick:()=>r("login"),children:""}),m.jsx("button",{className:`auth-tab-btn ${i==="signup"?"active":""}`,onClick:()=>r("signup"),children:""})]})}),m.jsxs("div",{className:"auth-body",children:[m.jsxs("form",{onSubmit:N,children:[m.jsxs("div",{className:"auth-input-group",children:[m.jsx("label",{className:"auth-label",children:""}),m.jsx("input",{className:"auth-input",type:"email",placeholder:"name@example.com",value:l,onChange:S=>u(S.target.value)})]}),m.jsxs("div",{className:"auth-input-group",children:[m.jsx("label",{className:"auth-label",children:""}),m.jsxs("div",{className:"auth-input-wrapper",children:[m.jsx("input",{className:"auth-input",type:y?"text":"password",placeholder:"8 , // ",value:c,onChange:S=>f(S.target.value)}),m.jsx("button",{type:"button",className:"auth-eye-btn",onClick:()=>I(!y),children:y?"":""})]})]}),i==="signup"&&m.jsxs("div",{className:"auth-input-group",children:[m.jsx("label",{className:"auth-label",children:" "}),m.jsxs("div",{className:"auth-input-wrapper",children:[m.jsx("input",{className:"auth-input",type:x?"text":"password",placeholder:"    ",value:p,onChange:S=>g(S.target.value)}),m.jsx("button",{type:"button",className:"auth-eye-btn",onClick:()=>M(!x),children:x?"":""})]}),m.jsxs("div",{className:"auth-validation-list",children:[m.jsxs("div",{className:`auth-val-item ${E?"valid":"invalid"}`,children:[E?"":""," 8 , // ",m.jsx("div",{className:"auth-val-hint",children:"( : ! @ # $ % ^ & * _ - + = )"})]}),m.jsxs("div",{className:`auth-val-item ${A&&p?"valid":p?"invalid":""}`,children:[A&&p?"":"","  "]})]})]}),b&&m.jsx("div",{className:"auth-helper-text error",style:{marginBottom:"10px"},children:b}),m.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:!R||T,children:T?" ...":i==="login"?" ":""})]}),m.jsx("div",{className:"auth-divider",children:m.jsx("span",{children:"   "})}),m.jsxs("div",{className:"auth-social-section",children:[m.jsxs("button",{className:"auth-social-btn google",onClick:C,"data-tooltip":"     . ?",children:[m.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"auth-social-icon"}),"Google "]}),m.jsx("div",{className:"auth-social-others"})]})]})]})})},KV=()=>{const t=np(),e=or(),{user:n}=ma(),[i,r]=O.useState(!1),s=()=>{r(!0)},a=()=>{e.pathname!=="/"&&t(-1)},l=()=>{t("/")},u=async()=>{try{await zx(Kn),alert("  ")}catch(c){console.error("Logout Failed:",c)}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"global-navigator",children:[m.jsx("button",{onClick:l,className:"nav-btn home-btn",title:"",children:""}),m.jsx("button",{onClick:a,className:"nav-btn back-btn",title:"",children:""}),m.jsx("div",{className:"nav-divider",style:{width:"1px",background:"rgba(255,255,255,0.2)",margin:"0 5px"}}),n?m.jsx("button",{onClick:u,className:"nav-btn logout-btn",title:` (${n.displayName||n.email})`,children:n.photoURL?m.jsx("img",{src:n.photoURL,alt:"User",style:{width:"100%",height:"100%",borderRadius:"50%"}}):m.jsx("span",{style:{fontSize:"1.2rem"},children:""})}):m.jsx("button",{onClick:s,className:"nav-btn login-btn",title:" / ",children:""})]}),m.jsx(GV,{isOpen:i,onClose:()=>r(!1)})]})};function YV(){return m.jsxs(NV,{children:[m.jsx(KV,{})," ",m.jsxs(_I,{children:[m.jsx(_i,{path:"/",element:m.jsx(BV,{})}),m.jsx(_i,{path:"/builder",element:m.jsx(xf,{})}),m.jsx(_i,{path:"/kakao-callback",element:m.jsx(HV,{})}),m.jsx(_i,{path:"/privacy",element:m.jsx(qV,{})}),m.jsx(_i,{path:"/terms",element:m.jsx(FV,{})}),m.jsx(_i,{path:"/edit",element:m.jsx(xf,{})}),m.jsx(_i,{path:"/preview",element:m.jsx(xf,{})})]})]})}TC.createRoot(document.getElementById("root")).render(m.jsx(za.StrictMode,{children:m.jsx(HI,{children:m.jsx(YV,{})})}));
