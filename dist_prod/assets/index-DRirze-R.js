function nA(s,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function G0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Fd={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function iA(){if(Zv)return wl;Zv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var e_;function sA(){return e_||(e_=1,Fd.exports=iA()),Fd.exports}var p=sA(),Gd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function rA(){if(t_)return Se;t_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function k(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,U={};function se(I,H,ne){this.props=I,this.context=H,this.refs=U,this.updater=ne||q}se.prototype.isReactComponent={},se.prototype.setState=function(I,H){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,H,"setState")},se.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function K(){}K.prototype=se.prototype;function Z(I,H,ne){this.props=I,this.context=H,this.refs=U,this.updater=ne||q}var ce=Z.prototype=new K;ce.constructor=Z,F(ce,se.prototype),ce.isPureReactComponent=!0;var Ie=Array.isArray;function Ae(){}var O={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(I,H,ne){var ue=ne.ref;return{$$typeof:s,type:I,key:H,ref:ue!==void 0?ue:null,props:ne}}function V(I,H){return C(I.type,H,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function j(I){var H={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ne){return H[ne]})}var R=/\/+/g;function Pe(I,H){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):H.toString(36)}function et(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ae,Ae):(I.status="pending",I.then(function(H){I.status==="pending"&&(I.status="fulfilled",I.value=H)},function(H){I.status==="pending"&&(I.status="rejected",I.reason=H)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function X(I,H,ne,ue,ye){var we=typeof I;(we==="undefined"||we==="boolean")&&(I=null);var Ue=!1;if(I===null)Ue=!0;else switch(we){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(I.$$typeof){case s:case e:Ue=!0;break;case T:return Ue=I._init,X(Ue(I._payload),H,ne,ue,ye)}}if(Ue)return ye=ye(I),Ue=ue===""?"."+Pe(I,0):ue,Ie(ye)?(ne="",Ue!=null&&(ne=Ue.replace(R,"$&/")+"/"),X(ye,H,ne,"",function(Zn){return Zn})):ye!=null&&(D(ye)&&(ye=V(ye,ne+(ye.key==null||I&&I.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Ue)),H.push(ye)),1;Ue=0;var Pt=ue===""?".":ue+":";if(Ie(I))for(var at=0;at<I.length;at++)ue=I[at],we=Pt+Pe(ue,at),Ue+=X(ue,H,ne,we,ye);else if(at=k(I),typeof at=="function")for(I=at.call(I),at=0;!(ue=I.next()).done;)ue=ue.value,we=Pt+Pe(ue,at++),Ue+=X(ue,H,ne,we,ye);else if(we==="object"){if(typeof I.then=="function")return X(et(I),H,ne,ue,ye);throw H=String(I),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(I,H,ne){if(I==null)return I;var ue=[],ye=0;return X(I,ue,"","",function(we){return H.call(ne,we,ye++)}),ue}function de(I){if(I._status===-1){var H=I._result;H=H(),H.then(function(ne){(I._status===0||I._status===-1)&&(I._status=1,I._result=ne)},function(ne){(I._status===0||I._status===-1)&&(I._status=2,I._result=ne)}),I._status===-1&&(I._status=0,I._result=H)}if(I._status===1)return I._result.default;throw I._result}var Le=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},oe={map:ae,forEach:function(I,H,ne){ae(I,function(){H.apply(this,arguments)},ne)},count:function(I){var H=0;return ae(I,function(){H++}),H},toArray:function(I){return ae(I,function(H){return H})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Se.Activity=b,Se.Children=oe,Se.Component=se,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=Z,Se.StrictMode=r,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Se.__COMPILER_RUNTIME={__proto__:null,c:function(I){return O.H.useMemoCache(I)}},Se.cache=function(I){return function(){return I.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(I,H,ne){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ue=F({},I.props),ye=I.key;if(H!=null)for(we in H.key!==void 0&&(ye=""+H.key),H)!x.call(H,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&H.ref===void 0||(ue[we]=H[we]);var we=arguments.length-2;if(we===1)ue.children=ne;else if(1<we){for(var Ue=Array(we),Pt=0;Pt<we;Pt++)Ue[Pt]=arguments[Pt+2];ue.children=Ue}return C(I.type,ye,ue)},Se.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Se.createElement=function(I,H,ne){var ue,ye={},we=null;if(H!=null)for(ue in H.key!==void 0&&(we=""+H.key),H)x.call(H,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ye[ue]=H[ue]);var Ue=arguments.length-2;if(Ue===1)ye.children=ne;else if(1<Ue){for(var Pt=Array(Ue),at=0;at<Ue;at++)Pt[at]=arguments[at+2];ye.children=Pt}if(I&&I.defaultProps)for(ue in Ue=I.defaultProps,Ue)ye[ue]===void 0&&(ye[ue]=Ue[ue]);return C(I,we,ye)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(I){return{$$typeof:m,render:I}},Se.isValidElement=D,Se.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:de}},Se.memo=function(I,H){return{$$typeof:v,type:I,compare:H===void 0?null:H}},Se.startTransition=function(I){var H=O.T,ne={};O.T=ne;try{var ue=I(),ye=O.S;ye!==null&&ye(ne,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ae,Le)}catch(we){Le(we)}finally{H!==null&&ne.types!==null&&(H.types=ne.types),O.T=H}},Se.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Se.use=function(I){return O.H.use(I)},Se.useActionState=function(I,H,ne){return O.H.useActionState(I,H,ne)},Se.useCallback=function(I,H){return O.H.useCallback(I,H)},Se.useContext=function(I){return O.H.useContext(I)},Se.useDebugValue=function(){},Se.useDeferredValue=function(I,H){return O.H.useDeferredValue(I,H)},Se.useEffect=function(I,H){return O.H.useEffect(I,H)},Se.useEffectEvent=function(I){return O.H.useEffectEvent(I)},Se.useId=function(){return O.H.useId()},Se.useImperativeHandle=function(I,H,ne){return O.H.useImperativeHandle(I,H,ne)},Se.useInsertionEffect=function(I,H){return O.H.useInsertionEffect(I,H)},Se.useLayoutEffect=function(I,H){return O.H.useLayoutEffect(I,H)},Se.useMemo=function(I,H){return O.H.useMemo(I,H)},Se.useOptimistic=function(I,H){return O.H.useOptimistic(I,H)},Se.useReducer=function(I,H,ne){return O.H.useReducer(I,H,ne)},Se.useRef=function(I){return O.H.useRef(I)},Se.useState=function(I){return O.H.useState(I)},Se.useSyncExternalStore=function(I,H,ne){return O.H.useSyncExternalStore(I,H,ne)},Se.useTransition=function(){return O.H.useTransition()},Se.version="19.2.4",Se}var n_;function zm(){return n_||(n_=1,Gd.exports=rA()),Gd.exports}var J=zm();const bt=G0(J),aA=nA({__proto__:null,default:bt},[J]);var Kd={exports:{}},xl={},Qd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function oA(){return i_||(i_=1,(function(s){function e(X,ae){var de=X.length;X.push(ae);e:for(;0<de;){var Le=de-1>>>1,oe=X[Le];if(0<o(oe,ae))X[Le]=ae,X[de]=oe,de=Le;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],de=X.pop();if(de!==ae){X[0]=de;e:for(var Le=0,oe=X.length,I=oe>>>1;Le<I;){var H=2*(Le+1)-1,ne=X[H],ue=H+1,ye=X[ue];if(0>o(ne,de))ue<oe&&0>o(ye,ne)?(X[Le]=ye,X[ue]=de,Le=ue):(X[Le]=ne,X[H]=de,Le=H);else if(ue<oe&&0>o(ye,de))X[Le]=ye,X[ue]=de,Le=ue;else break e}}return ae}function o(X,ae){var de=X.sortIndex-ae.sortIndex;return de!==0?de:X.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],v=[],T=1,b=null,w=3,k=!1,q=!1,F=!1,U=!1,se=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ce(X){for(var ae=n(v);ae!==null;){if(ae.callback===null)r(v);else if(ae.startTime<=X)r(v),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(v)}}function Ie(X){if(F=!1,ce(X),!q)if(n(g)!==null)q=!0,Ae||(Ae=!0,j());else{var ae=n(v);ae!==null&&et(Ie,ae.startTime-X)}}var Ae=!1,O=-1,x=5,C=-1;function V(){return U?!0:!(s.unstable_now()-C<x)}function D(){if(U=!1,Ae){var X=s.unstable_now();C=X;var ae=!0;try{e:{q=!1,F&&(F=!1,K(O),O=-1),k=!0;var de=w;try{t:{for(ce(X),b=n(g);b!==null&&!(b.expirationTime>X&&V());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,w=b.priorityLevel;var oe=Le(b.expirationTime<=X);if(X=s.unstable_now(),typeof oe=="function"){b.callback=oe,ce(X),ae=!0;break t}b===n(g)&&r(g),ce(X)}else r(g);b=n(g)}if(b!==null)ae=!0;else{var I=n(v);I!==null&&et(Ie,I.startTime-X),ae=!1}}break e}finally{b=null,w=de,k=!1}ae=void 0}}finally{ae?j():Ae=!1}}}var j;if(typeof Z=="function")j=function(){Z(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Pe=R.port2;R.port1.onmessage=D,j=function(){Pe.postMessage(null)}}else j=function(){se(D,0)};function et(X,ae){O=se(function(){X(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var de=w;w=ae;try{return X()}finally{w=de}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=w;w=X;try{return ae()}finally{w=de}},s.unstable_scheduleCallback=function(X,ae,de){var Le=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Le+de:Le):de=Le,X){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=de+oe,X={id:T++,callback:ae,priorityLevel:X,startTime:de,expirationTime:oe,sortIndex:-1},de>Le?(X.sortIndex=de,e(v,X),n(g)===null&&X===n(v)&&(F?(K(O),O=-1):F=!0,et(Ie,de-Le))):(X.sortIndex=oe,e(g,X),q||k||(q=!0,Ae||(Ae=!0,j()))),X},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(X){var ae=w;return function(){var de=w;w=ae;try{return X.apply(this,arguments)}finally{w=de}}}})(Yd)),Yd}var s_;function lA(){return s_||(s_=1,Qd.exports=oA()),Qd.exports}var Xd={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function uA(){if(r_)return $t;r_=1;var s=zm();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,v,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:v,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(g,v,null,T)},$t.flushSync=function(g){var v=f.T,T=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=v,r.p=T,r.d.f()}},$t.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var T=v.as,b=m(T,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:k}):T==="script"&&r.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},$t.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=m(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},$t.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,b=m(T,v.crossOrigin);r.d.L(g,T,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},$t.preloadModule=function(g,v){if(typeof g=="string")if(v){var T=m(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,v){return g(v)},$t.useFormState=function(g,v,T){return f.H.useFormState(g,v,T)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var a_;function K0(){if(a_)return Xd.exports;a_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=uA(),Xd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function cA(){if(o_)return xl;o_=1;var s=lA(),e=zm(),n=K0();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function v(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case se:return"Profiler";case U:return"StrictMode";case Ie:return"Suspense";case Ae:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case Z:return t.displayName||"Context";case K:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:Pe(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return Pe(t(i))}catch{}}return null}var et=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Le=[],oe=-1;function I(t){return{current:t}}function H(t){0>oe||(t.current=Le[oe],Le[oe]=null,oe--)}function ne(t,i){oe++,Le[oe]=t.current,t.current=i}var ue=I(null),ye=I(null),we=I(null),Ue=I(null);function Pt(t,i){switch(ne(we,i),ne(ye,t),ne(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Sv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Sv(i),t=bv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(ue),ne(ue,t)}function at(){H(ue),H(ye),H(we)}function Zn(t){t.memoizedState!==null&&ne(Ue,t);var i=ue.current,a=bv(i,t.type);i!==a&&(ne(ye,t),ne(ue,a))}function Ti(t){ye.current===t&&(H(ue),H(ye)),Ue.current===t&&(H(Ue),Tl._currentValue=de)}var gr,la;function qn(t){if(gr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);gr=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gr+t+la}var yr=!1;function ua(t,i){if(!t||yr)return"";yr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var G=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){G=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),B=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{yr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qn(a):""}function zh(t,i){switch(t.tag){case 26:case 27:case 5:return qn(t.type);case 16:return qn("Lazy");case 13:return t.child!==i&&i!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return ua(t.type,!1);case 11:return ua(t.type.render,!1);case 1:return ua(t.type,!0);case 31:return qn("Activity");default:return""}}function hu(t){try{var i="",a=null;do i+=zh(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ca=Object.prototype.hasOwnProperty,vr=s.unstable_scheduleCallback,ha=s.unstable_cancelCallback,Bh=s.unstable_shouldYield,Ao=s.unstable_requestPaint,Lt=s.unstable_now,fu=s.unstable_getCurrentPriorityLevel,xt=s.unstable_ImmediatePriority,Nt=s.unstable_UserBlockingPriority,Si=s.unstable_NormalPriority,du=s.unstable_LowPriority,wo=s.unstable_IdlePriority,Hh=s.log,_r=s.unstable_setDisableYieldValue,as=null,Yt=null;function Rn(t){if(typeof Hh=="function"&&_r(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(as,t)}catch{}}var tn=Math.clz32?Math.clz32:mu,qh=Math.log,xo=Math.LN2;function mu(t){return t>>>=0,t===0?32:31-(qh(t)/xo|0)|0}var Er=256,ei=262144,os=4194304;function Fn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function In(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Fn(l):(_&=S,_!==0?h=Fn(_):a||(a=S&~t,a!==0&&(h=Fn(a))))):(S=l&~d,S!==0?h=Fn(S):_!==0?h=Fn(_):a||(a=l&~t,a!==0&&(h=Fn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ls(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fa(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=os;return os<<=1,(os&62914560)===0&&(os=4194304),t}function bi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function us(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ut(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-tn(a),ee=1<<$;S[$]=0,N[$]=-1;var G=B[$];if(G!==null)for(B[$]=null,$=0;$<G.length;$++){var Q=G[$];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&Io(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Io(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-tn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function cs(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-tn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function hs(t,i){var a=i&-i;return a=(a&42)!==0?1:Co(a),(a&(t.suspendedLanes|i))!==0?0:a}function Co(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function No(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ai(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Kv(t.type))}function pu(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ti=Math.random().toString(36).slice(2),ut="__reactFiber$"+ti,zt="__reactProps$"+ti,ni="__reactContainer$"+ti,fs="__reactEvents$"+ti,ii="__reactListeners$"+ti,gu="__reactHandles$"+ti,Do="__reactResources$"+ti,wi="__reactMarker$"+ti;function Tr(t){delete t[ut],delete t[zt],delete t[fs],delete t[ii],delete t[gu]}function xi(t){var i=t[ut];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ni]||a[ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Nv(t);t!==null;){if(a=t[ut])return a;t=Nv(t)}return i}t=a,a=t.parentNode}return null}function Ri(t){if(t=t[ut]||t[ni]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Sr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Gn(t){var i=t[Do];return i||(i=t[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[wi]=!0}var da=new Set,ds={};function nn(t,i){si(t,i),si(t+"Capture",i)}function si(t,i){for(ds[t]=i,t=0;t<i.length;t++)da.add(i[t])}var Fh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},jo={};function yu(t){return ca.call(jo,t)?!0:ca.call(Oo,t)?!1:Fh.test(t)?jo[t]=!0:(Oo[t]=!0,!1)}function ms(t,i,a){if(yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ps(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Cn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gh(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ma(t){if(!t._valueTracker){var i=vu(t)?"checked":"value";t._valueTracker=Gh(t,i,""+t[i])}}function Mo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ii=/[\n"\\]/g;function ct(t){return t.replace(Ii,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function gs(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+sn(i)):t.value!==""+sn(i)&&(t.value=""+sn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?ga(t,_,sn(i)):a!=null?ga(t,_,sn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+sn(S):t.removeAttribute("name")}function br(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ma(t);return}a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),ma(t)}function ga(t,i,a){i==="number"&&pa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ar(t,i,a){if(i!=null&&(i=""+sn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+sn(a):""}function ys(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(et(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=sn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ma(t)}function Nn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Kh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function _u(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Vo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Vo(t,d,i[d])}function ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(t){return Yh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Dt(){}var ya=null;function va(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,yn=null;function Eu(t){var i=Ri(t);if(i&&(t=i.stateNode)){var a=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(gs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[zt]||null;if(!h)throw Error(r(90));gs(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Mo(l)}break e;case"textarea":Ar(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Po=!1;function Tu(t,i,a){if(Po)return t(i,a);Po=!0;try{var l=t(i);return l}finally{if(Po=!1,(Ci!==null||yn!==null)&&(yc(),Ci&&(i=Ci,t=yn,yn=Ci=null,Eu(i),t)))for(i=0;i<t.length;i++)Eu(t[i])}}function ln(t,i){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=!1;if(Kn)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{Lo=!1}var vn=null,_a=null,oi=null;function vs(){if(oi)return oi;var t,i=_a,a=i.length,l,h="value"in vn?vn.value:vn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return oi=h.slice(t,1<l?1-l:void 0)}function wr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function tt(){return!1}function Xt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?_s:tt,this.isPropagationStopped=tt,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),i}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=Xt(Ni),Es=b({},Ni,{view:0,detail:0}),Su=Xt(Es),Ts,Ea,rn,Rr=b({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rn&&(rn&&t.type==="mousemove"?(Ts=t.screenX-rn.screenX,Ea=t.screenY-rn.screenY):Ea=Ts=0,rn=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),bu=Xt(Rr),Ir=b({},Rr,{dataTransfer:0}),Au=Xt(Ir),Uo=b({},Es,{relatedTarget:0}),Ss=Xt(Uo),wu=b({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=Xt(wu),Xh=b({},Ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Xt(Xh),Cr=b({},Ni,{data:0}),zo=Xt(Cr),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ho={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ho[t])?!!i[t]:!1}function bs(){return Iu}var Cu=b({},Es,{key:function(t){if(t.key){var i=Ru[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=Xt(Cu),Di=b({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Xt(Di),Du=b({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Ou=Xt(Du),ju=b({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sa=Xt(ju),an=b({},Rr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mu=Xt(an),Vu=b({},Ni,{newState:0,oldState:0}),As=Xt(Vu),c=[9,13,27,32],y=Kn&&"CompositionEvent"in window,E=null;Kn&&"documentMode"in document&&(E=document.documentMode);var A=Kn&&"TextEvent"in window&&!E,L=Kn&&(!y||E&&8<E&&11>=E),Y=" ",re=!1;function Ke(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ce=!1;function Ot(t,i){switch(t){case"compositionend":return yt(i);case"keypress":return i.which!==32?null:(re=!0,Y);case"textInput":return t=i.data,t===Y&&re?null:t;default:return null}}function jt(t,i){if(Ce)return t==="compositionend"||!y&&Ke(t,i)?(t=vs(),oi=_a=vn=null,Ce=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return L&&i.locale!=="ko"?null:i.data;default:return null}}var ws={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ws[t.type]:i==="textarea"}function Nr(t,i,a,l){Ci?yn?yn.push(l):yn=[l]:Ci=l,i=Ac(i,"onChange"),0<i.length&&(a=new xr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Oi=null,Fo=null;function CS(t){gv(t,0)}function ku(t){var i=Sr(t);if(Mo(i))return t}function Vp(t,i){if(t==="change")return i}var kp=!1;if(Kn){var $h;if(Kn){var Jh="oninput"in document;if(!Jh){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Jh=typeof Pp.oninput=="function"}$h=Jh}else $h=!1;kp=$h&&(!document.documentMode||9<document.documentMode)}function Lp(){Oi&&(Oi.detachEvent("onpropertychange",Up),Fo=Oi=null)}function Up(t){if(t.propertyName==="value"&&ku(Fo)){var i=[];Nr(i,Fo,t,va(t)),Tu(CS,i)}}function NS(t,i,a){t==="focusin"?(Lp(),Oi=i,Fo=a,Oi.attachEvent("onpropertychange",Up)):t==="focusout"&&Lp()}function DS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Fo)}function OS(t,i){if(t==="click")return ku(i)}function jS(t,i){if(t==="input"||t==="change")return ku(i)}function MS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:MS;function Go(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ca.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,i){var a=zp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zp(a)}}function Hp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Hp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pa(t.document)}return i}function Wh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var VS=Kn&&"documentMode"in document&&11>=document.documentMode,ba=null,Zh=null,Ko=null,ef=!1;function Fp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||ba==null||ba!==pa(l)||(l=ba,"selectionStart"in l&&Wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=Ac(Zh,"onSelect"),0<l.length&&(i=new xr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ba)))}function Dr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Aa={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},tf={},Gp={};Kn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Or(t){if(tf[t])return tf[t];if(!Aa[t])return t;var i=Aa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gp)return tf[t]=i[a];return t}var Kp=Or("animationend"),Qp=Or("animationiteration"),Yp=Or("animationstart"),kS=Or("transitionrun"),PS=Or("transitionstart"),LS=Or("transitioncancel"),Xp=Or("transitionend"),$p=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function Qn(t,i){$p.set(t,i),nn(i,[t])}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],wa=0,sf=0;function Lu(){for(var t=wa,i=sf=wa=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Jp(a,h,d)}}function Uu(t,i,a,l){Dn[wa++]=t,Dn[wa++]=i,Dn[wa++]=a,Dn[wa++]=l,sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rf(t,i,a,l){return Uu(t,i,a,l),zu(t)}function jr(t,i){return Uu(t,null,null,i),zu(t)}function Jp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-tn(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function zu(t){if(50<ml)throw ml=0,md=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var xa={};function US(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new US(t,i,a,l)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")af(t)&&(_=1);else if(typeof t=="string")_=Fb(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=En(31,a,i,h),t.elementType=C,t.lanes=d,t;case F:return Mr(a.children,h,d,i);case U:_=8,h|=24;break;case se:return t=En(12,a,i,h|2),t.elementType=se,t.lanes=d,t;case Ie:return t=En(13,a,i,h),t.elementType=Ie,t.lanes=d,t;case Ae:return t=En(19,a,i,h),t.elementType=Ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:_=10;break e;case K:_=9;break e;case ce:_=11;break e;case O:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=En(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Mr(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function of(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function Zp(t){var i=En(18,null,null,0);return i.stateNode=t,i}function lf(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var eg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=eg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:hu(i)},eg.set(t,i),i)}return{value:t,source:i,stack:hu(i)}}var Ra=[],Ia=0,Hu=null,Qo=0,jn=[],Mn=0,xs=null,li=1,ui="";function Mi(t,i){Ra[Ia++]=Qo,Ra[Ia++]=Hu,Hu=t,Qo=i}function tg(t,i,a){jn[Mn++]=li,jn[Mn++]=ui,jn[Mn++]=xs,xs=t;var l=li;t=ui;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,li=1<<32-tn(i)+h|a<<h|l,ui=d+t}else li=1<<d|a<<h|l,ui=t}function uf(t){t.return!==null&&(Mi(t,1),tg(t,1,0))}function cf(t){for(;t===Hu;)Hu=Ra[--Ia],Ra[Ia]=null,Qo=Ra[--Ia],Ra[Ia]=null;for(;t===xs;)xs=jn[--Mn],jn[Mn]=null,ui=jn[--Mn],jn[Mn]=null,li=jn[--Mn],jn[Mn]=null}function ng(t,i){jn[Mn++]=li,jn[Mn++]=ui,jn[Mn++]=xs,li=i.id,ui=i.overflow,xs=t}var Bt=null,nt=null,ze=!1,Rs=null,Vn=!1,hf=Error(r(519));function Is(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(On(i,t)),hf}function ig(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ut]=t,i[zt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Oe(gl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),br(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),ys(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ev(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Dt),i=!0):i=!1,i||Is(t,!0)}function sg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Bt=Bt.return}}function Ca(t){if(t!==Bt)return!1;if(!ze)return sg(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cd(t.type,t.memoizedProps)),a=!a),a&&nt&&Is(t),sg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=Cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=Cv(t)}else i===27?(i=nt,Hs(t.type)?(t=Md,Md=null,nt=t):nt=i):nt=Bt?Pn(t.stateNode.nextSibling):null;return!0}function Vr(){nt=Bt=null,ze=!1}function ff(){var t=Rs;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Rs=null),t}function Yo(t){Rs===null?Rs=[t]:Rs.push(t)}var df=I(null),kr=null,Vi=null;function Cs(t,i,a){ne(df,i._currentValue),i._currentValue=a}function ki(t){t._currentValue=df.current,H(df)}function mf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function pf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),mf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),mf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&pf(i,t,a,l),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){kr=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return rg(kr,t)}function Fu(t,i){return kr===null&&Pr(t),rg(t,i)}function rg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(r(308));Vi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Vi=Vi.next=i;return a}var zS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},BS=s.unstable_scheduleCallback,HS=s.unstable_NormalPriority,vt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new zS,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&BS(HS,function(){t.controller.abort()})}var $o=null,yf=0,Da=0,Oa=null;function qS(t,i){if($o===null){var a=$o=[];yf=0,Da=Ed(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yf++,i.then(ag,ag),i}function ag(){if(--yf===0&&$o!==null){Oa!==null&&(Oa.status="fulfilled");var t=$o;$o=null,Da=0,Oa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function FS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var og=X.S;X.S=function(t,i){Fy=Lt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&qS(t,i),og!==null&&og(t,i)};var Lr=I(null);function vf(){var t=Lr.current;return t!==null?t:Ze.pooledCache}function Gu(t,i){i===null?ne(Lr,Lr.current):ne(Lr,i.pool)}function lg(){var t=vf();return t===null?null:{parent:vt._currentValue,pool:t}}var ja=Error(r(460)),_f=Error(r(474)),Ku=Error(r(542)),Qu={then:function(){}};function ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Dt,Dt),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fg(t),t;default:if(typeof i.status=="string")i.then(Dt,Dt);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fg(t),t}throw zr=i,ja}}function Ur(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zr=a,ja):a}}var zr=null;function hg(){if(zr===null)throw Error(r(459));var t=zr;return zr=null,t}function fg(t){if(t===ja||t===Ku)throw Error(r(483))}var Ma=null,Jo=0;function Yu(t){var i=Jo;return Jo+=1,Ma===null&&(Ma=[]),cg(Ma,t,i)}function Wo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dg(t){function i(P,M){if(t){var z=P.deletions;z===null?(P.deletions=[M],P.flags|=16):z.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=ji(P,M),P.index=0,P.sibling=null,P}function d(P,M,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<M?(P.flags|=67108866,M):z):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,M,z,W){return M===null||M.tag!==6?(M=of(z,P.mode,W),M.return=P,M):(M=h(M,z),M.return=P,M)}function N(P,M,z,W){var pe=z.type;return pe===F?$(P,M,z.props.children,W,z.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Ur(pe)===M.type)?(M=h(M,z.props),Wo(M,z),M.return=P,M):(M=Bu(z.type,z.key,z.props,null,P.mode,W),Wo(M,z),M.return=P,M)}function B(P,M,z,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=lf(z,P.mode,W),M.return=P,M):(M=h(M,z.children||[]),M.return=P,M)}function $(P,M,z,W,pe){return M===null||M.tag!==7?(M=Mr(z,P.mode,W,pe),M.return=P,M):(M=h(M,z),M.return=P,M)}function ee(P,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=of(""+M,P.mode,z),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return z=Bu(M.type,M.key,M.props,null,P.mode,z),Wo(z,M),z.return=P,z;case q:return M=lf(M,P.mode,z),M.return=P,M;case x:return M=Ur(M),ee(P,M,z)}if(et(M)||j(M))return M=Mr(M,P.mode,z,null),M.return=P,M;if(typeof M.then=="function")return ee(P,Yu(M),z);if(M.$$typeof===Z)return ee(P,Fu(P,M),z);Xu(P,M)}return null}function G(P,M,z,W){var pe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:S(P,M,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===pe?N(P,M,z,W):null;case q:return z.key===pe?B(P,M,z,W):null;case x:return z=Ur(z),G(P,M,z,W)}if(et(z)||j(z))return pe!==null?null:$(P,M,z,W,null);if(typeof z.then=="function")return G(P,M,Yu(z),W);if(z.$$typeof===Z)return G(P,M,Fu(P,z),W);Xu(P,z)}return null}function Q(P,M,z,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(z)||null,S(M,P,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case k:return P=P.get(W.key===null?z:W.key)||null,N(M,P,W,pe);case q:return P=P.get(W.key===null?z:W.key)||null,B(M,P,W,pe);case x:return W=Ur(W),Q(P,M,z,W,pe)}if(et(W)||j(W))return P=P.get(z)||null,$(M,P,W,pe,null);if(typeof W.then=="function")return Q(P,M,z,Yu(W),pe);if(W.$$typeof===Z)return Q(P,M,z,Fu(M,W),pe);Xu(M,W)}return null}function he(P,M,z,W){for(var pe=null,qe=null,fe=M,Re=M=0,Me=null;fe!==null&&Re<z.length;Re++){fe.index>Re?(Me=fe,fe=null):Me=fe.sibling;var Fe=G(P,fe,z[Re],W);if(Fe===null){fe===null&&(fe=Me);break}t&&fe&&Fe.alternate===null&&i(P,fe),M=d(Fe,M,Re),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe,fe=Me}if(Re===z.length)return a(P,fe),ze&&Mi(P,Re),pe;if(fe===null){for(;Re<z.length;Re++)fe=ee(P,z[Re],W),fe!==null&&(M=d(fe,M,Re),qe===null?pe=fe:qe.sibling=fe,qe=fe);return ze&&Mi(P,Re),pe}for(fe=l(fe);Re<z.length;Re++)Me=Q(fe,P,Re,z[Re],W),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?Re:Me.key),M=d(Me,M,Re),qe===null?pe=Me:qe.sibling=Me,qe=Me);return t&&fe.forEach(function(Qs){return i(P,Qs)}),ze&&Mi(P,Re),pe}function ve(P,M,z,W){if(z==null)throw Error(r(151));for(var pe=null,qe=null,fe=M,Re=M=0,Me=null,Fe=z.next();fe!==null&&!Fe.done;Re++,Fe=z.next()){fe.index>Re?(Me=fe,fe=null):Me=fe.sibling;var Qs=G(P,fe,Fe.value,W);if(Qs===null){fe===null&&(fe=Me);break}t&&fe&&Qs.alternate===null&&i(P,fe),M=d(Qs,M,Re),qe===null?pe=Qs:qe.sibling=Qs,qe=Qs,fe=Me}if(Fe.done)return a(P,fe),ze&&Mi(P,Re),pe;if(fe===null){for(;!Fe.done;Re++,Fe=z.next())Fe=ee(P,Fe.value,W),Fe!==null&&(M=d(Fe,M,Re),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe);return ze&&Mi(P,Re),pe}for(fe=l(fe);!Fe.done;Re++,Fe=z.next())Fe=Q(fe,P,Re,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Re:Fe.key),M=d(Fe,M,Re),qe===null?pe=Fe:qe.sibling=Fe,qe=Fe);return t&&fe.forEach(function(tA){return i(P,tA)}),ze&&Mi(P,Re),pe}function We(P,M,z,W){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var pe=z.key;M!==null;){if(M.key===pe){if(pe=z.type,pe===F){if(M.tag===7){a(P,M.sibling),W=h(M,z.props.children),W.return=P,P=W;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Ur(pe)===M.type){a(P,M.sibling),W=h(M,z.props),Wo(W,z),W.return=P,P=W;break e}a(P,M);break}else i(P,M);M=M.sibling}z.type===F?(W=Mr(z.props.children,P.mode,W,z.key),W.return=P,P=W):(W=Bu(z.type,z.key,z.props,null,P.mode,W),Wo(W,z),W.return=P,P=W)}return _(P);case q:e:{for(pe=z.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(P,M.sibling),W=h(M,z.children||[]),W.return=P,P=W;break e}else{a(P,M);break}else i(P,M);M=M.sibling}W=lf(z,P.mode,W),W.return=P,P=W}return _(P);case x:return z=Ur(z),We(P,M,z,W)}if(et(z))return he(P,M,z,W);if(j(z)){if(pe=j(z),typeof pe!="function")throw Error(r(150));return z=pe.call(z),ve(P,M,z,W)}if(typeof z.then=="function")return We(P,M,Yu(z),W);if(z.$$typeof===Z)return We(P,M,Fu(P,z),W);Xu(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(P,M.sibling),W=h(M,z),W.return=P,P=W):(a(P,M),W=of(z,P.mode,W),W.return=P,P=W),_(P)):a(P,M)}return function(P,M,z,W){try{Jo=0;var pe=We(P,M,z,W);return Ma=null,pe}catch(fe){if(fe===ja||fe===Ku)throw fe;var qe=En(29,fe,null,P.mode);return qe.lanes=W,qe.return=P,qe}finally{}}}var Br=dg(!0),mg=dg(!1),Ns=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(t),Jp(t,null,a),i}return Uu(t,l,i,a),zu(t)}function Zo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,cs(t,a)}}function Sf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var bf=!1;function el(){if(bf){var t=Oa;if(t!==null)throw t}}function tl(t,i,a,l){bf=!1;var h=t.updateQueue;Ns=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=B:S.next=B,$.lastBaseUpdate=N))}if(d!==null){var ee=h.baseState;_=0,$=B=N=null,S=d;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(je&G)===G:(l&G)===G){G!==0&&G===Da&&(bf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,ve=S;G=i;var We=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){ee=he.call(We,ee,G);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,G=typeof he=="function"?he.call(We,ee,G):he,G==null)break e;ee=b({},ee,G);break e;case 2:Ns=!0}}G=S.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(B=$=Q,N=ee):$=$.next=Q,_|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(N=ee),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Ps|=_,t.lanes=_,t.memoizedState=ee}}function pg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function gg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)pg(a[t],i)}var Va=I(null),$u=I(0);function yg(t,i){t=Gi,ne($u,t),ne(Va,i),Gi=t|i.baseLanes}function Af(){ne($u,Gi),ne(Va,Va.current)}function wf(){Gi=$u.current,H(Va),H($u)}var Tn=I(null),kn=null;function js(t){var i=t.alternate;ne(mt,mt.current&1),ne(Tn,t),kn===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(kn=t)}function xf(t){ne(mt,mt.current),ne(Tn,t),kn===null&&(kn=t)}function vg(t){t.tag===22?(ne(mt,mt.current),ne(Tn,t),kn===null&&(kn=t)):Ms()}function Ms(){ne(mt,mt.current),ne(Tn,Tn.current)}function Sn(t){H(Tn),kn===t&&(kn=null),H(mt)}var mt=I(0);function Ju(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Od(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Pi=0,xe=null,$e=null,_t=null,Wu=!1,ka=!1,Hr=!1,Zu=0,nl=0,Pa=null,GS=0;function ht(){throw Error(r(321))}function Rf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function If(t,i,a,l,h,d){return Pi=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?ty:qf,Hr=!1,d=a(l,h),Hr=!1,ka&&(d=Eg(i,a,l,h)),_g(t),d}function _g(t){X.H=rl;var i=$e!==null&&$e.next!==null;if(Pi=0,_t=$e=xe=null,Wu=!1,nl=0,Pa=null,i)throw Error(r(300));t===null||Et||(t=t.dependencies,t!==null&&qu(t)&&(Et=!0))}function Eg(t,i,a,l){xe=t;var h=0;do{if(ka&&(Pa=null),nl=0,ka=!1,25<=h)throw Error(r(301));if(h+=1,_t=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=ny,d=i(a,l)}while(ka);return d}function KS(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?il(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(xe.flags|=1024),i}function Cf(){var t=Zu!==0;return Zu=0,t}function Nf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Df(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}Pi=0,_t=$e=xe=null,ka=!1,nl=Zu=0,Pa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?xe.memoizedState=_t=t:_t=_t.next=t,_t}function pt(){if($e===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=_t===null?xe.memoizedState:_t.next;if(i!==null)_t=i,$e=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},_t===null?xe.memoizedState=_t=t:_t=_t.next=t}return _t}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var i=nl;return nl+=1,Pa===null&&(Pa=[]),t=cg(Pa,t,i),i=xe,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?ty:qf),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===Z)return Ht(t)}throw Error(r(438,String(t)))}function Of(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Li(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=pt();return jf(i,$e,t)}function jf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,B=i,$=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(je&ee)===ee:(Pi&ee)===ee){var G=B.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Da&&($=!0);else if((Pi&G)===G){B=B.next,G===Da&&($=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,xe.lanes|=G,Ps|=G;ee=B.action,Hr&&a(d,ee),d=B.hasEagerState?B.eagerState:a(d,ee)}else G={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=G,_=d):N=N.next=G,xe.lanes|=ee,Ps|=ee;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=S,!_n(d,t.memoizedState)&&(Et=!0,$&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mf(t){var i=pt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Et=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Tg(t,i,a){var l=xe,h=pt(),d=ze;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!_n(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,Et=!0),h=h.queue,Pf(Ag.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},bg.bind(null,l,h,a,i),null),Ze===null)throw Error(r(349));d||(Pi&127)!==0||Sg(l,i,a)}return a}function Sg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=ec(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function bg(t,i,a,l){i.value=a,i.getSnapshot=l,wg(i)&&xg(t)}function Ag(t,i,a){return a(function(){wg(i)&&xg(t)})}function wg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function xg(t){var i=jr(t,2);i!==null&&mn(i,t,2)}function Vf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Hr){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},i}function Rg(t,i,a,l){return t.baseState=a,jf(t,$e,typeof l=="function"?l:Li)}function QS(t,i,a,l,h){if(rc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ig(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ig(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var S=a(h,l),N=X.S;N!==null&&N(_,S),Cg(t,i,S)}catch(B){kf(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(h,l),Cg(t,i,d)}catch(B){kf(t,i,B)}}function Cg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ng(t,i,l)},function(l){return kf(t,i,l)}):Ng(t,i,a)}function Ng(t,i,a){i.status="fulfilled",i.value=a,Dg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ig(t,a)))}function kf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dg(i),i=i.next;while(i!==l)}t.action=null}function Dg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Og(t,i){return i}function jg(t,i){if(ze){var a=Ze.formState;if(a!==null){e:{var l=xe;if(ze){if(nt){t:{for(var h=nt,d=Vn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Pn(h.nextSibling),l=h.data==="F!";break e}}Is(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:i},a.queue=l,a=Wg.bind(null,xe,l),l.dispatch=a,l=Vf(!1),d=Hf.bind(null,xe,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=QS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Mg(t){var i=pt();return Vg(i,$e,t)}function Vg(t,i,a){if(i=jf(t,i,Og)[0],t=nc(Li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=il(i)}catch(_){throw _===ja?Ku:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(xe.flags|=2048,La(9,{destroy:void 0},YS.bind(null,h,a),null)),[l,d,t]}function YS(t,i){t.action=i}function kg(t){var i=pt(),a=$e;if(a!==null)return Vg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=ec(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Pg(){return pt().memoizedState}function ic(t,i,a,l){var h=on();xe.flags|=t,h.memoizedState=La(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Rf(l,$e.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(xe.flags|=t,h.memoizedState=La(1|i,d,a,l))}function Lg(t,i){ic(8390656,8,t,i)}function Pf(t,i){sc(2048,8,t,i)}function XS(t){xe.flags|=4;var i=xe.updateQueue;if(i===null)i=ec(),xe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ug(t){var i=pt().memoizedState;return XS({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function zg(t,i){return sc(4,2,t,i)}function Bg(t,i){return sc(4,4,t,i)}function Hg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function qg(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,Hg.bind(null,i,t),a)}function Lf(){}function Fg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Rf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Gg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Rf(i,l[1]))return l[0];if(l=t(),Hr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function Uf(t,i,a){return a===void 0||(Pi&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Ky(),xe.lanes|=t,Ps|=t,a)}function Kg(t,i,a,l){return _n(a,i)?a:Va.current!==null?(t=Uf(t,a,l),_n(t,i)||(Et=!0),t):(Pi&42)===0||(Pi&1073741824)!==0&&(je&261930)===0?(Et=!0,t.memoizedState=a):(t=Ky(),xe.lanes|=t,Ps|=t,i)}function Qg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,Hf(t,!1,i,a);try{var N=h(),B=X.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=FS(N,l);sl(t,i,$,wn(t))}else sl(t,i,l,wn(t))}catch(ee){sl(t,i,{then:function(){},status:"rejected",reason:ee},wn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function $S(){}function zf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=Yg(t).queue;Qg(t,h,i,de,a===null?$S:function(){return Xg(t),a(l)})}function Yg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xg(t){var i=Yg(t);i.next===null&&(i=t.alternate.memoizedState),sl(t,i.next.queue,{},wn())}function Bf(){return Ht(Tl)}function $g(){return pt().memoizedState}function Jg(){return pt().memoizedState}function JS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Ds(a);var l=Os(i,t,a);l!==null&&(mn(l,i,a),Zo(l,i,a)),i={cache:gf()},t.payload=i;return}i=i.return}}function WS(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?Zg(i,a):(a=rf(t,i,a,l),a!==null&&(mn(a,t,l),ey(a,i,l)))}function Wg(t,i,a){var l=wn();sl(t,i,a,l)}function sl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))Zg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,_n(S,_))return Uu(t,i,h,0),Ze===null&&Lu(),!1}catch{}finally{}if(a=rf(t,i,h,l),a!==null)return mn(a,t,l),ey(a,i,l),!0}return!1}function Hf(t,i,a,l){if(l={lane:2,revertLane:Ed(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(r(479))}else i=rf(t,a,l,2),i!==null&&mn(i,t,2)}function rc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function Zg(t,i){ka=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ey(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,cs(t,a)}}var rl={readContext:Ht,use:tc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};rl.useEffectEvent=ht;var ty={readContext:Ht,use:tc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Lg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ic(4194308,4,Hg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ic(4194308,4,t,i)},useInsertionEffect:function(t,i){ic(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Hr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(Hr){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Vf(t);var i=t.queue,a=Wg.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,i){var a=on();return Uf(a,t,i)},useTransition:function(){var t=Vf(!1);return t=Qg.bind(null,xe,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=on();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Ze===null)throw Error(r(349));(je&127)!==0||Sg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Lg(Ag.bind(null,l,d,t),[t]),l.flags|=2048,La(9,{destroy:void 0},bg.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=Ze.identifierPrefix;if(ze){var a=ui,l=li;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=GS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Bf,useFormState:jg,useActionState:jg,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Hf.bind(null,xe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Of,useCacheRefresh:function(){return on().memoizedState=JS.bind(null,xe)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:Ht,use:tc,useCallback:Fg,useContext:Ht,useEffect:Pf,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:nc,useRef:Pg,useState:function(){return nc(Li)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=pt();return Kg(a,$e.memoizedState,t,i)},useTransition:function(){var t=nc(Li)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Bf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,i){var a=pt();return Rg(a,$e,t,i)},useMemoCache:Of,useCacheRefresh:Jg};qf.useEffectEvent=Ug;var ny={readContext:Ht,use:tc,useCallback:Fg,useContext:Ht,useEffect:Pf,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:Mf,useRef:Pg,useState:function(){return Mf(Li)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=pt();return $e===null?Uf(a,t,i):Kg(a,$e.memoizedState,t,i)},useTransition:function(){var t=Mf(Li)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Bf,useFormState:kg,useActionState:kg,useOptimistic:function(t,i){var a=pt();return $e!==null?Rg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:Jg};ny.useEffectEvent=Ug;function Ff(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Ds(l);h.payload=i,a!=null&&(h.callback=a),i=Os(t,h,l),i!==null&&(mn(i,t,l),Zo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Ds(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Os(t,h,l),i!==null&&(mn(i,t,l),Zo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Ds(a);l.tag=2,i!=null&&(l.callback=i),i=Os(t,l,a),i!==null&&(mn(i,t,a),Zo(i,t,a))}};function iy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function sy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Gf.enqueueReplaceState(i,i.state,null)}function qr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ry(t){Pu(t)}function ay(t){console.error(t)}function oy(t){Pu(t)}function ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ly(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kf(t,i,a){return a=Ds(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(t,i)},a}function uy(t){return t=Ds(t),t.tag=3,t}function cy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ly(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ly(i,a,l),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function ZS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?vc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),yd(t,l,h)),!1;case 22:return a.flags|=65536,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),yd(t,l,h)),!1}throw Error(r(435,a.tag))}return yd(t,l,h),vc(),!1}if(ze)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==hf&&(t=Error(r(422),{cause:l}),Yo(On(t,a)))):(l!==hf&&(i=Error(r(423),{cause:l}),Yo(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=Kf(t.stateNode,l,h),Sf(t,h),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:l});if(d=On(d,a),dl===null?dl=[d]:dl.push(d),ft!==4&&(ft=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kf(a.stateNode,l,t),Sf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ls===null||!Ls.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,t,a,l),Sf(a,h),!1}a=a.return}while(a!==null);return!1}var Qf=Error(r(461)),Et=!1;function qt(t,i,a,l){i.child=t===null?mg(i,null,a,l):Br(i,t.child,a,l)}function hy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Pr(i),l=If(t,i,a,_,d,h),S=Cf(),t!==null&&!Et?(Nf(t,i,h),Ui(t,i,h)):(ze&&S&&uf(i),i.flags|=1,qt(t,i,l,h),i.child)}function fy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!af(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,dy(t,i,d,l,h)):(t=Bu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!td(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(_,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function dy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===i.ref)if(Et=!1,i.pendingProps=l=d,td(t,h))(t.flags&131072)!==0&&(Et=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return Yf(t,i,a,l,h)}function my(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return py(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(i,d!==null?d.cachePool:null),d!==null?yg(i,d):Af(),vg(i);else return l=i.lanes=536870912,py(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Gu(i,d.cachePool),yg(i,d),Ms(),i.memoizedState=null):(t!==null&&Gu(i,null),Af(),Ms());return qt(t,i,h,a),i.child}function al(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function py(t,i,a,l,h){var d=vf();return d=d===null?null:{parent:vt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Gu(i,null),Af(),vg(i),t!==null&&Na(t,i,l,!0),i.childLanes=h,null}function oc(t,i){return i=uc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function gy(t,i,a){return Br(i,t.child,null,a),t=oc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function eb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=oc(i,l),i.lanes=536870912,al(null,t);if(xf(i),(t=nt)?(t=Iv(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xs!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},a=Zp(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw Is(i);return i.lanes=536870912,null}return oc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(xf(i),h)if(i.flags&256)i.flags&=-257,i=gy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Et||Na(t,i,a,!1),h=(a&t.childLanes)!==0,Et||h){if(l=Ze,l!==null&&(_=hs(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,jr(t,_),mn(l,t,_),Qf;vc(),i=gy(t,i,a)}else t=d.treeContext,nt=Pn(_.nextSibling),Bt=i,ze=!0,Rs=null,Vn=!1,t!==null&&ng(i,t),i=oc(i,l),i.flags|=4096;return i}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Yf(t,i,a,l,h){return Pr(i),a=If(t,i,a,l,void 0,h),l=Cf(),t!==null&&!Et?(Nf(t,i,h),Ui(t,i,h)):(ze&&l&&uf(i),i.flags|=1,qt(t,i,a,h),i.child)}function yy(t,i,a,l,h,d){return Pr(i),i.updateQueue=null,a=Eg(i,l,a,h),_g(t),l=Cf(),t!==null&&!Et?(Nf(t,i,d),Ui(t,i,d)):(ze&&l&&uf(i),i.flags|=1,qt(t,i,a,d),i.child)}function vy(t,i,a,l,h){if(Pr(i),i.stateNode===null){var d=xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ef(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):xa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ff(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Gf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=qr(a,S);d.props=N;var B=d.context,$=a.contextType;_=xa,typeof $=="object"&&$!==null&&(_=Ht($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&sy(i,d,l,_),Ns=!1;var G=i.memoizedState;d.state=G,tl(i,l,d,h),el(),B=i.memoizedState,S||G!==B||Ns?(typeof ee=="function"&&(Ff(i,a,ee,l),B=i.memoizedState),(N=Ns||iy(i,a,N,l,G,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Tf(t,i),_=i.memoizedProps,$=qr(a,_),d.props=$,ee=i.pendingProps,G=d.context,B=a.contextType,N=xa,typeof B=="object"&&B!==null&&(N=Ht(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==N)&&sy(i,d,l,N),Ns=!1,G=i.memoizedState,d.state=G,tl(i,l,d,h),el();var Q=i.memoizedState;_!==ee||G!==Q||Ns||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof S=="function"&&(Ff(i,a,S,l),Q=i.memoizedState),($=Ns||iy(i,a,$,l,G,Q,N)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,lc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Br(i,t.child,null,h),i.child=Br(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ui(t,i,h),t}function _y(t,i,a,l){return Vr(),i.flags|=256,qt(t,i,a,l),i.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:lg()}}function Jf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function Ey(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?js(i):Ms(),(t=nt)?(t=Iv(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xs!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},a=Zp(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw Is(i);return jd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Ms(),h=i.mode,S=uc({mode:"hidden",children:S},h),l=Mr(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=$f(a),l.childLanes=Jf(t,_,a),i.memoizedState=Xf,al(null,l)):(js(i),Wf(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(js(i),i.flags&=-257,i=Zf(t,i,a)):i.memoizedState!==null?(Ms(),i.child=t.child,i.flags|=128,i=null):(Ms(),S=l.fallback,h=i.mode,l=uc({mode:"visible",children:l.children},h),S=Mr(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Br(i,t.child,null,a),l=i.child,l.memoizedState=$f(a),l.childLanes=Jf(t,_,a),i.memoizedState=Xf,i=al(null,l));else if(js(i),jd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,Yo({value:l,source:null,stack:null}),i=Zf(t,i,a)}else if(Et||Na(t,i,a,!1),_=(a&t.childLanes)!==0,Et||_){if(_=Ze,_!==null&&(l=hs(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,jr(t,l),mn(_,t,l),Qf;Od(S)||vc(),i=Zf(t,i,a)}else Od(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,nt=Pn(S.nextSibling),Bt=i,ze=!0,Rs=null,Vn=!1,t!==null&&ng(i,t),i=Wf(i,l.children),i.flags|=4096);return i}return h?(Ms(),S=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=ji(B,S):(S=Mr(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,al(null,l),l=i.child,S=t.child.memoizedState,S===null?S=$f(a):(h=S.cachePool,h!==null?(N=vt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=lg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=Jf(t,_,a),i.memoizedState=Xf,al(t.child,l)):(js(i),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Wf(t,i){return i=uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function uc(t,i){return t=En(22,t,null,i),t.lanes=0,t}function Zf(t,i,a){return Br(i,t.child,null,a),t=Wf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ty(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),mf(t.return,i,a)}function ed(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Sy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ne(mt,_),qt(t,i,l,a),l=ze?Qo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,i);else if(t.tag===19)Ty(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ed(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ed(i,!0,a,null,d,l);break;case"together":ed(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ps|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Na(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function tb(t,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),Cs(i,vt,t.memoizedState.cache),Vr();break;case 27:case 5:Zn(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:Cs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(js(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ey(t,i,a):(js(i),t=Ui(t,i,a),t!==null?t.sibling:null);js(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Sy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(mt,mt.current),l)break;return null;case 22:return i.lanes=0,my(t,i,a,i.pendingProps);case 24:Cs(i,vt,t.memoizedState.cache)}return Ui(t,i,a)}function by(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Et=!0;else{if(!td(t,a)&&(i.flags&128)===0)return Et=!1,tb(t,i,a);Et=(t.flags&131072)!==0}else Et=!1,ze&&(i.flags&1048576)!==0&&tg(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ur(i.elementType),i.type=t,typeof t=="function")af(t)?(l=qr(t,l),i.tag=1,i=vy(null,i,t,l,a)):(i.tag=0,i=Yf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ce){i.tag=11,i=hy(null,i,t,l,a);break e}else if(h===O){i.tag=14,i=fy(null,i,t,l,a);break e}}throw i=Pe(t)||t,Error(r(306,i,""))}}return i;case 0:return Yf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=qr(l,i.pendingProps),vy(t,i,l,h,a);case 3:e:{if(Pt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Tf(t,i),tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Cs(i,vt,l),l!==d.cache&&pf(i,[vt],a,!0),el(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=_y(t,i,l,a);break e}else if(l!==h){h=On(Error(r(424)),i),Yo(h),i=_y(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Pn(t.firstChild),Bt=i,ze=!0,Rs=null,Vn=!0,a=mg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vr(),l===h){i=Ui(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return lc(t,i),t===null?(a=Mv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=wc(we.current).createElement(a),l[ut]=i,l[zt]=t,Ft(l,a,t),dt(l),i.stateNode=l):i.memoizedState=Mv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Zn(i),t===null&&ze&&(l=i.stateNode=Dv(i.type,i.pendingProps,we.current),Bt=i,Vn=!0,h=nt,Hs(i.type)?(Md=h,nt=Pn(l.firstChild)):nt=h),qt(t,i,i.pendingProps.children,a),lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=nt)&&(l=Db(l,i.type,i.pendingProps,Vn),l!==null?(i.stateNode=l,Bt=i,nt=Pn(l.firstChild),Vn=!1,h=!0):h=!1),h||Is(i)),Zn(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Cd(h,d)?l=null:_!==null&&Cd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=If(t,i,KS,null,null,a),Tl._currentValue=h),lc(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=nt)&&(a=Ob(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,Bt=i,nt=null,t=!0):t=!1),t||Is(i)),null;case 13:return Ey(t,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Br(i,null,l,a):qt(t,i,l,a),i.child;case 11:return hy(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cs(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Pr(i),h=Ht(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return fy(t,i,i.type,i.pendingProps,a);case 15:return dy(t,i,i.type,i.pendingProps,a);case 19:return Sy(t,i,a);case 31:return eb(t,i,a);case 22:return my(t,i,a,i.pendingProps);case 24:return Pr(i),l=Ht(vt),t===null?(h=vf(),h===null&&(h=Ze,d=gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ef(i),Cs(i,vt,h)):((t.lanes&a)!==0&&(Tf(t,i),tl(i,null,null,a),el()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cs(i,vt,l)):(l=d.cache,Cs(i,vt,l),l!==h.cache&&pf(i,[vt],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function zi(t){t.flags|=4}function nd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($y())t.flags|=8192;else throw zr=Qu,_f}else t.flags&=-16777217}function Ay(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uv(i))if($y())t.flags|=8192;else throw zr=Qu,_f}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ro():536870912,t.lanes|=i,Ha|=i)}function ol(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function nb(t,i,a){var l=i.pendingProps;switch(cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ki(vt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(i)?zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ff())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(zi(i),d!==null?(it(i),Ay(i,d)):(it(i),nd(i,h,null,l,a))):d?d!==t.memoizedState?(zi(i),it(i),Ay(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(i),it(i),nd(i,h,t,l,a)),null;case 27:if(Ti(i),a=we.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return it(i),null}t=ue.current,Ca(i)?ig(i):(t=Dv(h,l,a),i.stateNode=t,zi(i))}return it(i),null;case 5:if(Ti(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return it(i),null}if(d=ue.current,Ca(i))ig(i);else{var _=wc(we.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ut]=i,d[zt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zi(i)}}return it(i),nd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=we.current,Ca(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ut]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ev(t.nodeValue,a)),t||Is(i,!0)}else t=wc(t).createTextNode(l),t[ut]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ca(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ut]=i}else Vr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ut]=i}else Vr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&Ad(i.stateNode.containerInfo),it(i),null;case 10:return ki(i.type),it(i),null;case 19:if(H(mt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ol(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ju(t),d!==null){for(i.flags|=128,ol(l,!1),t=d.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Wp(a,t),a=a.sibling;return ne(mt,mt.current&1|2),ze&&Mi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Lt()>pc&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304)}else{if(!h)if(t=Ju(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return it(i),null}else 2*Lt()-l.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Lt(),t.sibling=null,a=mt.current,ne(mt,h?a&1|2:a&1),ze&&Mi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return Sn(i),wf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&H(Lr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(vt),it(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function ib(t,i){switch(cf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ki(vt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ti(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(r(340));Vr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Vr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return H(mt),null;case 4:return at(),null;case 10:return ki(i.type),null;case 22:case 23:return Sn(i),wf(),t!==null&&H(Lr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ki(vt),null;case 25:return null;default:return null}}function wy(t,i){switch(cf(i),i.tag){case 3:ki(vt),at();break;case 26:case 27:case 5:Ti(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:H(mt);break;case 10:ki(i.type);break;case 22:case 23:Sn(i),wf(),t!==null&&H(Lr);break;case 24:ki(vt)}}function ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Xe(i,i.return,S)}}function Vs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,B=S;try{B()}catch($){Xe(h,N,$)}}}l=l.next}while(l!==d)}}catch($){Xe(i,i.return,$)}}function xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{gg(i,a)}catch(l){Xe(t,t.return,l)}}}function Ry(t,i,a){a.props=qr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function Iy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function id(t,i,a){try{var l=t.stateNode;wb(l,t.type,a,i),l[zt]=i}catch(h){Xe(t,t.return,h)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hs(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Dt));else if(l!==4&&(l===27&&Hs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(rd(t,i,a),t=t.sibling;t!==null;)rd(t,i,a),t=t.sibling}function hc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hc(t,i,a),t=t.sibling;t!==null;)hc(t,i,a),t=t.sibling}function Ny(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[ut]=t,i[zt]=a}catch(d){Xe(t,t.return,d)}}var Bi=!1,Tt=!1,ad=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function sb(t,i){if(t=t.containerInfo,Rd=Oc,t=qp(t),Wh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,B=0,$=0,ee=t,G=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)G=ee,ee=Q;for(;;){if(ee===t)break t;if(G===a&&++B===h&&(S=_),G===d&&++$===l&&(N=_),(Q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:t,selectionRange:a},Oc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=qr(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Xe(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Dd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function Oy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),l&4&&ll(5,a);break;case 1:if(qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=qr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&xy(a),l&512&&ul(a,a.return);break;case 3:if(qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gg(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&Ny(a);case 26:case 5:qi(t,a),i===null&&l&4&&Iy(a),l&512&&ul(a,a.return);break;case 12:qi(t,a);break;case 31:qi(t,a),l&4&&Vy(t,a);break;case 13:qi(t,a),l&4&&ky(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=db.bind(null,a),jb(t,a))));break;case 22:if(l=a.memoizedState!==null||Bi,!l){i=i!==null&&i.memoizedState!==null||Tt,h=Bi;var d=Tt;Bi=l,(Tt=i)&&!d?Fi(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),Bi=h,Tt=d}break;case 30:break;default:qi(t,a)}}function jy(t){var i=t.alternate;i!==null&&(t.alternate=null,jy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Tr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,cn=!1;function Hi(t,i,a){for(a=a.child;a!==null;)My(t,i,a),a=a.sibling}function My(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(as,a)}catch{}switch(a.tag){case 26:Tt||ci(a,i),Hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Tt||ci(a,i);var l=rt,h=cn;Hs(a.type)&&(rt=a.stateNode,cn=!1),Hi(t,i,a),vl(a.stateNode),rt=l,cn=h;break;case 5:Tt||ci(a,i);case 6:if(l=rt,h=cn,rt=null,Hi(t,i,a),rt=l,cn=h,rt!==null)if(cn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:rt!==null&&(cn?(t=rt,xv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$a(t)):xv(rt,a.stateNode));break;case 4:l=rt,h=cn,rt=a.stateNode.containerInfo,cn=!0,Hi(t,i,a),rt=l,cn=h;break;case 0:case 11:case 14:case 15:Vs(2,a,i),Tt||Vs(4,a,i),Hi(t,i,a);break;case 1:Tt||(ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ry(a,i,l)),Hi(t,i,a);break;case 21:Hi(t,i,a);break;case 22:Tt=(l=Tt)||a.memoizedState!==null,Hi(t,i,a),Tt=l;break;default:Hi(t,i,a)}}function Vy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(a){Xe(i,i.return,a)}}}function ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(a){Xe(i,i.return,a)}}function rb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Dy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Dy),i;default:throw Error(r(435,t.tag))}}function fc(t,i){var a=rb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=mb.bind(null,t,l);l.then(h,h)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Hs(S.type)){rt=S.stateNode,cn=!1;break e}break;case 5:rt=S.stateNode,cn=!1;break e;case 3:case 4:rt=S.stateNode.containerInfo,cn=!0;break e}S=S.return}if(rt===null)throw Error(r(160));My(d,_,h),rt=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Py(i,t),i=i.sibling}var Yn=null;function Py(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(Vs(3,t,t.return),ll(3,t),Vs(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(Tt||a===null||ci(a,a.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Yn;if(hn(i,t),fn(t),l&512&&(Tt||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[wi]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[ut]=t,dt(d),l=d;break e;case"link":var _=Pv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Pv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[ut]=t,dt(d),l=d}t.stateNode=l}else Lv(h,t.type,t.stateNode);else t.stateNode=kv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Lv(h,t.type,t.stateNode):kv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&id(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(Tt||a===null||ci(a,a.return)),a!==null&&l&4&&id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(Tt||a===null||ci(a,a.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(he){Xe(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,id(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ad=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Xe(t,t.return,he)}}break;case 3:if(Ic=null,h=Yn,Yn=xc(i.containerInfo),hn(i,t),Yn=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(he){Xe(t,t.return,he)}ad&&(ad=!1,Ly(t));break;case 4:l=Yn,Yn=xc(t.stateNode.containerInfo),hn(i,t),fn(t),Yn=l;break;case 12:hn(i,t),fn(t);break;case 31:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=Lt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Bi,$=Tt;if(Bi=B||h,Tt=$||N,hn(i,t),Tt=$,Bi=B,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Bi||Tt||Fr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){Xe(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){Xe(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?Rv(Q,!0):Rv(N.stateNode,!1)}catch(he){Xe(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fc(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fc(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Cy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=sd(t);hc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Nn(_,""),a.flags&=-33);var S=sd(t);hc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=sd(t);rd(t,B,N);break;default:throw Error(r(161))}}catch($){Xe(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ly(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Oy(t,i.alternate,i),i=i.sibling}function Fr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vs(4,i,i.return),Fr(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ry(i,i.return,a),Fr(i);break;case 27:vl(i.stateNode);case 26:case 5:ci(i,i.return),Fr(i);break;case 22:i.memoizedState===null&&Fr(i);break;case 30:Fr(i);break;default:Fr(i)}t=t.sibling}}function Fi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Fi(h,d,a),ll(4,d);break;case 1:if(Fi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)pg(N[h],S)}catch(B){Xe(l,l.return,B)}}a&&_&64&&xy(d),ul(d,d.return);break;case 27:Ny(d);case 26:case 5:Fi(h,d,a),a&&l===null&&_&4&&Iy(d),ul(d,d.return);break;case 12:Fi(h,d,a);break;case 31:Fi(h,d,a),a&&_&4&&Vy(h,d);break;case 13:Fi(h,d,a),a&&_&4&&ky(h,d);break;case 22:d.memoizedState===null&&Fi(h,d,a),ul(d,d.return);break;case 30:break;default:Fi(h,d,a)}i=i.sibling}}function od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function ld(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t))}function Xn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uy(t,i,a,l),i=i.sibling}function Uy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(t,i,a,l),h&2048&&ll(9,i);break;case 1:Xn(t,i,a,l);break;case 3:Xn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){Xn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(i,i.return,N)}}else Xn(t,i,a,l);break;case 31:Xn(t,i,a,l);break;case 13:Xn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Xn(t,i,a,l):cl(t,i):d._visibility&2?Xn(t,i,a,l):(d._visibility|=2,Ua(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&od(_,i);break;case 24:Xn(t,i,a,l),h&2048&&ld(i.alternate,i);break;default:Xn(t,i,a,l)}}function Ua(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(d,_,S,N,h),ll(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ua(d,_,S,N,h):cl(d,_):($._visibility|=2,Ua(d,_,S,N,h)),h&&B&2048&&od(_.alternate,_);break;case 24:Ua(d,_,S,N,h),h&&B&2048&&ld(_.alternate,_);break;default:Ua(d,_,S,N,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&od(l.alternate,l);break;case 24:cl(a,l),h&2048&&ld(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function za(t,i,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)zy(t,i,a),t=t.sibling}function zy(t,i,a){switch(t.tag){case 26:za(t,i,a),t.flags&hl&&t.memoizedState!==null&&Gb(a,Yn,t.memoizedState,t.memoizedProps);break;case 5:za(t,i,a);break;case 3:case 4:var l=Yn;Yn=xc(t.stateNode.containerInfo),za(t,i,a),Yn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=hl,hl=16777216,za(t,i,a),hl=l):za(t,i,a));break;default:za(t,i,a)}}function By(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,qy(l,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,dc(t)):fl(t);break;default:fl(t)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,qy(l,t)}By(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vs(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}t=t.sibling}}function qy(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Vs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(jy(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var ab={getCacheForType:function(t){var i=Ht(vt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(vt).controller.signal}},ob=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Ze=null,De=null,je=0,Ye=0,bn=null,ks=!1,Ba=!1,ud=!1,Gi=0,ft=0,Ps=0,Gr=0,cd=0,An=0,Ha=0,dl=null,dn=null,hd=!1,mc=0,Fy=0,pc=1/0,gc=null,Ls=null,Rt=0,Us=null,qa=null,Ki=0,fd=0,dd=null,Gy=null,ml=0,md=null;function wn(){return(Ge&2)!==0&&je!==0?je&-je:X.T!==null?Ed():Ai()}function Ky(){if(An===0)if((je&536870912)===0||ze){var t=ei;ei<<=1,(ei&3932160)===0&&(ei=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function mn(t,i,a){(t===Ze&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),zs(t,je,An,!1)),us(t,a),((Ge&2)===0||t!==Ze)&&(t===Ze&&((Ge&2)===0&&(Gr|=a),ft===4&&zs(t,je,An,!1)),hi(t))}function Qy(t,i,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ls(t,i),h=l?cb(t,i):gd(t,i,!0),d=l;do{if(h===0){Ba&&!l&&zs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!lb(a)){h=gd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=dl;var N=S.current.memoizedState.isDehydrated;if(N&&(Fa(S,_).flags|=256),_=gd(S,_,!1),_!==2){if(ud&&!N){S.errorRecoveryDisabledLanes|=d,Gr|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),zs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:zs(l,i,An,!ks);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=mc+300-Lt(),10<h)){if(zs(l,i,An,!ks),In(l,0,!0)!==0)break e;Ki=i,l.timeoutHandle=Av(Yy.bind(null,l,a,dn,gc,hd,i,An,Gr,Ha,ks,d,"Throttled",-0,0),h);break e}Yy(l,a,dn,gc,hd,i,An,Gr,Ha,ks,d,null,-0,0)}}break}while(!0);hi(t)}function Yy(t,i,a,l,h,d,_,S,N,B,$,ee,G,Q){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dt},zy(i,d,ee);var he=(d&62914560)===d?mc-Lt():(d&4194048)===d?Fy-Lt():0;if(he=Kb(ee,he),he!==null){Ki=d,t.cancelPendingCommit=he(nv.bind(null,t,i,d,a,l,h,_,S,N,$,ee,null,G,Q)),zs(t,d,_,!B);return}}nv(t,i,d,a,l,h,_,S,N)}function lb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zs(t,i,a,l){i&=~cd,i&=~Gr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Io(t,a,i)}function yc(){return(Ge&6)===0?(pl(0),!1):!0}function pd(){if(De!==null){if(Ye===0)var t=De.return;else t=De,Vi=kr=null,Df(t),Ma=null,Jo=0,t=De;for(;t!==null;)wy(t.alternate,t),t=t.return;De=null}}function Fa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ib(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ki=0,pd(),Ze=t,De=a=ji(t.current,null),je=i,Ye=0,bn=null,ks=!1,Ba=ls(t,i),ud=!1,Ha=An=cd=Gr=Ps=ft=0,dn=dl=null,hd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-tn(l),d=1<<h;i|=t[h],l&=~d}return Gi=i,Lu(),a}function Xy(t,i){xe=null,X.H=rl,i===ja||i===Ku?(i=hg(),Ye=3):i===_f?(i=hg(),Ye=4):Ye=i===Qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,De===null&&(ft=1,ac(t,On(i,t.current)))}function $y(){var t=Tn.current;return t===null?!0:(je&4194048)===je?kn===null:(je&62914560)===je||(je&536870912)!==0?t===kn:!1}function Jy(){var t=X.H;return X.H=rl,t===null?rl:t}function Wy(){var t=X.A;return X.A=ab,t}function vc(){ft=4,ks||(je&4194048)!==je&&Tn.current!==null||(Ba=!0),(Ps&134217727)===0&&(Gr&134217727)===0||Ze===null||zs(Ze,je,An,!1)}function gd(t,i,a){var l=Ge;Ge|=2;var h=Jy(),d=Wy();(Ze!==t||je!==i)&&(gc=null,Fa(t,i)),i=!1;var _=ft;e:do try{if(Ye!==0&&De!==null){var S=De,N=bn;switch(Ye){case 8:pd(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var B=Ye;if(Ye=0,bn=null,Ga(t,S,N,B),a&&Ba){_=0;break e}break;default:B=Ye,Ye=0,bn=null,Ga(t,S,N,B)}}ub(),_=ft;break}catch($){Xy(t,$)}while(!0);return i&&t.shellSuspendCounter++,Vi=kr=null,Ge=l,X.H=h,X.A=d,De===null&&(Ze=null,je=0,Lu()),_}function ub(){for(;De!==null;)Zy(De)}function cb(t,i){var a=Ge;Ge|=2;var l=Jy(),h=Wy();Ze!==t||je!==i?(gc=null,pc=Lt()+500,Fa(t,i)):Ba=ls(t,i);e:do try{if(Ye!==0&&De!==null){i=De;var d=bn;t:switch(Ye){case 1:Ye=0,bn=null,Ga(t,i,d,1);break;case 2:case 9:if(ug(d)){Ye=0,bn=null,ev(i);break}i=function(){Ye!==2&&Ye!==9||Ze!==t||(Ye=7),hi(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:ug(d)?(Ye=0,bn=null,ev(i)):(Ye=0,bn=null,Ga(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var S=De;if(_?Uv(_):S.stateNode.complete){Ye=0,bn=null;var N=S.sibling;if(N!==null)De=N;else{var B=S.return;B!==null?(De=B,_c(B)):De=null}break t}}Ye=0,bn=null,Ga(t,i,d,5);break;case 6:Ye=0,bn=null,Ga(t,i,d,6);break;case 8:pd(),ft=6;break e;default:throw Error(r(462))}}hb();break}catch($){Xy(t,$)}while(!0);return Vi=kr=null,X.H=l,X.A=h,Ge=a,De!==null?0:(Ze=null,je=0,Lu(),ft)}function hb(){for(;De!==null&&!Bh();)Zy(De)}function Zy(t){var i=by(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,i===null?_c(t):De=i}function ev(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=yy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Df(i);default:wy(a,i),i=De=Wp(i,Gi),i=by(a,i,Gi)}t.memoizedProps=t.pendingProps,i===null?_c(t):De=i}function Ga(t,i,a,l){Vi=kr=null,Df(i),Ma=null,Jo=0;var h=i.return;try{if(ZS(t,h,i,a,je)){ft=1,ac(t,On(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ft=1,ac(t,On(a,t.current)),De=null;return}i.flags&32768?(ze||l===1?t=!0:Ba||(je&536870912)!==0?t=!1:(ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),tv(i,t)):_c(i)}function _c(t){var i=t;do{if((i.flags&32768)!==0){tv(i,ks);return}t=i.return;var a=nb(i.alternate,i,Gi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function tv(t,i){do{var a=ib(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function nv(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Ec();while(Rt!==0);if((Ge&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=sf,Ut(t,a,d,_,S,N),t===Ze&&(De=Ze=null,je=0),qa=i,Us=t,Ki=a,fd=d,dd=h,Gy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pb(Si,function(){return ov(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ae.p,ae.p=2,_=Ge,Ge|=4;try{sb(t,i,a)}finally{Ge=_,ae.p=h,X.T=l}}Rt=1,iv(),sv(),rv()}}function iv(){if(Rt===1){Rt=0;var t=Us,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Py(i,t);var d=Id,_=qp(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Hp(S.ownerDocument.documentElement,S)){if(N!==null&&Wh(S)){var B=N.start,$=N.end;if($===void 0&&($=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min($,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Q=G.getSelection(),he=S.textContent.length,ve=Math.min(N.start,he),We=N.end===void 0?ve:Math.min(N.end,he);!Q.extend&&ve>We&&(_=We,We=ve,ve=_);var P=Bp(S,ve),M=Bp(S,We);if(P&&M&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(P.node,P.offset),Q.removeAllRanges(),ve>We?(Q.addRange(z),Q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Q.addRange(z))}}}}for(ee=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var W=ee[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Oc=!!Rd,Id=Rd=null}finally{Ge=h,ae.p=l,X.T=a}}t.current=i,Rt=2}}function sv(){if(Rt===2){Rt=0;var t=Us,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Oy(t,i.alternate,i)}finally{Ge=h,ae.p=l,X.T=a}}Rt=3}}function rv(){if(Rt===4||Rt===3){Rt=0,Ao();var t=Us,i=qa,a=Ki,l=Gy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Rt=5:(Rt=0,qa=Us=null,av(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),No(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(as,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=ae.p,ae.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=i,ae.p=h}}(Ki&3)!==0&&Ec(),hi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===md?ml++:(ml=0,md=t):ml=0,pl(0)}}function av(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Xo(i)))}function Ec(){return iv(),sv(),rv(),ov()}function ov(){if(Rt!==5)return!1;var t=Us,i=fd;fd=0;var a=No(Ki),l=X.T,h=ae.p;try{ae.p=32>a?32:a,X.T=null,a=dd,dd=null;var d=Us,_=Ki;if(Rt=0,qa=Us=null,Ki=0,(Ge&6)!==0)throw Error(r(331));var S=Ge;if(Ge|=4,Hy(d.current),Uy(d,d.current,_,a),Ge=S,pl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(as,d)}catch{}return!0}finally{ae.p=h,X.T=l,av(t,i)}}function lv(t,i,a){i=On(a,i),i=Kf(t.stateNode,i,2),t=Os(t,i,2),t!==null&&(us(t,2),hi(t))}function Xe(t,i,a){if(t.tag===3)lv(t,t,a);else for(;i!==null;){if(i.tag===3){lv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ls===null||!Ls.has(l))){t=On(a,t),a=uy(2),l=Os(i,a,2),l!==null&&(cy(a,l,i,t),us(l,2),hi(l));break}}i=i.return}}function yd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ob;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ud=!0,h.add(a),t=fb.bind(null,t,i,a),i.then(t,t))}function fb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(je&a)===a&&(ft===4||ft===3&&(je&62914560)===je&&300>Lt()-mc?(Ge&2)===0&&Fa(t,0):cd|=a,Ha===je&&(Ha=0)),hi(t)}function uv(t,i){i===0&&(i=Ro()),t=jr(t,i),t!==null&&(us(t,i),hi(t))}function db(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),uv(t,a)}function mb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),uv(t,a)}function pb(t,i){return vr(t,i)}var Tc=null,Ka=null,vd=!1,Sc=!1,_d=!1,Bs=0;function hi(t){t!==Ka&&t.next===null&&(Ka===null?Tc=Ka=t:Ka=Ka.next=t),Sc=!0,vd||(vd=!0,yb())}function pl(t,i){if(!_d&&Sc){_d=!0;do for(var a=!1,l=Tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,dv(l,d))}else d=je,d=In(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ls(l,d)||(a=!0,dv(l,d));l=l.next}while(a);_d=!1}}function gb(){cv()}function cv(){Sc=vd=!1;var t=0;Bs!==0&&Rb()&&(t=Bs);for(var i=Lt(),a=null,l=Tc;l!==null;){var h=l.next,d=hv(l,i);d===0?(l.next=null,a===null?Tc=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}Rt!==0&&Rt!==5||pl(t),Bs!==0&&(Bs=0)}function hv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-tn(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=fa(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=Ze,a=je,a=In(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ls(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ha(l),No(a)){case 2:case 8:a=Nt;break;case 32:a=Si;break;case 268435456:a=wo;break;default:a=Si}return l=fv.bind(null,t),a=vr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ha(l),t.callbackPriority=2,t.callbackNode=null,2}function fv(t,i){if(Rt!==0&&Rt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var l=je;return l=In(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qy(t,l,i),hv(t,Lt()),t.callbackNode!=null&&t.callbackNode===a?fv.bind(null,t):null)}function dv(t,i){if(Ec())return null;Qy(t,i,!0)}function yb(){Cb(function(){(Ge&6)!==0?vr(xt,gb):cv()})}function Ed(){if(Bs===0){var t=Da;t===0&&(t=Er,Er<<=1,(Er&261888)===0&&(Er=256)),Bs=t}return Bs}function mv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ri(""+t)}function pv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function vb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=mv((h[zt]||null).action),_=l.submitter;_&&(i=(i=_[zt]||null)?mv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new xr("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var N=_?pv(h,_):new FormData(h);zf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?pv(h,_):new FormData(h),zf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Td=0;Td<nf.length;Td++){var Sd=nf[Td],_b=Sd.toLowerCase(),Eb=Sd[0].toUpperCase()+Sd.slice(1);Qn(_b,"on"+Eb)}Qn(Kp,"onAnimationEnd"),Qn(Qp,"onAnimationIteration"),Qn(Yp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(kS,"onTransitionRun"),Qn(PS,"onTransitionStart"),Qn(LS,"onTransitionCancel"),Qn(Xp,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function gv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch($){Pu($)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,B=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch($){Pu($)}h.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[fs];a===void 0&&(a=i[fs]=new Set);var l=t+"__bubble";a.has(l)||(yv(i,t,2,!1),a.add(l))}function bd(t,i,a){var l=0;i&&(l|=4),yv(a,t,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[bc]){t[bc]=!0,da.forEach(function(a){a!=="selectionchange"&&(Tb.has(a)||bd(a,!1,t),bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,bd("selectionchange",!1,i))}}function yv(t,i,a,l){switch(Kv(i)){case 2:var h=Xb;break;case 8:h=$b;break;default:h=Ud}a=h.bind(null,i,a,t),h=void 0,!Lo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function wd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=xi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Tu(function(){var B=d,$=va(a),ee=[];e:{var G=$p.get(t);if(G!==void 0){var Q=xr,he=t;switch(t){case"keypress":if(wr(a)===0)break e;case"keydown":case"keyup":Q=Nu;break;case"focusin":he="focus",Q=Ss;break;case"focusout":he="blur",Q=Ss;break;case"beforeblur":case"afterblur":Q=Ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ou;break;case Kp:case Qp:case Yp:Q=Ta;break;case Xp:Q=Sa;break;case"scroll":case"scrollend":Q=Su;break;case"wheel":Q=Mu;break;case"copy":case"cut":case"paste":Q=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=qo;break;case"toggle":case"beforetoggle":Q=As}var ve=(i&4)!==0,We=!ve&&(t==="scroll"||t==="scrollend"),P=ve?G!==null?G+"Capture":null:G;ve=[];for(var M=B,z;M!==null;){var W=M;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||P===null||(W=ln(M,P),W!=null&&ve.push(yl(M,W,z))),We)break;M=M.return}0<ve.length&&(G=new Q(G,he,null,a,$),ee.push({event:G,listeners:ve}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==ya&&(he=a.relatedTarget||a.fromElement)&&(xi(he)||he[ni]))break e;if((Q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=B,he=he?xi(he):null,he!==null&&(We=u(he),ve=he.tag,he!==We||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(Q=null,he=B),Q!==he)){if(ve=bu,W="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=qo,W="onPointerLeave",P="onPointerEnter",M="pointer"),We=Q==null?G:Sr(Q),z=he==null?G:Sr(he),G=new ve(W,M+"leave",Q,a,$),G.target=We,G.relatedTarget=z,W=null,xi($)===B&&(ve=new ve(P,M+"enter",he,a,$),ve.target=z,ve.relatedTarget=We,W=ve),We=W,Q&&he)t:{for(ve=Sb,P=Q,M=he,z=0,W=P;W;W=ve(W))z++;W=0;for(var pe=M;pe;pe=ve(pe))W++;for(;0<z-W;)P=ve(P),z--;for(;0<W-z;)M=ve(M),W--;for(;z--;){if(P===M||M!==null&&P===M.alternate){ve=P;break t}P=ve(P),M=ve(M)}ve=null}else ve=null;Q!==null&&vv(ee,G,Q,ve,!1),he!==null&&We!==null&&vv(ee,We,he,ve,!0)}}e:{if(G=B?Sr(B):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var qe=Vp;else if(un(G))if(kp)qe=jS;else{qe=DS;var fe=NS}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&ko(B.elementType)&&(qe=Vp):qe=OS;if(qe&&(qe=qe(t,B))){Nr(ee,qe,a,$);break e}fe&&fe(t,G,B),t==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&ga(G,"number",G.value)}switch(fe=B?Sr(B):window,t){case"focusin":(un(fe)||fe.contentEditable==="true")&&(ba=fe,Zh=B,Ko=null);break;case"focusout":Ko=Zh=ba=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Fp(ee,a,$);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Fp(ee,a,$)}var Re;if(y)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ce?Ke(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(L&&a.locale!=="ko"&&(Ce||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ce&&(Re=vs()):(vn=$,_a="value"in vn?vn.value:vn.textContent,Ce=!0)),fe=Ac(B,Me),0<fe.length&&(Me=new zo(Me,t,null,a,$),ee.push({event:Me,listeners:fe}),Re?Me.data=Re:(Re=yt(a),Re!==null&&(Me.data=Re)))),(Re=A?Ot(t,a):jt(t,a))&&(Me=Ac(B,"onBeforeInput"),0<Me.length&&(fe=new zo("onBeforeInput","beforeinput",null,a,$),ee.push({event:fe,listeners:Me}),fe.data=Re)),vb(ee,t,B,a,$)}gv(ee,i)})}function yl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ln(t,a),h!=null&&l.unshift(yl(t,h,d)),h=ln(t,i),h!=null&&l.push(yl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Sb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||B===null||(N=B,h?(B=ln(a,d),B!=null&&_.unshift(yl(a,B,N))):h||(B=ln(a,d),B!=null&&_.push(yl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var bb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function _v(t){return(typeof t=="string"?t:""+t).replace(bb,`
`).replace(Ab,"")}function Ev(t,i){return i=_v(i),_v(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":ps(t,"class",l);break;case"tabIndex":ps(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ps(t,a,l);break;case"style":_u(t,l,d);break;case"data":if(i!=="object"){ps(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Dt);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ri(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ms(t,"popover",l);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ms(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qh.get(a)||a,ms(t,a,l))}}function xd(t,i,a,l,h,d){switch(a){case"style":_u(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ds.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ms(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var S=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:Je(t,i,l,$,a,null)}}br(t,d,S,N,B,_,h,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Je(t,i,_,S,a,null)}ys(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,N,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)Oe(gl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(t,i,B,l,a,null)}return;default:if(ko(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&xd(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function wb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,B=null,$=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Q)||Je(t,i,Q,null,l,ee)}}for(var G in l){var Q=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Q!=null||ee!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==ee&&Je(t,i,G,Q,l,ee)}}gs(t,_,S,N,B,$,d,h);return;case"select":Q=_=S=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,h,d,l,N)}i=S,a=_,l=Q,G!=null?He(t,!!a,G,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Ar(t,G,Q);return;case"option":for(var he in a)if(G=a[he],a.hasOwnProperty(he)&&G!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Je(t,i,he,null,l,G)}for(N in l)if(G=l[N],Q=a[N],l.hasOwnProperty(N)&&G!==Q&&(G!=null||Q!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Je(t,i,N,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&Je(t,i,ve,null,l,G);for(B in l)if(G=l[B],Q=a[B],l.hasOwnProperty(B)&&G!==Q&&(G!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Je(t,i,B,G,l,Q)}return;default:if(ko(i)){for(var We in a)G=a[We],a.hasOwnProperty(We)&&G!==void 0&&!l.hasOwnProperty(We)&&xd(t,i,We,void 0,l,G);for($ in l)G=l[$],Q=a[$],!l.hasOwnProperty($)||G===Q||G===void 0&&Q===void 0||xd(t,i,$,G,l,Q);return}}for(var P in a)G=a[P],a.hasOwnProperty(P)&&G!=null&&!l.hasOwnProperty(P)&&Je(t,i,P,null,l,G);for(ee in l)G=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||G===Q||G==null&&Q==null||Je(t,i,ee,G,l,Q)}function Tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&Tv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>S)break;var $=N.transferSize,ee=N.initiatorType;$&&Tv(ee)&&(N=N.responseEnd,_+=$*(N<S?1:(S-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rd=null,Id=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function Sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Cd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function Rb(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var Av=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(Nb)}:Av;function Nb(t){setTimeout(function(){throw t})}function Hs(t){return t==="head"}function xv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[wi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&vl(t.ownerDocument.body);a=h}while(a);$a(i)}function Rv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Dd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dd(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Db(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function Ob(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function Iv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Od(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Md=null;function Cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Nv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Dv(t,i,a){switch(i=wc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Tr(t)}var Ln=new Map,Ov=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=ae.d;ae.d={f:Mb,r:Vb,D:kb,C:Pb,L:Lb,m:Ub,X:Bb,S:zb,M:Hb};function Mb(){var t=Qi.f(),i=yc();return t||i}function Vb(t){var i=Ri(t);i!==null&&i.tag===5&&i.type==="form"?Xg(i):Qi.r(t)}var Qa=typeof document>"u"?null:document;function jv(t,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ov.has(h)||(Ov.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),dt(i),l.head.appendChild(i)))}}function kb(t){Qi.D(t),jv("dns-prefetch",t,null)}function Pb(t,i){Qi.C(t,i),jv("preconnect",t,i)}function Lb(t,i,a){Qi.L(t,i,a);var l=Qa;if(l&&t&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ct(a.imageSizes)+'"]')):h+='[href="'+ct(t)+'"]';var d=h;switch(i){case"style":d=Ya(t);break;case"script":d=Xa(t)}Ln.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(_l(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),Ft(i,"link",t),dt(i),l.head.appendChild(i)))}}function Ub(t,i){Qi.m(t,i);var a=Qa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(l)+'"][href="'+ct(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Ln.has(d)&&(t=b({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),Ft(l,"link",t),dt(l),a.head.appendChild(l)}}}function zb(t,i,a){Qi.S(t,i,a);var l=Qa;if(l&&t){var h=Gn(l).hoistableStyles,d=Ya(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(_l(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Vd(t,a);var N=_=l.createElement("link");dt(N),Ft(N,"link",t),N._p=new Promise(function(B,$){N.onload=B,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Rc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Bb(t,i){Qi.X(t,i);var a=Qa;if(a&&t){var l=Gn(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=b({src:t,async:!0},i),(i=Ln.get(h))&&kd(t,i),d=a.createElement("script"),dt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Hb(t,i){Qi.M(t,i);var a=Qa;if(a&&t){var l=Gn(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&kd(t,i),d=a.createElement("script"),dt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Mv(t,i,a,l){var h=(h=we.current)?xc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=Gn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=Gn(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(_l(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||qb(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=Gn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ya(t){return'href="'+ct(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function Vv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function qb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),dt(i),t.head.appendChild(i))}function Xa(t){return'[src="'+ct(t)+'"]'}function El(t){return"script[async]"+t}function kv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ct(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),Ft(l,"style",h),Rc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(_l(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=Vv(a),(h=Ln.get(h))&&Vd(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Ft(d,"link",l),i.state.loading|=4,Rc(d,a.precedence,t),i.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(El(d)))?(i.instance=h,dt(h),h):(l=a,(h=Ln.get(d))&&(l=b({},a),kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,a.precedence,t));return i.instance}function Rc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ic=null;function Pv(t,i,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[wi]||d[ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Lv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Fb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Gb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(l.href),d=i.querySelector(_l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Cc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,dt(d);return}d=i.ownerDocument||i,l=Vv(l),(h=Ln.get(h))&&Vd(l,h),d=d.createElement("link"),dt(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Pd=0;function Kb(t,i){return t.stylesheets&&t.count===0&&Dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Pd===0&&(Pd=62500*xb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Pd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Dc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,i.forEach(Qb,t),Nc=null,Cc.call(t))}function Qb(t,i){if(!(i.state.loading&4)){var a=Nc.get(t);if(a)var l=a.get(null);else{a=new Map,Nc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Tl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Yb(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function zv(t,i,a,l,h,d,_,S,N,B,$,ee){return t=new Yb(t,i,a,_,N,B,$,ee,S),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ef(d),t}function Bv(t){return t?(t=xa,t):xa}function Hv(t,i,a,l,h,d){h=Bv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ds(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Os(t,l,i),a!==null&&(mn(a,t,i),Zo(a,t,i))}function qv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ld(t,i){qv(t,i),(t=t.alternate)&&qv(t,i)}function Fv(t){if(t.tag===13||t.tag===31){var i=jr(t,67108864);i!==null&&mn(i,t,67108864),Ld(t,67108864)}}function Gv(t){if(t.tag===13||t.tag===31){var i=wn();i=Co(i);var a=jr(t,i);a!==null&&mn(a,t,i),Ld(t,i)}}var Oc=!0;function Xb(t,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=2,Ud(t,i,a,l)}finally{ae.p=d,X.T=h}}function $b(t,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=8,Ud(t,i,a,l)}finally{ae.p=d,X.T=h}}function Ud(t,i,a,l){if(Oc){var h=zd(l);if(h===null)wd(t,i,l,jc,a),Qv(t,l);else if(Wb(h,t,i,a,l))l.stopPropagation();else if(Qv(t,l),i&4&&-1<Jb.indexOf(t)){for(;h!==null;){var d=Ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Fn(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-tn(_);S.entanglements[1]|=N,_&=~N}hi(d),(Ge&6)===0&&(pc=Lt()+500,pl(0))}}break;case 31:case 13:S=jr(d,2),S!==null&&mn(S,d,2),yc(),Ld(d,2)}if(d=zd(l),d===null&&wd(t,i,l,jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else wd(t,i,l,null,a)}}function zd(t){return t=va(t),Bd(t)}var jc=null;function Bd(t){if(jc=null,t=xi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return jc=t,null}function Kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fu()){case xt:return 2;case Nt:return 8;case Si:case du:return 32;case wo:return 268435456;default:return 32}default:return 32}}var Hd=!1,qs=null,Fs=null,Gs=null,Sl=new Map,bl=new Map,Ks=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qv(t,i){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function Al(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ri(i),i!==null&&Fv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Wb(t,i,a,l,h){switch(i){case"focusin":return qs=Al(qs,t,i,a,l,h),!0;case"dragenter":return Fs=Al(Fs,t,i,a,l,h),!0;case"mouseover":return Gs=Al(Gs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Al(Sl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,Al(bl.get(d)||null,t,i,a,l,h)),!0}return!1}function Yv(t){var i=xi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,pu(t.priority,function(){Gv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,pu(t.priority,function(){Gv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ya=l,a.target.dispatchEvent(l),ya=null}else return i=Ri(a),i!==null&&Fv(i),t.blockedOn=a,!1;i.shift()}return!0}function Xv(t,i,a){Mc(t)&&a.delete(i)}function Zb(){Hd=!1,qs!==null&&Mc(qs)&&(qs=null),Fs!==null&&Mc(Fs)&&(Fs=null),Gs!==null&&Mc(Gs)&&(Gs=null),Sl.forEach(Xv),bl.forEach(Xv)}function Vc(t,i){t.blockedOn===i&&(t.blockedOn=null,Hd||(Hd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Zb)))}var kc=null;function $v(t){kc!==t&&(kc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Bd(l||a)===null)continue;break}var d=Ri(a);d!==null&&(t.splice(i,3),i-=3,zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(t){function i(N){return Vc(N,t)}qs!==null&&Vc(qs,t),Fs!==null&&Vc(Fs,t),Gs!==null&&Vc(Gs,t),Sl.forEach(i),bl.forEach(i);for(var a=0;a<Ks.length;a++){var l=Ks[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ks.length&&(a=Ks[0],a.blockedOn===null);)Yv(a),a.blockedOn===null&&Ks.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[zt]||null;if(typeof d=="function")_||$v(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[zt]||null)S=_.formAction;else if(Bd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),$v(a)}}}function Jv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}Pc.prototype.render=qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=wn();Hv(a,l,t,i,null,null)},Pc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Hv(t.current,2,null,t,null,null),yc(),i[ni]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ai();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ks.length&&i!==0&&i<Ks[a].priority;a++);Ks.splice(a,0,t),a===0&&Yv(t)}};var Wv=e.version;if(Wv!=="19.2.4")throw Error(r(527,Wv,"19.2.4"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var eA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{as=Lc.inject(eA),Yt=Lc}catch{}}return xl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=ry,d=ay,_=oy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=zv(t,1,!1,null,null,a,l,null,h,d,_,Jv),t[ni]=i.current,Ad(t),new qd(i)},xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=ry,_=ay,S=oy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=zv(t,1,!0,i,a??null,l,h,N,d,_,S,Jv),i.context=Bv(null),a=i.current,l=wn(),l=Co(l),h=Ds(l),h.callback=null,Os(a,h,l),a=l,i.current.lanes=a,us(i,a),hi(i),t[ni]=i.current,Ad(t),new Pc(i)},xl.version="19.2.4",xl}var l_;function hA(){if(l_)return Kd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=cA(),Kd.exports}var fA=hA();const dA=G0(fA);K0();/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},zl.apply(this,arguments)}var Zs;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Zs||(Zs={}));const u_="popstate";function mA(s){s===void 0&&(s={});function e(r,o){let{pathname:u,search:f,hash:m}=r.location;return hm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:th(o)}return gA(e,n,null,s)}function wt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Bm(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pA(){return Math.random().toString(36).substr(2,8)}function c_(s,e){return{usr:s.state,key:s.key,idx:e}}function hm(s,e,n,r){return n===void 0&&(n=null),zl({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?mo(e):e,{state:n,key:e&&e.key||r||pA()})}function th(s){let{pathname:e="/",search:n="",hash:r=""}=s;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substr(n),s=s.substr(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substr(r),s=s.substr(0,r)),s&&(e.pathname=s)}return e}function gA(s,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,m=Zs.Pop,g=null,v=T();v==null&&(v=0,f.replaceState(zl({},f.state,{idx:v}),""));function T(){return(f.state||{idx:null}).idx}function b(){m=Zs.Pop;let U=T(),se=U==null?null:U-v;v=U,g&&g({action:m,location:F.location,delta:se})}function w(U,se){m=Zs.Push;let K=hm(F.location,U,se);v=T()+1;let Z=c_(K,v),ce=F.createHref(K);try{f.pushState(Z,"",ce)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(ce)}u&&g&&g({action:m,location:F.location,delta:1})}function k(U,se){m=Zs.Replace;let K=hm(F.location,U,se);v=T();let Z=c_(K,v),ce=F.createHref(K);f.replaceState(Z,"",ce),u&&g&&g({action:m,location:F.location,delta:0})}function q(U){let se=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof U=="string"?U:th(U);return wt(se,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,se)}let F={get action(){return m},get location(){return s(o,f)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(u_,b),g=U,()=>{o.removeEventListener(u_,b),g=null}},createHref(U){return e(o,U)},createURL:q,encodeLocation(U){let se=q(U);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:w,replace:k,go(U){return f.go(U)}};return F}var h_;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(h_||(h_={}));function yA(s,e,n){n===void 0&&(n="/");let r=typeof e=="string"?mo(e):e,o=Hm(r.pathname||"/",n);if(o==null)return null;let u=Q0(s);vA(u);let f=null;for(let m=0;f==null&&m<u.length;++m)f=RA(u[m],NA(o));return f}function Q0(s,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(wt(g.relativePath.startsWith(r),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(r.length));let v=tr([r,g.relativePath]),T=n.concat(g);u.children&&u.children.length>0&&(wt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Q0(u.children,e,T,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:wA(v,u.index),routesMeta:T})};return s.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of Y0(u.path))o(u,f,g)}),e}function Y0(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=Y0(r.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>s.startsWith("/")&&g===""?"/":g)}function vA(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:xA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _A=/^:[\w-]+$/,EA=3,TA=2,SA=1,bA=10,AA=-2,f_=s=>s==="*";function wA(s,e){let n=s.split("/"),r=n.length;return n.some(f_)&&(r+=AA),e&&(r+=TA),n.filter(o=>!f_(o)).reduce((o,u)=>o+(_A.test(u)?EA:u===""?SA:bA),r)}function xA(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function RA(s,e){let{routesMeta:n}=s,r={},o="/",u=[];for(let f=0;f<n.length;++f){let m=n[f],g=f===n.length-1,v=o==="/"?e:e.slice(o.length)||"/",T=IA({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v);if(!T)return null;Object.assign(r,T.params);let b=m.route;u.push({params:r,pathname:tr([o,T.pathname]),pathnameBase:VA(tr([o,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(o=tr([o,T.pathnameBase]))}return u}function IA(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=CA(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((v,T,b)=>{let{paramName:w,isOptional:k}=T;if(w==="*"){let F=m[b]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const q=m[b];return k&&!q?v[w]=void 0:v[w]=DA(q||"",w),v},{}),pathname:u,pathnameBase:f,pattern:s}}function CA(s,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bm(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function NA(s){try{return decodeURI(s)}catch(e){return Bm(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function DA(s,e){try{return decodeURIComponent(s)}catch(n){return Bm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+s+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),s}}function Hm(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function OA(s,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?mo(s):s;return{pathname:n?n.startsWith("/")?n:jA(n,e):e,search:kA(r),hash:PA(o)}}function jA(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $d(s,e,n,r){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MA(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function X0(s,e){let n=MA(s);return e?n.map((r,o)=>o===s.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $0(s,e,n,r){r===void 0&&(r=!1);let o;typeof s=="string"?o=mo(s):(o=zl({},s),wt(!o.pathname||!o.pathname.includes("?"),$d("?","pathname","search",o)),wt(!o.pathname||!o.pathname.includes("#"),$d("#","pathname","hash",o)),wt(!o.search||!o.search.includes("#"),$d("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!r&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let g=OA(o,m),v=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||T)&&(g.pathname+="/"),g}const tr=s=>s.join("/").replace(/\/\/+/g,"/"),VA=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,PA=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function LA(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const J0=["post","put","patch","delete"];new Set(J0);const UA=["get",...J0];new Set(UA);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},Bl.apply(this,arguments)}const qm=J.createContext(null),zA=J.createContext(null),na=J.createContext(null),Sh=J.createContext(null),ia=J.createContext({outlet:null,matches:[],isDataRoute:!1}),W0=J.createContext(null);function BA(s,e){let{relative:n}=e===void 0?{}:e;Zl()||wt(!1);let{basename:r,navigator:o}=J.useContext(na),{hash:u,pathname:f,search:m}=eE(s,{relative:n}),g=f;return r!=="/"&&(g=f==="/"?r:tr([r,f])),o.createHref({pathname:g,search:m,hash:u})}function Zl(){return J.useContext(Sh)!=null}function po(){return Zl()||wt(!1),J.useContext(Sh).location}function Z0(s){J.useContext(na).static||J.useLayoutEffect(s)}function bh(){let{isDataRoute:s}=J.useContext(ia);return s?e1():HA()}function HA(){Zl()||wt(!1);let s=J.useContext(qm),{basename:e,future:n,navigator:r}=J.useContext(na),{matches:o}=J.useContext(ia),{pathname:u}=po(),f=JSON.stringify(X0(o,n.v7_relativeSplatPath)),m=J.useRef(!1);return Z0(()=>{m.current=!0}),J.useCallback(function(v,T){if(T===void 0&&(T={}),!m.current)return;if(typeof v=="number"){r.go(v);return}let b=$0(v,JSON.parse(f),u,T.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:tr([e,b.pathname])),(T.replace?r.replace:r.push)(b,T.state,T)},[e,r,f,u,s])}function eE(s,e){let{relative:n}=e===void 0?{}:e,{future:r}=J.useContext(na),{matches:o}=J.useContext(ia),{pathname:u}=po(),f=JSON.stringify(X0(o,r.v7_relativeSplatPath));return J.useMemo(()=>$0(s,JSON.parse(f),u,n==="path"),[s,f,u,n])}function qA(s,e){return FA(s,e)}function FA(s,e,n,r){Zl()||wt(!1);let{navigator:o}=J.useContext(na),{matches:u}=J.useContext(ia),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let v=po(),T;if(e){var b;let U=typeof e=="string"?mo(e):e;g==="/"||(b=U.pathname)!=null&&b.startsWith(g)||wt(!1),T=U}else T=v;let w=T.pathname||"/",k=g==="/"?w:w.slice(g.length)||"/",q=yA(s,{pathname:k}),F=XA(q&&q.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:tr([g,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:tr([g,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,r);return e&&F?J.createElement(Sh.Provider,{value:{location:Bl({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:Zs.Pop}},F):F}function GA(){let s=ZA(),e=LA(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:o},n):null,null)}const KA=J.createElement(GA,null);class QA extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(ia.Provider,{value:this.props.routeContext},J.createElement(W0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YA(s){let{routeContext:e,match:n,children:r}=s,o=J.useContext(qm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(ia.Provider,{value:e},r)}function XA(s,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),s==null){var u;if((u=n)!=null&&u.errors)s=n.matches;else return null}let f=s,m=(o=n)==null?void 0:o.errors;if(m!=null){let T=f.findIndex(b=>b.route.id&&(m==null?void 0:m[b.route.id]));T>=0||wt(!1),f=f.slice(0,Math.min(f.length,T+1))}let g=!1,v=-1;if(n&&r&&r.v7_partialHydration)for(let T=0;T<f.length;T++){let b=f[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(v=T),b.route.id){let{loaderData:w,errors:k}=n,q=b.route.loader&&w[b.route.id]===void 0&&(!k||k[b.route.id]===void 0);if(b.route.lazy||q){g=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}return f.reduceRight((T,b,w)=>{let k,q=!1,F=null,U=null;n&&(k=m&&b.route.id?m[b.route.id]:void 0,F=b.route.errorElement||KA,g&&(v<0&&w===0?(t1("route-fallback"),q=!0,U=null):v===w&&(q=!0,U=b.route.hydrateFallbackElement||null)));let se=e.concat(f.slice(0,w+1)),K=()=>{let Z;return k?Z=F:q?Z=U:b.route.Component?Z=J.createElement(b.route.Component,null):b.route.element?Z=b.route.element:Z=T,J.createElement(YA,{match:b,routeContext:{outlet:T,matches:se,isDataRoute:n!=null},children:Z})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?J.createElement(QA,{location:n.location,revalidation:n.revalidation,component:F,error:k,children:K(),routeContext:{outlet:null,matches:se,isDataRoute:!0}}):K()},null)}var tE=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(tE||{}),nE=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(nE||{});function $A(s){let e=J.useContext(qm);return e||wt(!1),e}function JA(s){let e=J.useContext(zA);return e||wt(!1),e}function WA(s){let e=J.useContext(ia);return e||wt(!1),e}function iE(s){let e=WA(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function ZA(){var s;let e=J.useContext(W0),n=JA(),r=iE();return e!==void 0?e:(s=n.errors)==null?void 0:s[r]}function e1(){let{router:s}=$A(tE.UseNavigateStable),e=iE(nE.UseNavigateStable),n=J.useRef(!1);return Z0(()=>{n.current=!0}),J.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?s.navigate(o):s.navigate(o,Bl({fromRouteId:e},u)))},[s,e])}const d_={};function t1(s,e,n){d_[s]||(d_[s]=!0)}function Xs(s){wt(!1)}function n1(s){let{basename:e="/",children:n=null,location:r,navigationType:o=Zs.Pop,navigator:u,static:f=!1,future:m}=s;Zl()&&wt(!1);let g=e.replace(/^\/*/,"/"),v=J.useMemo(()=>({basename:g,navigator:u,static:f,future:Bl({v7_relativeSplatPath:!1},m)}),[g,m,u,f]);typeof r=="string"&&(r=mo(r));let{pathname:T="/",search:b="",hash:w="",state:k=null,key:q="default"}=r,F=J.useMemo(()=>{let U=Hm(T,g);return U==null?null:{location:{pathname:U,search:b,hash:w,state:k,key:q},navigationType:o}},[g,T,b,w,k,q,o]);return F==null?null:J.createElement(na.Provider,{value:v},J.createElement(Sh.Provider,{children:n,value:F}))}function i1(s){let{children:e,location:n}=s;return qA(fm(e),n)}new Promise(()=>{});function fm(s,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(s,(r,o)=>{if(!J.isValidElement(r))return;let u=[...e,o];if(r.type===J.Fragment){n.push.apply(n,fm(r.props.children,u));return}r.type!==Xs&&wt(!1),!r.props.index||!r.props.children||wt(!1);let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=fm(r.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dm(){return dm=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},dm.apply(this,arguments)}function s1(s,e){if(s==null)return{};var n={},r=Object.keys(s),o,u;for(u=0;u<r.length;u++)o=r[u],!(e.indexOf(o)>=0)&&(n[o]=s[o]);return n}function r1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function a1(s,e){return s.button===0&&(!e||e==="_self")&&!r1(s)}function mm(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,n)=>{let r=s[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function o1(s,e){let n=mm(s);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}const l1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],u1="6";try{window.__reactRouterVersion=u1}catch{}const c1="startTransition",m_=aA[c1];function h1(s){let{basename:e,children:n,future:r,window:o}=s,u=J.useRef();u.current==null&&(u.current=mA({window:o,v5Compat:!0}));let f=u.current,[m,g]=J.useState({action:f.action,location:f.location}),{v7_startTransition:v}=r||{},T=J.useCallback(b=>{v&&m_?m_(()=>g(b)):g(b)},[g,v]);return J.useLayoutEffect(()=>f.listen(T),[f,T]),J.createElement(n1,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:f,future:r})}const f1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,no=J.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:u,replace:f,state:m,target:g,to:v,preventScrollReset:T,unstable_viewTransition:b}=e,w=s1(e,l1),{basename:k}=J.useContext(na),q,F=!1;if(typeof v=="string"&&d1.test(v)&&(q=v,f1))try{let Z=new URL(window.location.href),ce=v.startsWith("//")?new URL(Z.protocol+v):new URL(v),Ie=Hm(ce.pathname,k);ce.origin===Z.origin&&Ie!=null?v=Ie+ce.search+ce.hash:F=!0}catch{}let U=BA(v,{relative:o}),se=m1(v,{replace:f,state:m,target:g,preventScrollReset:T,relative:o,unstable_viewTransition:b});function K(Z){r&&r(Z),Z.defaultPrevented||se(Z)}return J.createElement("a",dm({},w,{href:q||U,onClick:F||u?r:K,ref:n,target:g}))});var p_;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(p_||(p_={}));var g_;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(g_||(g_={}));function m1(s,e){let{target:n,replace:r,state:o,preventScrollReset:u,relative:f,unstable_viewTransition:m}=e===void 0?{}:e,g=bh(),v=po(),T=eE(s,{relative:f});return J.useCallback(b=>{if(a1(b,n)){b.preventDefault();let w=r!==void 0?r:th(v)===th(T);g(s,{replace:w,state:o,preventScrollReset:u,relative:f,unstable_viewTransition:m})}},[v,g,T,r,o,n,s,u,f,m])}function p1(s){let e=J.useRef(mm(s)),n=J.useRef(!1),r=po(),o=J.useMemo(()=>o1(r.search,n.current?null:e.current),[r.search]),u=bh(),f=J.useCallback((m,g)=>{const v=mm(typeof m=="function"?m(o):m);n.current=!0,u("?"+v,g)},[u,o]);return[o,f]}const g1=()=>{};var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},y1=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},rE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,v=g?s[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|v>>6,k=v&63;g||(k=64,f||(w=64)),r.push(n[T],n[b],n[w],n[k])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(sE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):y1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const v=o<s.length?n[s.charAt(o)]:64;++o;const b=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||v==null||b==null)throw new v1;const w=u<<2|m>>4;if(r.push(w),v!==64){const k=m<<4&240|v>>2;if(r.push(k),b!==64){const q=v<<6&192|b;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class v1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _1=function(s){const e=sE(s);return rE.encodeByteArray(e,!0)},nh=function(s){return _1(s).replace(/\./g,"")},aE=function(s){try{return rE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=()=>E1().__FIREBASE_DEFAULTS__,S1=()=>{if(typeof process>"u"||typeof y_>"u")return;const s=y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},b1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&aE(s[1]);return e&&JSON.parse(e)},Ah=()=>{try{return g1()||T1()||S1()||b1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},oE=s=>{var e,n;return(n=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},A1=s=>{const e=oE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lE=()=>{var s;return(s=Ah())===null||s===void 0?void 0:s.config},uE=s=>{var e;return(e=Ah())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const jl={};function R1(){const s={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?s.emulator.push(e):s.prod.push(e);return s}function I1(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let v_=!1;function hE(s,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||jl[s]===e||jl[s]||v_)return;jl[s]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=R1().prod.length>0;function f(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function v(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{v_=!0,f()},w}function T(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=I1(r),k=n("text"),q=document.getElementById(k)||document.createElement("span"),F=n("learnmore"),U=document.getElementById(F)||document.createElement("a"),se=n("preprendIcon"),K=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Z=w.element;m(Z),T(U,F);const ce=v();g(K,se),Z.append(K,q,U,ce),document.body.appendChild(Z)}u?(q.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function N1(){var s;const e=(s=Ah())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function j1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M1(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function V1(){return!N1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k1(){try{return typeof indexedDB=="object"}catch{return!1}}function P1(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="FirebaseError";class ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L1,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?U1(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ss(o,m,r)}}function U1(s,e){return s.replace(z1,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const z1=/\{\$([^}]+)}/g;function B1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Jr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(__(u)&&__(f)){if(!Jr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function __(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Il(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function H1(s,e){const n=new q1(s,e);return n.subscribe.bind(n)}class q1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Jd),o.error===void 0&&(o.error=Jd),o.complete===void 0&&(o.complete=Jd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F1(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q1(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K1(s){return s===Qr?void 0:s}function Q1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const X1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},$1=Ve.INFO,J1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},W1=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=J1[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=$1,this._logHandler=W1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Z1=(s,e)=>e.some(n=>s instanceof n);let E_,T_;function ew(){return E_||(E_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tw(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,pm=new WeakMap,dE=new WeakMap,Wd=new WeakMap,Gm=new WeakMap;function nw(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(nr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&fE.set(n,s)}).catch(()=>{}),Gm.set(e,s),e}function iw(s){if(pm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});pm.set(s,e)}let gm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||dE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function sw(s){gm=s(gm)}function rw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Zd(this),e,...n);return dE.set(r,e.sort?e.sort():[e]),nr(r)}:tw().includes(s)?function(...e){return s.apply(Zd(this),e),nr(fE.get(this))}:function(...e){return nr(s.apply(Zd(this),e))}}function aw(s){return typeof s=="function"?rw(s):(s instanceof IDBTransaction&&iw(s),Z1(s,ew())?new Proxy(s,gm):s)}function nr(s){if(s instanceof IDBRequest)return nw(s);if(Wd.has(s))return Wd.get(s);const e=aw(s);return e!==s&&(Wd.set(s,e),Gm.set(e,s)),e}const Zd=s=>Gm.get(s);function ow(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=nr(f);return r&&f.addEventListener("upgradeneeded",g=>{r(nr(f.result),g.oldVersion,g.newVersion,nr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const lw=["get","getKey","getAll","getAllKeys","count"],uw=["put","add","delete","clear"],em=new Map;function S_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=uw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||lw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),o&&g.done]))[0]};return em.set(e,u),u}sw(s=>({...s,get:(e,n,r)=>S_(e,n)||s.get(e,n,r),has:(e,n)=>!!S_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hw(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",b_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Fm("@firebase/app"),fw="@firebase/app-compat",dw="@firebase/analytics-compat",mw="@firebase/analytics",pw="@firebase/app-check-compat",gw="@firebase/app-check",yw="@firebase/auth",vw="@firebase/auth-compat",_w="@firebase/database",Ew="@firebase/data-connect",Tw="@firebase/database-compat",Sw="@firebase/functions",bw="@firebase/functions-compat",Aw="@firebase/installations",ww="@firebase/installations-compat",xw="@firebase/messaging",Rw="@firebase/messaging-compat",Iw="@firebase/performance",Cw="@firebase/performance-compat",Nw="@firebase/remote-config",Dw="@firebase/remote-config-compat",Ow="@firebase/storage",jw="@firebase/storage-compat",Mw="@firebase/firestore",Vw="@firebase/ai",kw="@firebase/firestore-compat",Pw="firebase",Lw="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",Uw={[ym]:"fire-core",[fw]:"fire-core-compat",[mw]:"fire-analytics",[dw]:"fire-analytics-compat",[gw]:"fire-app-check",[pw]:"fire-app-check-compat",[yw]:"fire-auth",[vw]:"fire-auth-compat",[_w]:"fire-rtdb",[Ew]:"fire-data-connect",[Tw]:"fire-rtdb-compat",[Sw]:"fire-fn",[bw]:"fire-fn-compat",[Aw]:"fire-iid",[ww]:"fire-iid-compat",[xw]:"fire-fcm",[Rw]:"fire-fcm-compat",[Iw]:"fire-perf",[Cw]:"fire-perf-compat",[Nw]:"fire-rc",[Dw]:"fire-rc-compat",[Ow]:"fire-gcs",[jw]:"fire-gcs-compat",[Mw]:"fire-fst",[kw]:"fire-fst-compat",[Vw]:"fire-vertex","fire-js":"fire-js",[Pw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,zw=new Map,_m=new Map;function A_(s,e){try{s.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function oo(s){const e=s.name;if(_m.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,s);for(const n of ih.values())A_(n,s);for(const n of zw.values())A_(n,s);return!0}function Km(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function gn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new eu("app","Firebase",Bw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=Lw;function mE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vm,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=lE()),!n)throw ir.create("no-options");const u=ih.get(o);if(u){if(Jr(n,u.options)&&Jr(r,u.config))return u;throw ir.create("duplicate-app",{appName:o})}const f=new Y1(o);for(const g of _m.values())f.addComponent(g);const m=new Hw(n,r,f);return ih.set(o,m),m}function pE(s=vm){const e=ih.get(s);if(!e&&s===vm&&lE())return mE();if(!e)throw ir.create("no-app",{appName:s});return e}function sr(s,e,n){var r;let o=(r=Uw[s])!==null&&r!==void 0?r:s;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(m.join(" "));return}oo(new Wr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firebase-heartbeat-database",Fw=1,Hl="firebase-heartbeat-store";let tm=null;function gE(){return tm||(tm=ow(qw,Fw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),tm}async function Gw(s){try{const n=(await gE()).transaction(Hl),r=await n.objectStore(Hl).get(yE(s));return await n.done,r}catch(e){if(e instanceof ss)Zi.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function w_(s,e){try{const r=(await gE()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,yE(s)),await r.done}catch(n){if(n instanceof ss)Zi.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(r.message)}}}function yE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=1024,Qw=30;class Yw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $w(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=x_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Qw){const f=Jw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x_(),{heartbeatsToSend:r,unsentEntries:o}=Xw(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Zi.warn(n),""}}}function x_(){return new Date().toISOString().substring(0,10)}function Xw(s,e=Kw){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),R_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),R_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $w{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k1()?P1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function R_(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function Jw(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(s){oo(new Wr("platform-logger",e=>new cw(e),"PRIVATE")),oo(new Wr("heartbeat",e=>new Yw(e),"PRIVATE")),sr(ym,b_,s),sr(ym,b_,"esm2017"),sr("fire-js","")}Ww("");var Zw="firebase",ex="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(Zw,ex,"app");function Qm(s,e){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(n[r[o]]=s[r[o]]);return n}function vE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tx=vE,_E=new eu("auth","Firebase",vE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Fm("@firebase/auth");function nx(s,...e){sh.logLevel<=Ve.WARN&&sh.warn(`Auth (${yo}): ${s}`,...e)}function Gc(s,...e){sh.logLevel<=Ve.ERROR&&sh.error(`Auth (${yo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(s,...e){throw Xm(s,...e)}function Wn(s,...e){return Xm(s,...e)}function Ym(s,e,n){const r=Object.assign(Object.assign({},tx()),{[e]:n});return new eu("auth","Firebase",r).create(e,{appName:s.name})}function di(s){return Ym(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ix(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hn(s,"argument-error"),Ym(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return _E.create(s,...e)}function _e(s,e,...n){if(!s)throw Xm(e,...n)}function Xi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function es(s,e){s||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function sx(){return I_()==="http:"||I_()==="https:"}function I_(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sx()||O1()||"connection"in navigator)?navigator.onLine:!0}function ax(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=C1()||j1()}get(){return rx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(s,e){es(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ux=new nu(3e4,6e4);function mr(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function pr(s,e,n,r,o={}){return TE(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=tu(Object.assign({key:s.config.apiKey},f)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:e,headers:g},u);return D1()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&go(s.emulatorConfig.host)&&(v.credentials="include"),EE.fetch()(await SE(s,s.config.apiHost,n,m),v)})}async function TE(s,e,n){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},ox),e);try{const o=new hx(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,v]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Uc(s,"user-disabled",f);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Ym(s,T,v);Hn(s,T)}}catch(o){if(o instanceof ss)throw o;Hn(s,"network-request-failed",{message:String(o)})}}async function iu(s,e,n,r,o={}){const u=await pr(s,e,n,r,o);return"mfaPendingCredential"in u&&Hn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function SE(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?$m(s.config,o):`${s.config.apiScheme}://${o}`;return lx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function cx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),ux.get())})}}function Uc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Wn(s,e,r);return o.customData._tokenResponse=n,o}function C_(s){return s!==void 0&&s.enterprise!==void 0}class fx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dx(s,e){return pr(s,"GET","/v2/recaptchaConfig",mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(s,e){return pr(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return pr(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function px(s,e=!1){const n=xn(s),r=await n.getIdToken(e),o=Jm(r);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Ml(nm(o.auth_time)),issuedAtTime:Ml(nm(o.iat)),expirationTime:Ml(nm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function nm(s){return Number(s)*1e3}function Jm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=aE(n);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function N_(s){const e=Jm(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ss&&gx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function gx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(s){var e;const n=s.auth,r=await s.getIdToken(),o=await ql(s,rh(n,{idToken:r}));_e(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?bE(u.providerUserInfo):[],m=_x(s.providerData,f),g=s.isAnonymous,v=!(s.email&&u.passwordHash)&&!(m!=null&&m.length),T=g?v:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Tm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(s,b)}async function vx(s){const e=xn(s);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _x(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function bE(s){return s.map(e=>{var{providerId:n}=e,r=Qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(s,e){const n=await TE(s,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await SE(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&go(s.emulatorConfig.host)&&(g.credentials="include"),EE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tx(s,e){return pr(s,"POST","/v2/accounts:revokeToken",mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=N_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await Ex(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new io;return r&&(_e(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return px(this,e)}reload(){return vx(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await ql(this,mx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,f,m,g,v,T;const b=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,q=(f=n.photoURL)!==null&&f!==void 0?f:void 0,F=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,se=(v=n.createdAt)!==null&&v!==void 0?v:void 0,K=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:Z,emailVerified:ce,isAnonymous:Ie,providerData:Ae,stsTokenManager:O}=n;_e(Z&&O,e,"internal-error");const x=io.fromJSON(this.name,O);_e(typeof Z=="string",e,"internal-error"),Ys(b,e.name),Ys(w,e.name),_e(typeof ce=="boolean",e,"internal-error"),_e(typeof Ie=="boolean",e,"internal-error"),Ys(k,e.name),Ys(q,e.name),Ys(F,e.name),Ys(U,e.name),Ys(se,e.name),Ys(K,e.name);const C=new $n({uid:Z,auth:e,email:w,emailVerified:ce,displayName:b,isAnonymous:Ie,photoURL:q,phoneNumber:k,tenantId:F,stsTokenManager:x,createdAt:se,lastLoginAt:K});return Ae&&Array.isArray(Ae)&&(C.providerData=Ae.map(V=>Object.assign({},V))),U&&(C._redirectEventId=U),C}static async _fromIdTokenResponse(e,n,r=!1){const o=new io;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ah(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new io;m.updateFromIdToken(r);const g=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function $i(s){es(s instanceof Function,"Expected a class definition");let e=D_.get(s);return e?(es(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,D_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AE.type="NONE";const O_=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(s,e,n){return`firebase:${s}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so($i(O_),e,r);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||$i(O_);const f=Kc(r,e.config.apiKey,e.name);let m=null;for(const v of n)try{const T=await v._get(f);if(T){let b;if(typeof T=="string"){const w=await rh(e,{idToken:T}).catch(()=>{});if(!w)break;b=await $n._fromGetAccountInfoResponse(e,w,T)}else b=$n._fromJSON(e,T);v!==u&&(m=b),u=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new so(u,e,r):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(f)}catch{}})),new so(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NE(e))return"Blackberry";if(DE(e))return"Webos";if(xE(e))return"Safari";if((e.includes("chrome/")||RE(e))&&!e.includes("edge/"))return"Chrome";if(CE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wE(s=en()){return/firefox\//i.test(s)}function xE(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RE(s=en()){return/crios\//i.test(s)}function IE(s=en()){return/iemobile/i.test(s)}function CE(s=en()){return/android/i.test(s)}function NE(s=en()){return/blackberry/i.test(s)}function DE(s=en()){return/webos/i.test(s)}function Wm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Sx(s=en()){var e;return Wm(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bx(){return M1()&&document.documentMode===10}function OE(s=en()){return Wm(s)||CE(s)||DE(s)||NE(s)||/windows phone/i.test(s)||IE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(s,e=[]){let n;switch(s){case"Browser":n=j_(en());break;case"Worker":n=`${j_(en())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(s,e={}){return pr(s,"GET","/v2/passwordPolicy",mr(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=6;class Rx{constructor(e){var n,r,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:xx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M_(this),this.idTokenSubscription=new M_(this),this.beforeStateQueue=new Ax(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ax()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(di(this));const n=e?xn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wx(this),n=new Rx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rs(s){return xn(s)}class M_{constructor(e){this.auth=e,this.observer=null,this.addObserver=H1(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cx(s){wh=s}function ME(s){return wh.loadJS(s)}function Nx(){return wh.recaptchaEnterpriseScript}function Dx(){return wh.gapiScript}function Ox(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class jx{constructor(){this.enterprise=new Mx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Mx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Vx="recaptcha-enterprise",VE="NO_RECAPTCHA";class kx{constructor(e){this.type=Vx,this.auth=rs(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{dx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new fx(g);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,f(v.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;C_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(v=>{f(v)}).catch(()=>{f(VE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&C_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Nx();g.length!==0&&(g+=m),ME(g).then(()=>{o(m,u,f)}).catch(v=>{f(v)})}}).catch(m=>{f(m)})})}}async function V_(s,e,n,r=!1,o=!1){const u=new kx(s);let f;if(o)f=VE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Sm(s,e,n,r,o){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await V_(s,e,n,n==="getOobCode");return r(s,f)}else return r(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await V_(s,e,n,n==="getOobCode");return r(s,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(s,e){const n=Km(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Jr(u,e??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:e})}function Lx(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($i);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ux(s,e,n){const r=rs(s);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=kE(e),{host:f,port:m}=zx(e),g=m===null?"":`:${m}`,v={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(Jr(v,r.config.emulator)&&Jr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,go(f)?(cE(`${u}//${f}${g}`),hE("Auth",!0)):Bx()}function kE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function zx(s){const e=kE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:k_(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:k_(f)}}}function k_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Bx(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function Hx(s,e){return pr(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(s,e){return iu(s,"POST","/v1/accounts:signInWithPassword",mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(s,e){return iu(s,"POST","/v1/accounts:signInWithEmailLink",mr(s,e))}async function Gx(s,e){return iu(s,"POST","/v1/accounts:signInWithEmailLink",mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Zm{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,n,"signInWithPassword",qx);case"emailLink":return Fx(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,r,"signUpPassword",Hx);case"emailLink":return Gx(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(s,e){return iu(s,"POST","/v1/accounts:signInWithIdp",mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="http://localhost";class Zr extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=Qm(n,["providerId","signInMethod"]);if(!r||!o)return null;const f=new Zr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:Kx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yx(s){const e=Rl(Il(s)).link,n=e?Rl(Il(e)).deep_link_id:null,r=Rl(Il(s)).deep_link_id;return(r?Rl(Il(r)).link:null)||r||n||e||s}class ep{constructor(e){var n,r,o,u,f,m;const g=Rl(Il(e)),v=(n=g.apiKey)!==null&&n!==void 0?n:null,T=(r=g.oobCode)!==null&&r!==void 0?r:null,b=Qx((o=g.mode)!==null&&o!==void 0?o:null);_e(v&&T&&b,"argument-error"),this.apiKey=v,this.operation=b,this.code=T,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Yx(e);try{return new ep(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ep.parseLink(n);return _e(r,"argument-error"),Fl._fromEmailAndCode(e,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends su{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zr._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends su{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends su{constructor(){super("twitter.com")}static credential(e,n){return Zr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(s,e){return iu(s,"POST","/v1/accounts:signUp",mr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await $n._fromIdTokenResponse(e,r,o),f=P_(r);return new ts({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=P_(r);return new ts({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function P_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(s){var e;if(gn(s.app))return Promise.reject(di(s));const n=rs(s);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ts({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await PE(n,{returnSecureToken:!0}),o=await ts._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends ss{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new oh(e,n,r,o)}}function LE(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,u,e,r):u})}async function $x(s,e,n=!1){const r=await ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ts._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(s,e,n=!1){const{auth:r}=s;if(gn(r.app))return Promise.reject(di(r));const o="reauthenticate";try{const u=await ql(s,LE(r,o,e,s),n);_e(u.idToken,r,"internal-error");const f=Jm(u.idToken);_e(f,r,"internal-error");const{sub:m}=f;return _e(s.uid===m,r,"user-mismatch"),ts._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(s,e,n=!1){if(gn(s.app))return Promise.reject(di(s));const r="signIn",o=await LE(s,r,e),u=await ts._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function Wx(s,e){return UE(rs(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zE(s){const e=rs(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Zx(s,e,n){if(gn(s.app))return Promise.reject(di(s));const r=rs(s),f=await Sm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PE).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&zE(s),g}),m=await ts._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function eR(s,e,n){return gn(s.app)?Promise.reject(di(s)):Wx(xn(s),vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zE(s),r})}function tR(s,e,n,r){return xn(s).onIdTokenChanged(e,n,r)}function nR(s,e,n){return xn(s).beforeAuthStateChanged(e,n)}function iR(s,e,n,r){return xn(s).onAuthStateChanged(e,n,r)}function sR(s){return xn(s).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=1e3,aR=10;class HE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);bx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HE.type="LOCAL";const oR=HE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qE.type="SESSION";const FE=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async v=>v(n.origin,u)),g=await lR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const v=np("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===v)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function cR(s){mi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function hR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function dR(){return GE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebaseLocalStorageDb",mR=1,uh="firebaseLocalStorage",QE="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(s,e){return s.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function pR(){const s=indexedDB.deleteDatabase(KE);return new ru(s).toPromise()}function bm(){const s=indexedDB.open(KE,mR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(uh,{keyPath:QE})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),await pR(),e(await bm()))})})}async function L_(s,e,n){const r=Rh(s,!0).put({[QE]:e,value:n});return new ru(r).toPromise()}async function gR(s,e){const n=Rh(s,!1).get(e),r=await new ru(n).toPromise();return r===void 0?null:r.value}function U_(s,e){const n=Rh(s,!0).delete(e);return new ru(n).toPromise()}const yR=800,vR=3;class YE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(dR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hR(),!this.activeServiceWorker)return;this.sender=new uR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await L_(e,lh,"1"),await U_(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>L_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rh(o,!1).getAll();return new ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YE.type="LOCAL";const _R=YE;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(s,e){return e?$i(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ER(s){return UE(s.auth,new ip(s),s.bypassAuthState)}function TR(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),Jx(n,new ip(s),s.bypassAuthState)}async function SR(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),$x(n,new ip(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ER;case"linkViaPopup":case"linkViaRedirect":return SR;case"reauthViaPopup":case"reauthViaRedirect":return TR;default:Hn(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new nu(2e3,1e4);async function AR(s,e,n){if(gn(s.app))return Promise.reject(Wn(s,"operation-not-supported-in-this-environment"));const r=rs(s);ix(s,e,tp);const o=XE(r,n);return new Yr(r,"signInViaPopup",e,o).executeNotNull()}class Yr extends $E{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Yr.currentPopupAction&&Yr.currentPopupAction.cancel(),Yr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bR.get())};e()}}Yr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="pendingRedirect",Qc=new Map;class xR extends $E{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await RR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RR(s,e){const n=NR(e),r=CR(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function IR(s,e){Qc.set(s._key(),e)}function CR(s){return $i(s._redirectPersistence)}function NR(s){return Kc(wR,s.config.apiKey,s.name)}async function DR(s,e,n=!1){if(gn(s.app))return Promise.reject(di(s));const r=rs(s),o=XE(r,e),f=await new xR(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=600*1e3;class jR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OR&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(e))}saveEventToCache(e){this.cachedEventUids.add(z_(e)),this.lastProcessedEventTime=Date.now()}}function z_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function JE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(s,e={}){return pr(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PR=/^https?/;async function LR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await VR(s);for(const n of e)try{if(UR(n))return}catch{}Hn(s,"unauthorized-domain")}function UR(s){const e=Em(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!PR.test(n))return!1;if(kR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new nu(3e4,6e4);function B_(){const s=mi().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function BR(s){return new Promise((e,n)=>{var r,o,u;function f(){B_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B_(),n(Wn(s,"network-request-failed"))},timeout:zR.get()})}if(!((o=(r=mi().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)f();else{const m=Ox("iframefcb");return mi()[m]=()=>{gapi.load?f():n(Wn(s,"network-request-failed"))},ME(`${Dx()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function HR(s){return Yc=Yc||BR(s),Yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new nu(5e3,15e3),FR="__/auth/iframe",GR="emulator/auth/iframe",KR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YR(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?$m(e,GR):`https://${s.config.authDomain}/${FR}`,r={apiKey:e.apiKey,appName:s.name,v:yo},o=QR.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${tu(r).slice(1)}`}async function XR(s){const e=await HR(s),n=mi().gapi;return _e(n,s,"internal-error"),e.open({where:document.body,url:YR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KR,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Wn(s,"network-request-failed"),m=mi().setTimeout(()=>{u(f)},qR.get());function g(){mi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JR=500,WR=600,ZR="_blank",eI="http://localhost";class H_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tI(s,e,n,r=JR,o=WR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g=Object.assign(Object.assign({},$R),{width:r.toString(),height:o.toString(),top:u,left:f}),v=en().toLowerCase();n&&(m=RE(v)?ZR:n),wE(v)&&(e=e||eI,g.scrollbars="yes");const T=Object.entries(g).reduce((w,[k,q])=>`${w}${k}=${q},`,"");if(Sx(v)&&m!=="_self")return nI(e||"",m),new H_(null);const b=window.open(e||"",m,T);_e(b,s,"popup-blocked");try{b.focus()}catch{}return new H_(b)}function nI(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="__/auth/handler",sI="emulator/auth/handler",rI=encodeURIComponent("fac");async function q_(s,e,n,r,o,u){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:yo,eventId:o};if(e instanceof tp){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",B1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof su){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await s._getAppCheckToken(),v=g?`#${rI}=${encodeURIComponent(g)}`:"";return`${aI(s)}?${tu(m).slice(1)}${v}`}function aI({config:s}){return s.emulator?$m(s,sI):`https://${s.authDomain}/${iI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class oI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=DR,this._overrideRedirectResult=IR}async _openPopup(e,n,r,o){var u;es((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await q_(e,n,r,Em(),o);return tI(e,f,np())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await q_(e,n,r,Em(),o);return cR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(es(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XR(e),r=new jR(e);return n.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[im];f!==void 0&&n(!!f),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OE()||xE()||Wm()}}const lI=oI;var F_="@firebase/auth",G_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hI(s){oo(new Wr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jE(s)},v=new Ix(r,o,u,g);return Lx(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oo(new Wr("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(r=>new uI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(F_,G_,cI(s)),sr(F_,G_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=300,dI=uE("authIdTokenMaxAge")||fI;let K_=null;const mI=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dI)return;const o=n==null?void 0:n.token;K_!==o&&(K_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pI(s=pE()){const e=Km(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Px(s,{popupRedirectResolver:lI,persistence:[_R,oR,FE]}),r=uE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=mI(u.toString());nR(n,f,()=>f(n.currentUser)),tR(n,m=>f(m))}}const o=oE("auth");return o&&Ux(n,`http://${o}`),n}function gI(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}Cx({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Wn("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",gI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hI("Browser");var Q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rr,WE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function C(){}C.prototype=x.prototype,O.D=x.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(V,D,j){for(var R=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)R[Pe-2]=arguments[Pe];return x.prototype[D].apply(V,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,x,C){C||(C=0);var V=Array(16);if(typeof x=="string")for(var D=0;16>D;++D)V[D]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(D=0;16>D;++D)V[D]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=O.g[0],C=O.g[1],D=O.g[2];var j=O.g[3],R=x+(j^C&(D^j))+V[0]+3614090360&4294967295;x=C+(R<<7&4294967295|R>>>25),R=j+(D^x&(C^D))+V[1]+3905402710&4294967295,j=x+(R<<12&4294967295|R>>>20),R=D+(C^j&(x^C))+V[2]+606105819&4294967295,D=j+(R<<17&4294967295|R>>>15),R=C+(x^D&(j^x))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=x+(j^C&(D^j))+V[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(D^x&(C^D))+V[5]+1200080426&4294967295,j=x+(R<<12&4294967295|R>>>20),R=D+(C^j&(x^C))+V[6]+2821735955&4294967295,D=j+(R<<17&4294967295|R>>>15),R=C+(x^D&(j^x))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=x+(j^C&(D^j))+V[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(D^x&(C^D))+V[9]+2336552879&4294967295,j=x+(R<<12&4294967295|R>>>20),R=D+(C^j&(x^C))+V[10]+4294925233&4294967295,D=j+(R<<17&4294967295|R>>>15),R=C+(x^D&(j^x))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=x+(j^C&(D^j))+V[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(D^x&(C^D))+V[13]+4254626195&4294967295,j=x+(R<<12&4294967295|R>>>20),R=D+(C^j&(x^C))+V[14]+2792965006&4294967295,D=j+(R<<17&4294967295|R>>>15),R=C+(x^D&(j^x))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=x+(D^j&(C^D))+V[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^D&(x^C))+V[6]+3225465664&4294967295,j=x+(R<<9&4294967295|R>>>23),R=D+(x^C&(j^x))+V[11]+643717713&4294967295,D=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(D^j))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=x+(D^j&(C^D))+V[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^D&(x^C))+V[10]+38016083&4294967295,j=x+(R<<9&4294967295|R>>>23),R=D+(x^C&(j^x))+V[15]+3634488961&4294967295,D=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(D^j))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=x+(D^j&(C^D))+V[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^D&(x^C))+V[14]+3275163606&4294967295,j=x+(R<<9&4294967295|R>>>23),R=D+(x^C&(j^x))+V[3]+4107603335&4294967295,D=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(D^j))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=x+(D^j&(C^D))+V[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^D&(x^C))+V[2]+4243563512&4294967295,j=x+(R<<9&4294967295|R>>>23),R=D+(x^C&(j^x))+V[7]+1735328473&4294967295,D=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(D^j))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=x+(C^D^j)+V[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^D)+V[8]+2272392833&4294967295,j=x+(R<<11&4294967295|R>>>21),R=D+(j^x^C)+V[11]+1839030562&4294967295,D=j+(R<<16&4294967295|R>>>16),R=C+(D^j^x)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=x+(C^D^j)+V[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^D)+V[4]+1272893353&4294967295,j=x+(R<<11&4294967295|R>>>21),R=D+(j^x^C)+V[7]+4139469664&4294967295,D=j+(R<<16&4294967295|R>>>16),R=C+(D^j^x)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=x+(C^D^j)+V[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^D)+V[0]+3936430074&4294967295,j=x+(R<<11&4294967295|R>>>21),R=D+(j^x^C)+V[3]+3572445317&4294967295,D=j+(R<<16&4294967295|R>>>16),R=C+(D^j^x)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=x+(C^D^j)+V[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^D)+V[12]+3873151461&4294967295,j=x+(R<<11&4294967295|R>>>21),R=D+(j^x^C)+V[15]+530742520&4294967295,D=j+(R<<16&4294967295|R>>>16),R=C+(D^j^x)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=x+(D^(C|~j))+V[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~D))+V[7]+1126891415&4294967295,j=x+(R<<10&4294967295|R>>>22),R=D+(x^(j|~C))+V[14]+2878612391&4294967295,D=j+(R<<15&4294967295|R>>>17),R=C+(j^(D|~x))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=x+(D^(C|~j))+V[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~D))+V[3]+2399980690&4294967295,j=x+(R<<10&4294967295|R>>>22),R=D+(x^(j|~C))+V[10]+4293915773&4294967295,D=j+(R<<15&4294967295|R>>>17),R=C+(j^(D|~x))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=x+(D^(C|~j))+V[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~D))+V[15]+4264355552&4294967295,j=x+(R<<10&4294967295|R>>>22),R=D+(x^(j|~C))+V[6]+2734768916&4294967295,D=j+(R<<15&4294967295|R>>>17),R=C+(j^(D|~x))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=x+(D^(C|~j))+V[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~D))+V[11]+3174756917&4294967295,j=x+(R<<10&4294967295|R>>>22),R=D+(x^(j|~C))+V[2]+718787259&4294967295,D=j+(R<<15&4294967295|R>>>17),R=C+(j^(D|~x))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+j&4294967295}r.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var C=x-this.blockSize,V=this.B,D=this.h,j=0;j<x;){if(D==0)for(;j<=C;)o(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<x;)if(V[D++]=O.charCodeAt(j++),D==this.blockSize){o(this,V),D=0;break}}else for(;j<x;)if(V[D++]=O[j++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=x},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var C=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=C&255,C/=256;for(this.u(O),O=Array(16),x=C=0;4>x;++x)for(var V=0;32>V;V+=8)O[C++]=this.g[x]>>>V&255;return O};function u(O,x){var C=m;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=x(O)}function f(O,x){this.h=x;for(var C=[],V=!0,D=O.length-1;0<=D;D--){var j=O[D]|0;V&&j==x||(C[D]=j,V=!1)}this.g=C}var m={};function g(O){return-128<=O&&128>O?u(O,function(x){return new f([x|0],0>x?-1:0)}):new f([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return U(v(-O));for(var x=[],C=1,V=0;O>=C;V++)x[V]=O/C|0,C*=4294967296;return new f(x,0)}function T(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return U(T(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(x,8)),V=b,D=0;D<O.length;D+=8){var j=Math.min(8,O.length-D),R=parseInt(O.substring(D,D+j),x);8>j?(j=v(Math.pow(x,j)),V=V.j(j).add(v(R))):(V=V.j(C),V=V.add(v(R)))}return V}var b=g(0),w=g(1),k=g(16777216);s=f.prototype,s.m=function(){if(F(this))return-U(this).m();for(var O=0,x=1,C=0;C<this.g.length;C++){var V=this.i(C);O+=(0<=V?V:4294967296+V)*x,x*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(q(this))return"0";if(F(this))return"-"+U(this).toString(O);for(var x=v(Math.pow(O,6)),C=this,V="";;){var D=ce(C,x).g;C=se(C,D.j(x));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=D,q(C))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function q(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function F(O){return O.h==-1}s.l=function(O){return O=se(this,O),F(O)?-1:q(O)?0:1};function U(O){for(var x=O.g.length,C=[],V=0;V<x;V++)C[V]=~O.g[V];return new f(C,~O.h).add(w)}s.abs=function(){return F(this)?U(this):this},s.add=function(O){for(var x=Math.max(this.g.length,O.g.length),C=[],V=0,D=0;D<=x;D++){var j=V+(this.i(D)&65535)+(O.i(D)&65535),R=(j>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);V=R>>>16,j&=65535,R&=65535,C[D]=R<<16|j}return new f(C,C[C.length-1]&-2147483648?-1:0)};function se(O,x){return O.add(U(x))}s.j=function(O){if(q(this)||q(O))return b;if(F(this))return F(O)?U(this).j(U(O)):U(U(this).j(O));if(F(O))return U(this.j(U(O)));if(0>this.l(k)&&0>O.l(k))return v(this.m()*O.m());for(var x=this.g.length+O.g.length,C=[],V=0;V<2*x;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var D=0;D<O.g.length;D++){var j=this.i(V)>>>16,R=this.i(V)&65535,Pe=O.i(D)>>>16,et=O.i(D)&65535;C[2*V+2*D]+=R*et,K(C,2*V+2*D),C[2*V+2*D+1]+=j*et,K(C,2*V+2*D+1),C[2*V+2*D+1]+=R*Pe,K(C,2*V+2*D+1),C[2*V+2*D+2]+=j*Pe,K(C,2*V+2*D+2)}for(V=0;V<x;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=x;V<2*x;V++)C[V]=0;return new f(C,0)};function K(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function Z(O,x){this.g=O,this.h=x}function ce(O,x){if(q(x))throw Error("division by zero");if(q(O))return new Z(b,b);if(F(O))return x=ce(U(O),x),new Z(U(x.g),U(x.h));if(F(x))return x=ce(O,U(x)),new Z(U(x.g),x.h);if(30<O.g.length){if(F(O)||F(x))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=x;0>=V.l(O);)C=Ie(C),V=Ie(V);var D=Ae(C,1),j=Ae(V,1);for(V=Ae(V,2),C=Ae(C,2);!q(V);){var R=j.add(V);0>=R.l(O)&&(D=D.add(C),j=R),V=Ae(V,1),C=Ae(C,1)}return x=se(O,D.j(x)),new Z(D,x)}for(D=b;0<=O.l(x);){for(C=Math.max(1,Math.floor(O.m()/x.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=v(C),R=j.j(x);F(R)||0<R.l(O);)C-=V,j=v(C),R=j.j(x);q(j)&&(j=w),D=D.add(j),O=se(O,R)}return new Z(D,O)}s.A=function(O){return ce(this,O).h},s.and=function(O){for(var x=Math.max(this.g.length,O.g.length),C=[],V=0;V<x;V++)C[V]=this.i(V)&O.i(V);return new f(C,this.h&O.h)},s.or=function(O){for(var x=Math.max(this.g.length,O.g.length),C=[],V=0;V<x;V++)C[V]=this.i(V)|O.i(V);return new f(C,this.h|O.h)},s.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),C=[],V=0;V<x;V++)C[V]=this.i(V)^O.i(V);return new f(C,this.h^O.h)};function Ie(O){for(var x=O.g.length+1,C=[],V=0;V<x;V++)C[V]=O.i(V)<<1|O.i(V-1)>>>31;return new f(C,O.h)}function Ae(O,x){var C=x>>5;x%=32;for(var V=O.g.length-C,D=[],j=0;j<V;j++)D[j]=0<x?O.i(j+C)>>>x|O.i(j+C+1)<<32-x:O.i(j+C);return new f(D,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=T,rr=f}).apply(typeof Q_<"u"?Q_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZE,Cl,eT,Xc,Am,tT,nT,iT;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var E=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in E))break e;E=E[L]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var E=0,A=!1,L={next:function(){if(!A&&E<c.length){var Y=E++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function v(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,E){return c.call.apply(c.bind,arguments)}function b(c,y,E){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),c.apply(y,L)}}return function(){return c.apply(y,arguments)}}function w(c,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,w.apply(null,arguments)}function k(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function q(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(A,L,Y){for(var re=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)re[Ke-2]=arguments[Ke];return y.prototype[L].apply(A,re)}}function F(c){const y=c.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function U(c,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(g(A)){const L=c.length||0,Y=A.length||0;c.length=L+Y;for(let re=0;re<Y;re++)c[L+re]=A[re]}else c.push(A)}}class se{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Ie=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ae(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function O(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function x(c){const y={};for(const E in c)y[E]=c[E];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)c[E]=A[E];for(let Y=0;Y<C.length;Y++)E=C[Y],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function D(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function j(c){m.setTimeout(()=>{throw c},0)}function R(){var c=Le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Pe{constructor(){this.h=this.g=null}add(y,E){const A=et.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var et=new se(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,Le=new Pe,oe=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(I)}};var I=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(E){j(E)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,y),m.removeEventListener("test",E,y)}catch{}return c})();function ye(c,y){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Ie){e:{try{ce(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ye.aa.h.call(this)}}q(ye,ne);var we={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function at(c,y,E,A,L){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=L,this.key=++Pt,this.da=this.fa=!1}function Zn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ti(c){this.src=c,this.g={},this.h=0}Ti.prototype.add=function(c,y,E,A,L){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var re=la(c,y,A,L);return-1<re?(y=c[re],E||(y.fa=!1)):(y=new at(y,this.src,Y,!!A,L),y.fa=E,c.push(y)),y};function gr(c,y){var E=y.type;if(E in c.g){var A=c.g[E],L=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=L)&&Array.prototype.splice.call(A,L,1),Y&&(Zn(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function la(c,y,E,A){for(var L=0;L<c.length;++L){var Y=c[L];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==A)return L}return-1}var qn="closure_lm_"+(1e6*Math.random()|0),yr={};function ua(c,y,E,A,L){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)ua(c,y[Y],E,A,L);return null}return E=fu(E),c&&c[Ue]?c.K(y,E,v(A)?!!A.capture:!1,L):zh(c,y,E,!1,A,L)}function zh(c,y,E,A,L,Y){if(!y)throw Error("Invalid event type");var re=v(L)?!!L.capture:!!L,Ke=Ao(c);if(Ke||(c[qn]=Ke=new Ti(c)),E=Ke.add(y,E,A,re,Y),E.proxy)return E;if(A=hu(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)ue||(L=re),L===void 0&&(L=!1),c.addEventListener(y.toString(),A,L);else if(c.attachEvent)c.attachEvent(ha(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function hu(){function c(E){return y.call(c.src,c.listener,E)}const y=Bh;return c}function ca(c,y,E,A,L){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ca(c,y[Y],E,A,L);else A=v(A)?!!A.capture:!!A,E=fu(E),c&&c[Ue]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],E=la(Y,E,A,L),-1<E&&(Zn(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ao(c))&&(y=c.g[y.toString()],c=-1,y&&(c=la(y,E,A,L)),(E=-1<c?y[c]:null)&&vr(E))}function vr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ue])gr(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(ha(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Ao(y))?(gr(E,c),E.h==0&&(E.src=null,y[qn]=null)):Zn(c)}}}function ha(c){return c in yr?yr[c]:yr[c]="on"+c}function Bh(c,y){if(c.da)c=!0;else{y=new ye(y,this);var E=c.listener,A=c.ha||c.src;c.fa&&vr(c),c=E.call(A,y)}return c}function Ao(c){return c=c[qn],c instanceof Ti?c:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function fu(c){return typeof c=="function"?c:(c[Lt]||(c[Lt]=function(y){return c.handleEvent(y)}),c[Lt])}function xt(){H.call(this),this.i=new Ti(this),this.M=this,this.F=null}q(xt,H),xt.prototype[Ue]=!0,xt.prototype.removeEventListener=function(c,y,E,A){ca(this,c,y,E,A)};function Nt(c,y){var E,A=c.F;if(A)for(E=[];A;A=A.F)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ne(y,c);else if(y instanceof ne)y.target=y.target||c;else{var L=y;y=new ne(A,c),V(y,L)}if(L=!0,E)for(var Y=E.length-1;0<=Y;Y--){var re=y.g=E[Y];L=Si(re,A,!0,y)&&L}if(re=y.g=c,L=Si(re,A,!0,y)&&L,L=Si(re,A,!1,y)&&L,E)for(Y=0;Y<E.length;Y++)re=y.g=E[Y],L=Si(re,A,!1,y)&&L}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],A=0;A<E.length;A++)Zn(E[A]);delete c.g[y],c.h--}}this.F=null},xt.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},xt.prototype.L=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function Si(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,Y=0;Y<y.length;++Y){var re=y[Y];if(re&&!re.da&&re.capture==E){var Ke=re.listener,yt=re.ha||re.src;re.fa&&gr(c.i,re),L=Ke.call(yt,A)!==!1&&L}}return L&&!A.defaultPrevented}function du(c,y,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function wo(c){c.g=du(()=>{c.g=null,c.i&&(c.i=!1,wo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Hh extends H{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(c){H.call(this),this.h=c,this.g={}}q(_r,H);var as=[];function Yt(c){Ae(c.g,function(y,E){this.g.hasOwnProperty(E)&&vr(y)},c),c.g={}}_r.prototype.N=function(){_r.aa.N.call(this),Yt(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=m.JSON.stringify,tn=m.JSON.parse,qh=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function mu(c){return c.h||(c.h=c.i())}function Er(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function os(){ne.call(this,"d")}q(os,ne);function Fn(){ne.call(this,"c")}q(Fn,ne);var In={},ls=null;function fa(){return ls=ls||new xt}In.La="serverreachability";function Ro(c){ne.call(this,In.La,c)}q(Ro,ne);function bi(c){const y=fa();Nt(y,new Ro(y))}In.STAT_EVENT="statevent";function us(c,y){ne.call(this,In.STAT_EVENT,c),this.stat=y}q(us,ne);function Ut(c){const y=fa();Nt(y,new us(y,c))}In.Ma="timingevent";function Io(c,y){ne.call(this,In.Ma,c),this.size=y}q(Io,ne);function cs(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function hs(){this.g=!0}hs.prototype.xa=function(){this.g=!1};function Co(c,y,E,A,L,Y){c.info(function(){if(c.g)if(Y)for(var re="",Ke=Y.split("&"),yt=0;yt<Ke.length;yt++){var Ce=Ke[yt].split("=");if(1<Ce.length){var Ot=Ce[0];Ce=Ce[1];var jt=Ot.split("_");re=2<=jt.length&&jt[1]=="type"?re+(Ot+"="+Ce+"&"):re+(Ot+"=redacted&")}}else re=null;else re=Y;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+y+`
`+E+`
`+re})}function No(c,y,E,A,L,Y,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+y+`
`+E+`
`+Y+" "+re})}function Ai(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ti(c,E)+(A?" "+A:"")})}function pu(c,y){c.info(function(){return"TIMEOUT: "+y})}hs.prototype.info=function(){};function ti(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var A=E[c];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var Y=L[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var re=1;re<L.length;re++)L[re]=""}}}}return Rn(E)}catch{return y}}var ut={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function fs(){}q(fs,xo),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},ni=new fs;function ii(c,y,E,A){this.j=c,this.i=y,this.l=E,this.R=A||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gu}function gu(){this.i=null,this.g="",this.h=!1}var Do={},wi={};function Tr(c,y,E){c.L=1,c.v=Ar(ct(y)),c.m=E,c.P=!0,xi(c,null)}function xi(c,y){c.F=Date.now(),Gn(c),c.A=ct(c.v);var E=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ci(E.i,"t",A),c.C=0,E=c.j.J,c.h=new gu,c.g=Ou(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Hh(w(c.Y,c,c.g),c.O)),y=c.U,E=c.g,A=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(as[0]=L.toString()),L=as);for(var Y=0;Y<L.length;Y++){var re=ua(E,L[Y],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),bi(),Co(c.i,c.u,c.A,c.l,c.R,c.m)}ii.prototype.ca=function(c){c=c.target;const y=this.M;y&&rn(c)==3?y.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{const jt=rn(this.g);var y=this.g.Ba();const ws=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Rr(this.g)))){this.J||jt!=4||y==7||(y==8||0>=ws?bi(3):bi(2)),da(this);var E=this.g.Z();this.X=E;t:if(Ri(this)){var A=Rr(this.g);c="";var L=A.length,Y=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),ds(this);var re="";break t}this.h.i=new m.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==L-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=E==200,No(this.i,this.u,this.A,this.l,this.R,jt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,yt=this.g;if((Ke=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ke)){var Ce=Ke;break t}}Ce=null}if(E=Ce)Ai(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,si(this,E);else{this.o=!1,this.s=3,Ut(12),nn(this),ds(this);break e}}if(this.P){E=!0;let un;for(;!this.J&&this.C<re.length;)if(un=Sr(this,re),un==wi){jt==4&&(this.s=4,Ut(14),E=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Do){this.s=4,Ut(15),Ai(this.i,this.l,re,"[Invalid Chunk]"),E=!1;break}else Ai(this.i,this.l,un,null),si(this,un);if(Ri(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||re.length!=0||this.h.h||(this.s=1,Ut(16),E=!1),this.o=this.o&&E,!E)Ai(this.i,this.l,re,"[Invalid Chunked Response]"),nn(this),ds(this);else if(0<re.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Ho(Ot),Ot.M=!0,Ut(11))}}else Ai(this.i,this.l,re,null),si(this,re);jt==4&&nn(this),this.o&&!this.J&&(jt==4?Cu(this.j,this):(this.o=!1,Gn(this)))}else bu(this.g),E==400&&0<re.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),nn(this),ds(this)}}}catch{}finally{}};function Ri(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Sr(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?wi:(E=Number(y.substring(E,A)),isNaN(E)?Do:(A+=1,A+E>y.length?wi:(y=y.slice(A,A+E),c.C=A+E,y)))}ii.prototype.cancel=function(){this.J=!0,nn(this)};function Gn(c){c.S=Date.now()+c.I,dt(c,c.I)}function dt(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=cs(w(c.ba,c),y)}function da(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ii.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pu(this.i,this.A),this.L!=2&&(bi(),Ut(17)),nn(this),this.s=2,ds(this)):dt(this,this.S-c)};function ds(c){c.j.G==0||c.J||Cu(c.j,c)}function nn(c){da(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Yt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function si(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||ms(E.h,c))){if(!c.K&&ms(E.h,c)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)bs(E),Ss(E);else break e;Bo(E),Ut(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=cs(w(E.Za,E),6e3));if(1>=yu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Di(E,11)}else if((c.K||E.g==c)&&bs(E),!K(y))for(L=E.Da.g.parse(y),y=0;y<L.length;y++){let Ce=L[y];if(E.T=Ce[0],Ce=Ce[1],E.G==2)if(Ce[0]=="c"){E.K=Ce[1],E.ia=Ce[2];const Ot=Ce[3];Ot!=null&&(E.la=Ot,E.j.info("VER="+E.la));const jt=Ce[4];jt!=null&&(E.Aa=jt,E.j.info("SVER="+E.Aa));const ws=Ce[5];ws!=null&&typeof ws=="number"&&0<ws&&(A=1.5*ws,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const un=c.g;if(un){const Nr=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var Y=A.h;Y.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ps(Y,Y.h),Y.h=null))}if(A.D){const Oi=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Oi&&(A.ya=Oi,He(A.I,A.D,Oi))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var re=c;if(A.qa=Du(A,A.J?A.ia:null,A.W),re.K){Cn(A.h,re);var Ke=re,yt=A.L;yt&&(Ke.I=yt),Ke.B&&(da(Ke),Gn(Ke)),A.g=re}else Ru(A);0<E.i.length&&Ta(E)}else Ce[0]!="stop"&&Ce[0]!="close"||Di(E,7);else E.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Di(E,7):Uo(E):Ce[0]!="noop"&&E.l&&E.l.ta(Ce),E.v=0)}}bi(4)}catch{}}var Fh=class{constructor(c,y){this.g=c,this.map=y}};function Oo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yu(c){return c.h?1:c.g?c.g.size:0}function ms(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ps(c,y){c.g?c.g.add(y):c.h=y}function Cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Oo.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return F(c.i)}function vu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],E=c.length,A=0;A<E;A++)y.push(c[A]);return y}y=[],E=0;for(A in c)y[E++]=c[A];return y}function Gh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const A in c)y[E++]=A;return y}}}function ma(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Gh(c),A=vu(c),L=A.length,Y=0;Y<L;Y++)y.call(void 0,A[Y],E&&E[Y],c)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var A=c[E].indexOf("="),L=null;if(0<=A){var Y=c[E].substring(0,A);L=c[E].substring(A+1)}else Y=c[E];y(Y,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ii){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,br(this,c.s),this.l=c.l;var y=c.i,E=new ri;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ga(this,E),this.m=c.m}else c&&(y=String(c).match(Mo))?(this.h=!1,gs(this,y[1]||"",!0),this.o=ys(y[2]||""),this.g=ys(y[3]||"",!0),br(this,y[4]),this.l=ys(y[5]||"",!0),ga(this,y[6]||"",!0),this.m=ys(y[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}Ii.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Nn(y,Vo,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Nn(y,Vo,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Nn(E,E.charAt(0)=="/"?ko:_u,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Nn(E,Yh)),c.join("")};function ct(c){return new Ii(c)}function gs(c,y,E){c.j=E?ys(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function br(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ga(c,y,E){y instanceof ri?(c.i=y,Eu(c.i,c.h)):(E||(y=Nn(y,Qh)),c.i=new ri(y,c.h))}function He(c,y,E){c.i.set(y,E)}function Ar(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ys(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nn(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Kh),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Kh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,_u=/[#\?:]/g,ko=/[#\?]/g,Qh=/[#\?@]/g,Yh=/#/g;function ri(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}s=ri.prototype,s.add=function(c,y){Dt(this),this.i=null,c=yn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ya(c,y){Dt(c),y=yn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function va(c,y){return Dt(c),y=yn(c,y),c.g.has(y)}s.forEach=function(c,y){Dt(this),this.g.forEach(function(E,A){E.forEach(function(L){c.call(y,L,A,this)},this)},this)},s.na=function(){Dt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const L=c[A];for(let Y=0;Y<L.length;Y++)E.push(y[A])}return E},s.V=function(c){Dt(this);let y=[];if(typeof c=="string")va(this,c)&&(y=y.concat(this.g.get(yn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},s.set=function(c,y){return Dt(this),this.i=null,c=yn(this,c),va(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ci(c,y,E){ya(c,y),0<E.length&&(c.i=null,c.g.set(yn(c,y),F(E)),c.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const Y=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var L=Y;re[A]!==""&&(L+="="+encodeURIComponent(String(re[A]))),c.push(L)}}return this.i=c.join("&")};function yn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Eu(c,y){y&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(E,A){var L=A.toLowerCase();A!=L&&(ya(this,A),Ci(this,L,E))},c)),c.j=y}function Po(c,y){const E=new hs;if(m.Image){const A=new Image;A.onload=k(ln,E,"TestLoadImage: loaded",!0,y,A),A.onerror=k(ln,E,"TestLoadImage: error",!1,y,A),A.onabort=k(ln,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=k(ln,E,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Tu(c,y){const E=new hs,A=new AbortController,L=setTimeout(()=>{A.abort(),ln(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(L),Y.ok?ln(E,"TestPingServer: ok",!0,y):ln(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),ln(E,"TestPingServer: error",!1,y)})}function ln(c,y,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function Kn(){this.g=new qh}function Lo(c,y,E){const A=E||"";try{ma(c,function(L,Y){let re=L;v(L)&&(re=Rn(L)),y.push(A+Y+"="+encodeURIComponent(re))})}catch(L){throw y.push(A+"type="+encodeURIComponent("_badmap")),L}}function ai(c){this.l=c.Ub||null,this.j=c.eb||!1}q(ai,xo),ai.prototype.g=function(){return new vn(this.l,this.j)},ai.prototype.i=(function(c){return function(){return c}})({});function vn(c,y){xt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(vn,xt),s=vn.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,vs(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_a(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?oi(this):vs(this),this.readyState==3&&_a(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,oi(this))},s.Qa=function(c){this.g&&(this.response=c,oi(this))},s.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vs(c)}s.setRequestHeader=function(c,y){this.u.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function vs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wr(c){let y="";return Ae(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function _s(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=wr(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):He(c,y,E))}function tt(c){xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(tt,xt);var Xt=/^https?$/i,Ni=["POST","PUT"];s=tt.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?mu(this.o):mu(ni),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){xr(this,Y);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ni,y,void 0))||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,re]of E)this.g.setRequestHeader(Y,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){xr(this,Y)}};function xr(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Es(c),Ts(c)}function Es(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),Ts(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),tt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Su(this):this.bb())},s.bb=function(){Su(this)};function Su(c){if(c.h&&typeof f<"u"&&(!c.v[1]||rn(c)!=4||c.Z()!=2)){if(c.u&&rn(c)==4)du(c.Ea,0,c);else if(Nt(c,"readystatechange"),rn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=re===0){var L=String(c.D).match(Mo)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),A=!Xt.test(L?L.toLowerCase():"")}E=A}if(E)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var Y=2<rn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Es(c)}}finally{Ts(c)}}}}function Ts(c,y){if(c.g){Ea(c);const E=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Nt(c,"ready");try{E.onreadystatechange=A}catch{}}}function Ea(c){c.I&&(m.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function rn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),tn(y)}};function Rr(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bu(c){const y={};c=(c.g&&2<=rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(K(c[A]))continue;var E=D(c[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[L]||[];y[L]=Y,Y.push(E)}O(y,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Au(c){this.Aa=0,this.i=[],this.j=new hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,c),this.cb=Ir("retryDelaySeedMs",1e4,c),this.Wa=Ir("forwardChannelMaxRetries",2,c),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Oo(c&&c.concurrentRequestLimit),this.Da=new Kn,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Au.prototype,s.la=8,s.G=1,s.connect=function(c,y,E,A){Ut(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Du(this,null,this.W),Ta(this)};function Uo(c){if(wu(c),c.G==3){var y=c.U++,E=ct(c.I);if(He(E,"SID",c.K),He(E,"RID",y),He(E,"TYPE","terminate"),Cr(c,E),y=new ii(c,c.j,y),y.L=2,y.v=Ar(ct(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=y.v,E=!0),E||(y.g=Ou(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Gn(y)}qo(c)}function Ss(c){c.g&&(Ho(c),c.g.cancel(),c.g=null)}function wu(c){Ss(c),c.u&&(m.clearTimeout(c.u),c.u=null),bs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ta(c){if(!jo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||oe(),de||(ae(),de=!0),Le.add(y,c),c.B=0}}function Xh(c,y){return yu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=cs(w(c.Ga,c,y),Nu(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ii(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=x(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(L.H=Y,Y=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=zo(this,L,y),E=ct(this.I),He(E,"RID",c),He(E,"CVER",22),this.D&&He(E,"X-HTTP-Session-Id",this.D),Cr(this,E),Y&&(this.O?y="headers="+encodeURIComponent(String(wr(Y)))+"&"+y:this.m&&_s(E,this.m,Y)),ps(this.h,L),this.Ua&&He(E,"TYPE","init"),this.P?(He(E,"$req",y),He(E,"SID","null"),L.T=!0,Tr(L,E,null)):Tr(L,E,y),this.G=2}}else this.G==3&&(c?xu(this,c):this.i.length==0||jo(this.h)||xu(this))};function xu(c,y){var E;y?E=y.l:E=c.U++;const A=ct(c.I);He(A,"SID",c.K),He(A,"RID",E),He(A,"AID",c.T),Cr(c,A),c.m&&c.o&&_s(A,c.m,c.o),E=new ii(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=zo(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ps(c.h,E),Tr(E,A,y)}function Cr(c,y){c.H&&Ae(c.H,function(E,A){He(y,A,E)}),c.l&&ma({},function(E,A){He(y,A,E)})}function zo(c,y,E){E=Math.min(c.i.length,E);var A=c.l?w(c.l.Na,c.l,c):null;e:{var L=c.i;let Y=-1;for(;;){const re=["count="+E];Y==-1?0<E?(Y=L[0].g,re.push("ofs="+Y)):Y=0:re.push("ofs="+Y);let Ke=!0;for(let yt=0;yt<E;yt++){let Ce=L[yt].g;const Ot=L[yt].map;if(Ce-=Y,0>Ce)Y=Math.max(0,L[yt].g-100),Ke=!1;else try{Lo(Ot,re,"req"+Ce+"_")}catch{A&&A(Ot)}}if(Ke){A=re.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,A}function Ru(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||oe(),de||(ae(),de=!0),Le.add(y,c),c.v=0}}function Bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=cs(w(c.Fa,c),Nu(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=cs(w(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Ss(this),Iu(this))};function Ho(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ct(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),Cr(c,y),c.m&&c.o&&_s(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Ar(ct(y)),E.m=null,E.P=!0,xi(E,c)}s.Za=function(){this.C!=null&&(this.C=null,Ss(this),Bo(this),Ut(19))};function bs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Cu(c,y){var E=null;if(c.g==y){bs(c),Ho(c),c.g=null;var A=2}else if(ms(c.h,y))E=y.D,Cn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var L=c.B;A=fa(),Nt(A,new Io(A,E)),Ta(c)}else Ru(c);else if(L=y.s,L==3||L==0&&0<y.X||!(A==1&&Xh(c,y)||A==2&&Bo(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),L){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function Nu(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Di(c,y){if(c.j.info("Error code "+y),y==2){var E=w(c.fb,c),A=c.Xa;const L=!A;A=new Ii(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gs(A,"https"),Ar(A),L?Po(A.toString(),E):Tu(A.toString(),E)}else Ut(2);c.G=0,c.l&&c.l.sa(y),qo(c),wu(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function qo(c){if(c.G=0,c.ka=[],c.l){const y=sn(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Du(c,y,E){var A=E instanceof Ii?ct(E):new Ii(E);if(A.g!="")y&&(A.g=y+"."+A.g),br(A,A.s);else{var L=m.location;A=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var Y=new Ii(null);A&&gs(Y,A),y&&(Y.g=y),L&&br(Y,L),E&&(Y.l=E),A=Y}return E=c.D,y=c.ya,E&&y&&He(A,E,y),He(A,"VER",c.la),Cr(c,A),A}function Ou(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new tt(new ai({eb:E})):new tt(c.pa),y.Ha(c.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}s=ju.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Sa(){}Sa.prototype.g=function(c,y){return new an(c,y)};function an(c,y){xt.call(this),this.g=new Au(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!K(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new As(this)}q(an,xt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Uo(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Rn(c),c=E);y.i.push(new Fh(y.Ya++,c)),y.G==3&&Ta(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,an.aa.N.call(this)};function Mu(c){os.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}q(Mu,os);function Vu(){Fn.call(this),this.status=1}q(Vu,Fn);function As(c){this.g=c}q(As,ju),As.prototype.ua=function(){Nt(this.g,"a")},As.prototype.ta=function(c){Nt(this.g,new Mu(c))},As.prototype.sa=function(c){Nt(this.g,new Vu)},As.prototype.ra=function(){Nt(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,iT=function(){return new Sa},nT=function(){return fa()},tT=In,Am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,Xc=ut,zt.COMPLETE="complete",eT=zt,Er.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Cl=Er,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,ZE=tt}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore",X_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Fm("@firebase/firestore");function Wa(){return ea.logLevel}function le(s,...e){if(ea.logLevel<=Ve.DEBUG){const n=e.map(sp);ea.debug(`Firestore (${_o}): ${s}`,...n)}}function ns(s,...e){if(ea.logLevel<=Ve.ERROR){const n=e.map(sp);ea.error(`Firestore (${_o}): ${s}`,...n)}}function or(s,...e){if(ea.logLevel<=Ve.WARN){const n=e.map(sp);ea.warn(`Firestore (${_o}): ${s}`,...n)}}function sp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sT(s,r,n)}function sT(s,e,n){let r=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ns(r),new Error(r)}function Qe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||sT(e,o,r)}function be(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class vI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _I{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new rT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class EI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new EI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=bI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ne(s,e){return s<e?-1:s>e?1:0}function wm(s,e){let n=0;for(;n<s.length&&n<e.length;){const r=s.codePointAt(n),o=e.codePointAt(n);if(r!==o){if(r<128&&o<128)return Ne(r,o);{const u=aT(),f=AI(u.encode(J_(s,n)),u.encode(J_(e,n)));return f!==0?f:Ne(r,o)}}n+=r>65535?2:1}return Ne(s.length,e.length)}function J_(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function AI(s,e){for(let n=0;n<s.length&&n<e.length;++n)if(s[n]!==e[n])return Ne(s[n],e[n]);return Ne(s.length,e.length)}function lo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__name__";class fi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ne(e.length,n.length)}static compareSegments(e,n){const r=fi.isNumericId(e),o=fi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rr.fromString(e.substring(4,e.length-2))}}class ot extends fi{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const wI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends fi{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return wI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new Kt([W_])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ot.fromString(e))}static fromName(e){return new ge(ot.fromString(e).popFirst(5))}static empty(){return new ge(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(s,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function RI(s,e,n,r){if(e===!0&&r===!0)throw new me(ie.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Z_(s){if(!ge.isDocumentKey(s))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function oT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ap(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function Gl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ap(s);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(s,e){const n={typeString:s};return e&&(n.value=e),n}function au(s,e){if(!oT(s))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new me(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=-62135596800,t0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*t0);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e0)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t0}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:At("string",st._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new st(0,0))}static max(){return new Te(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function II(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new lr(o,ge.empty(),e)}function CI(s){return new lr(s.readTime,s.key,Kl)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(Te.min(),ge.empty(),Kl)}static max(){return new lr(Te.max(),ge.empty(),Kl)}}function NI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:Ne(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(s){if(s.code!==ie.FAILED_PRECONDITION||s.message!==DI)throw s;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((o=>o?te.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next((T=>{f[v]=T,++m,m===u&&r(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new te(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function jI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ih.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=-1;function Ch(s){return s==null}function ch(s){return s===0&&1/s==-1/0}function MI(s){return typeof s=="number"&&Number.isInteger(s)&&!ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="";function VI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=n0(e)),e=kI(s.get(n),e);return n0(e)}function kI(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case lT:n+="";break;default:n+=u}}return n}function n0(s){return s+lT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function sa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function uT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Gt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Ct(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cT("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const PI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(Qe(!!s,39018),typeof s=="string"){let e=0;const n=PI.exec(s);if(Qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(s.seconds),nanos:gt(s.nanos)}}function gt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="server_timestamp",fT="__type__",dT="__previous_value__",mT="__local_write_time__";function lp(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[fT])===null||n===void 0?void 0:n.stringValue)===hT}function Nh(s){const e=s.mapValue.fields[dT];return lp(e)?Nh(e):e}function Ql(s){const e=ur(s.mapValue.fields[mT].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r,o,u,f,m,g,v,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=T}}const hh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="__type__",UI="__max__",Hc={mapValue:{}},gT="__vector__",fh="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?lp(s)?4:BI(s)?9007199254740991:zI(s)?10:11:Ee(28295,{value:s})}function _i(s,e){if(s===e)return!0;const n=hr(s);if(n!==hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ql(s).isEqual(Ql(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ur(o.timestampValue),m=ur(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return cr(o.bytesValue).isEqual(cr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return lo(s.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(i0(f)!==i0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!_i(f[g],m[g])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function Xl(s,e){return(s.values||[]).find((n=>_i(n,e)))!==void 0}function uo(s,e){if(s===e)return 0;const n=hr(s),r=hr(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return r0(s.timestampValue,e.timestampValue);case 4:return r0(Ql(s),Ql(e));case 5:return wm(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=cr(u),g=cr(f);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let v=0;v<m.length&&v<g.length;v++){const T=Ne(m[v],g[v]);if(T!==0)return T}return Ne(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ne(gt(u.latitude),gt(f.latitude));return m!==0?m:Ne(gt(u.longitude),gt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return a0(s.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,g,v,T;const b=u.fields||{},w=f.fields||{},k=(m=b[fh])===null||m===void 0?void 0:m.arrayValue,q=(g=w[fh])===null||g===void 0?void 0:g.arrayValue,F=Ne(((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0,((T=q==null?void 0:q.values)===null||T===void 0?void 0:T.length)||0);return F!==0?F:a0(k,q)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=f.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const w=wm(g[b],T[b]);if(w!==0)return w;const k=uo(m[g[b]],v[T[b]]);if(k!==0)return k}return Ne(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{le:n})}}function r0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ne(s,e);const n=ur(s),r=ur(e),o=Ne(n.seconds,r.seconds);return o!==0?o:Ne(n.nanos,r.nanos)}function a0(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=uo(n[o],r[o]);if(u)return u}return Ne(n.length,r.length)}function co(s){return xm(s)}function xm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return cr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ge.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=xm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${xm(n.fields[f])}`;return o+"}"})(s.mapValue):Ee(61005,{value:s})}function $c(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+$c(e):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+$c(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return sa(r.fields,((u,f)=>{o+=u.length+$c(f)})),o})(s.mapValue);default:throw Ee(13486,{value:s})}}function Rm(s){return!!s&&"integerValue"in s}function up(s){return!!s&&"arrayValue"in s}function o0(s){return!!s&&"nullValue"in s}function l0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function zI(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[pT])===null||n===void 0?void 0:n.stringValue)===gT}function Vl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return sa(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Vl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(s.arrayValue.values[n]);return e}return Object.assign({},s)}function BI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Kt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Vl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){sa(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new zn(Vl(this.value))}}function yT(s){const e=[];return sa(s.fields,((n,r)=>{const o=new Kt([n]);if(Jc(r)){const u=yT(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),zn.empty(),0)}static newFoundDocument(e,n,r,o){return new Zt(e,1,n,Te.min(),r,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Te.min(),Te.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Te.min(),Te.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function u0(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=ge.comparator(ge.fromName(f.referenceValue),n.key):r=uo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function c0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!_i(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function HI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{}class It extends vT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FI(e,n,r):n==="array-contains"?new QI(e,r):n==="in"?new YI(e,r):n==="not-in"?new XI(e,r):n==="array-contains-any"?new $I(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GI(e,r):new KI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uo(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends vT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ei(e,n)}matches(e){return _T(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function _T(s){return s.op==="and"}function ET(s){return qI(s)&&_T(s)}function qI(s){for(const e of s.filters)if(e instanceof Ei)return!1;return!0}function Im(s){if(s instanceof It)return s.field.canonicalString()+s.op.toString()+co(s.value);if(ET(s))return s.filters.map((e=>Im(e))).join(",");{const e=s.filters.map((n=>Im(n))).join(",");return`${s.op}(${e})`}}function TT(s,e){return s instanceof It?(function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&_i(r.value,o.value)})(s,e):s instanceof Ei?(function(r,o){return o instanceof Ei&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&TT(f,o.filters[m])),!0):!1})(s,e):void Ee(19439)}function ST(s){return s instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`})(s):s instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(ST).join(" ,")+"}"})(s):"Filter"}class FI extends It{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class GI extends It{constructor(e,n){super(e,"in",n),this.keys=bT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KI extends It{constructor(e,n){super(e,"not-in",n),this.keys=bT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bT(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>ge.fromName(r.referenceValue)))}class QI extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return up(n)&&Xl(n.arrayValue,this.value)}}class YI extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class XI extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class $I extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function h0(s,e=null,n=[],r=[],o=null,u=null,f=null){return new JI(s,e,n,r,o,u,f)}function cp(s){const e=be(s);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Im(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>co(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>co(r))).join(",")),e.Pe=n}return e.Pe}function hp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!HI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!TT(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!c0(s.startAt,e.startAt)&&c0(s.endAt,e.endAt)}function Cm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function WI(s,e,n,r,o,u,f,m){return new Dh(s,e,n,r,o,u,f,m)}function fp(s){return new Dh(s)}function f0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ZI(s){return s.collectionGroup!==null}function kl(s){const e=be(s);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Kt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new mh(u,r))})),n.has(Kt.keyField().canonicalString())||e.Te.push(new mh(Kt.keyField(),r))}return e.Te}function pi(s){const e=be(s);return e.Ie||(e.Ie=eC(e,kl(s))),e.Ie}function eC(s,e){if(s.limitType==="F")return h0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)}));const n=s.endAt?new dh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new dh(s.startAt.position,s.startAt.inclusive):null;return h0(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Nm(s,e,n){return new Dh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Oh(s,e){return hp(pi(s),pi(e))&&s.limitType===e.limitType}function AT(s){return`${cp(pi(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>ST(o))).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>co(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>co(o))).join(",")),`Target(${r})`})(pi(s))}; limitType=${s.limitType})`}function jh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ge.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of kl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const v=u0(f,m,g);return f.inclusive?v<=0:v<0})(r.startAt,kl(r),o)||r.endAt&&!(function(f,m,g){const v=u0(f,m,g);return f.inclusive?v>=0:v>0})(r.endAt,kl(r),o))})(s,e)}function tC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function wT(s){return(e,n)=>{let r=!1;for(const o of kl(s)){const u=nC(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function nC(s,e,n){const r=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),v=m.data.field(u);return g!==null&&v!==null?uo(g,v):Ee(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new lt(ge.comparator);function is(){return iC}const xT=new lt(ge.comparator);function Nl(...s){let e=xT;for(const n of s)e=e.insert(n.key,n);return e}function RT(s){let e=xT;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Xr(){return Pl()}function IT(){return Pl()}function Pl(){return new ra((s=>s.toString()),((s,e)=>s.isEqual(e)))}const sC=new lt(ge.comparator),rC=new Ct(ge.comparator);function ke(...s){let e=rC;for(const n of s)e=e.add(n);return e}const aC=new Ct(Ne);function oC(){return aC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function CT(s){return{integerValue:""+s}}function lC(s,e){return MI(e)?CT(e):dp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function uC(s,e,n){return s instanceof ph?(function(o,u){const f={fields:{[fT]:{stringValue:hT},[mT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lp(u)&&(u=Nh(u)),u&&(f.fields[dT]=u),{mapValue:f}})(n,e):s instanceof $l?DT(s,e):s instanceof Jl?OT(s,e):(function(o,u){const f=NT(o,u),m=d0(f)+d0(o.Ee);return Rm(f)&&Rm(o.Ee)?CT(m):dp(o.serializer,m)})(s,e)}function cC(s,e,n){return s instanceof $l?DT(s,e):s instanceof Jl?OT(s,e):n}function NT(s,e){return s instanceof gh?(function(r){return Rm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class ph extends Mh{}class $l extends Mh{constructor(e){super(),this.elements=e}}function DT(s,e){const n=jT(e);for(const r of s.elements)n.some((o=>_i(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Jl extends Mh{constructor(e){super(),this.elements=e}}function OT(s,e){let n=jT(e);for(const r of s.elements)n=n.filter((o=>!_i(o,r)));return{arrayValue:{values:n}}}class gh extends Mh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function d0(s){return gt(s.integerValue||s.doubleValue)}function jT(s){return up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function hC(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof $l&&o instanceof $l||r instanceof Jl&&o instanceof Jl?lo(r.elements,o.elements,_i):r instanceof gh&&o instanceof gh?_i(r.Ee,o.Ee):r instanceof ph&&o instanceof ph})(s.transform,e.transform)}class fC{constructor(e,n){this.version=e,this.transformResults=n}}class Ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vh{}function MT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new kT(s.key,Ji.none()):new ou(s.key,s.data,Ji.none());{const n=s.data,r=zn.empty();let o=new Ct(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new aa(s.key,r,new Jn(o.toArray()),Ji.none())}}function dC(s,e,n){s instanceof ou?(function(o,u,f){const m=o.value.clone(),g=p0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof aa?(function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=p0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(VT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ll(s,e,n,r){return s instanceof ou?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const v=u.value.clone(),T=g0(u.fieldTransforms,g,f);return v.setAll(T),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(s,e,n,r):s instanceof aa?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const v=g0(u.fieldTransforms,g,f),T=f.data;return T.setAll(VT(u)),T.setAll(v),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,e,n,r):(function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function mC(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=NT(r.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(r.field,u))}return n||null}function m0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&lo(r,o,((u,f)=>hC(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ou extends Vh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends Vh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function VT(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function p0(s,e,n){const r=new Map;Qe(s.length===n.length,32656,{Ae:n.length,Re:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,cC(f,m,n[o]))}return r}function g0(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,uC(u,f,e))}return r}class kT extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dC(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ll(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ll(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=MT(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((n,r)=>m0(n,r)))&&lo(this.baseMutations,e.baseMutations,((n,r)=>m0(n,r)))}}class mp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=(function(){return sC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new mp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function _C(s){switch(s){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function PT(s){if(s===void 0)return ns("GRPC error has no .code"),ie.UNKNOWN;switch(s){case St.OK:return ie.OK;case St.CANCELLED:return ie.CANCELLED;case St.UNKNOWN:return ie.UNKNOWN;case St.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case St.INTERNAL:return ie.INTERNAL;case St.UNAVAILABLE:return ie.UNAVAILABLE;case St.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case St.NOT_FOUND:return ie.NOT_FOUND;case St.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case St.ABORTED:return ie.ABORTED;case St.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case St.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:s})}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new rr([4294967295,4294967295],0);function y0(s){const e=aT().encode(s),n=new WE;return n.update(e),new Uint8Array(n.digest())}function v0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rr([n,r],0),new rr([o,u],0)]}class pp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=rr.fromNumber(this.fe)}pe(e,n,r){let o=e.add(n.multiply(rr.fromNumber(r)));return o.compare(EC)===1&&(o=new rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=y0(e),[r,o]=v0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(r,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new pp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=y0(e),[r,o]=v0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(r,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kh(Te.min(),o,new lt(Ne),is(),ke())}}class lu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lu(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=o}}class LT{constructor(e,n){this.targetId=e,this.De=n}}class UT{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class _0{constructor(){this.ve=0,this.Ce=E0(),this.Fe=Qt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),n=ke(),r=ke();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:u})}})),new lu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=E0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class TC{constructor(e){this.We=e,this.Ge=new Map,this.ze=is(),this.je=qc(),this.Je=qc(),this.He=new lt(Ne)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,r=e.De.count,o=this.st(n);if(o){const u=o.target;if(Cm(u))if(r===0){const f=new ge(u.path);this.Xe(n,f,Zt.newNoDocument(f,Te.min()))}else Qe(r===1,20013,{expectedCount:r});else{const f=this.ot(n);if(f!==r){const m=this._t(e),g=m?this.ut(m,e,f):1;if(g!==0){this.rt(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,v)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=cr(r).toUint8Array()}catch(g){if(g instanceof cT)return or("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new pp(f,o,u)}catch(g){return or(g instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&Cm(m.target)){const g=new ge(m.target.path);this.Tt(g).has(f)||this.It(f,g)||this.Xe(f,g,Zt.newNoDocument(g,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let r=ke();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const v=this.st(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new kh(e,n,this.He,this.ze,r);return this.ze=is(),this.je=qc(),this.Je=qc(),this.He=new lt(Ne),o}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new _0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ct(Ne),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ct(Ne),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _0),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function qc(){return new lt(ge.comparator)}function E0(){return new lt(ge.comparator)}const SC={asc:"ASCENDING",desc:"DESCENDING"},bC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC={and:"AND",or:"OR"};class wC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function xC(s,e){return yh(s,e.toTimestamp())}function gi(s){return Qe(!!s,49232),Te.fromTimestamp((function(n){const r=ur(n);return new st(r.seconds,r.nanos)})(s))}function gp(s,e){return Om(s,e).canonicalString()}function Om(s,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function BT(s){const e=ot.fromString(s);return Qe(KT(e),10190,{key:e.toString()}),e}function jm(s,e){return gp(s.databaseId,e.path)}function sm(s,e){const n=BT(e);if(n.get(1)!==s.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(qT(n))}function HT(s,e){return gp(s.databaseId,e)}function RC(s){const e=BT(s);return e.length===4?ot.emptyPath():qT(e)}function Mm(s){return new ot(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function qT(s){return Qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function T0(s,e,n){return{name:jm(s,e),fields:n.value.mapValue.fields}}function IC(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(Qe(T===void 0||typeof T=="string",58123),Qt.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(v){const T=v.code===void 0?ie.UNKNOWN:PT(v.code);return new me(T,v.message||"")})(f);n=new UT(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=sm(s,r.document.name),u=gi(r.document.updateTime),f=r.document.createTime?gi(r.document.createTime):Te.min(),m=new zn({mapValue:{fields:r.document.fields}}),g=Zt.newFoundDocument(o,u,f,m),v=r.targetIds||[],T=r.removedTargetIds||[];n=new Zc(v,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=sm(s,r.document),u=r.readTime?gi(r.readTime):Te.min(),f=Zt.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Zc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=sm(s,r.document),u=r.removedTargetIds||[];n=new Zc([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new vC(o,u),m=r.targetId;n=new LT(m,f)}}return n}function CC(s,e){let n;if(e instanceof ou)n={update:T0(s,e.key,e.value)};else if(e instanceof kT)n={delete:jm(s,e.key)};else if(e instanceof aa)n={update:T0(s,e.key,e.data),updateMask:LC(e.fieldMask)};else{if(!(e instanceof pC))return Ee(16599,{Rt:e.type});n={verify:jm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:xC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(s,e.precondition)),n}function NC(s,e){return s&&s.length>0?(Qe(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(Te.min())&&(f=gi(u)),new fC(f,o.transformResults||[])})(n,e)))):[]}function DC(s,e){return{documents:[HT(s,e.path)]}}function OC(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HT(s,o);const u=(function(v){if(v.length!==0)return GT(Ei.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((T=>(function(w){return{field:eo(w.field),direction:VC(w.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Dm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{Vt:n,parent:o}}function jC(s){let e=RC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const w=FT(b);return w instanceof Ei&&ET(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((w=>(function(q){return new mh(to(q.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,Ch(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(b){const w=!!b.before,k=b.values||[];return new dh(k,w)})(n.startAt));let v=null;return n.endAt&&(v=(function(b){const w=!b.before,k=b.values||[];return new dh(k,w)})(n.endAt)),WI(e,o,f,u,m,"F",g,v)}function MC(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FT(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=to(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(n){return It.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((r=>FT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(s):Ee(30097,{filter:s})}function VC(s){return SC[s]}function kC(s){return bC[s]}function PC(s){return AC[s]}function eo(s){return{fieldPath:s.canonicalString()}}function to(s){return Kt.fromServerFormat(s.fieldPath)}function GT(s){return s instanceof It?(function(n){if(n.op==="=="){if(l0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(o0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(o0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:kC(n.op),value:n.value}}})(s):s instanceof Ei?(function(n){const r=n.getFilters().map((o=>GT(o)));return r.length===1?r[0]:{compositeFilter:{op:PC(n.op),filters:r}}})(s):Ee(54877,{filter:s})}function LC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,o,u=Te.min(),f=Te.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.gt=e}}function zC(s){const e=jC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Dn=new HC}addToCollectionParentIndex(e,n){return this.Dn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(lr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class HC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ct(ot.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ct(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(QT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ho(0)}static ur(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="LruGarbageCollector",qC=1048576;function A0([s,e],[n,r]){const o=Ne(s,n);return o===0?Ne(e,r):o}class FC{constructor(e){this.Tr=e,this.buffer=new Ct(A0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();A0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){le(b0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?le(b0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Rr(3e5)}))}}class KC{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Ih.ue);const r=new FC(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(S0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S0):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,o,u,f,m,g,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(e,r,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(v=Date.now(),Wa()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(v-g)+`ms
Total Duration: ${v-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function QC(s,e){return new KC(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.changes=new ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Ll(r.mutation,o,Jn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ke()){const o=Xr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Nl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ke())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=is();const f=Pl(),m=(function(){return Pl()})();return n.forEach(((g,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof aa)?u=u.insert(v.key,v):T!==void 0?(f.set(v.key,T.mutation.getFieldMask()),Ll(T.mutation,v,T.mutation.getFieldMask(),st.now())):f.set(v.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((v,T)=>f.set(v,T))),n.forEach(((v,T)=>{var b;return m.set(v,new XC(T,(b=f.get(v))!==null&&b!==void 0?b:null))})),m)))}recalculateAndSaveOverlays(e,n){const r=Pl();let o=new lt(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const v=n.get(g);if(v===null)return;let T=r.get(g)||Jn.empty();T=m.applyToLocalView(v,T),r.set(g,T);const b=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,T=g.value,b=IT();T.forEach((w=>{if(!u.has(w)){const k=MT(n.get(w),r.get(w));k!==null&&b.set(w,k),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,b))}return te.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):te.resolve(Xr());let m=Kl,g=u;return f.next((v=>te.forEach(v,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{g=g.insert(T,w)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,g,v,ke()))).next((T=>({batchId:m,changes:RT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let o=Nl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Nl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const v=(function(b,w){return new Dh(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((b,w)=>{f=f.insert(b,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((g,v)=>{const T=v.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))}));let m=Nl();return f.forEach(((g,v)=>{const T=u.get(g);T!==void 0&&Ll(T.mutation,v,Jn.empty(),st.now()),jh(n,v)&&(m=m.insert(g,v))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return te.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:zC(o.bundledQuery),readTime:gi(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.overlays=new lt(ge.comparator),this.kr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.wt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const o=Xr(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new lt(((v,T)=>v-T));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let T=u.get(v.largestBatchId);T===null&&(T=Xr(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const m=Xr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,T)=>m.set(v,T))),!(m.size()>=o)););return te.resolve(m)}wt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new yC(n,r));let u=this.kr.get(n);u===void 0&&(u=ke(),this.kr.set(n,u)),this.kr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.qr=new Ct(Vt.Qr),this.$r=new Ct(Vt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Vt(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new ge(new ot([])),r=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.$r.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ge(new ot([])),r=new Vt(n,e),o=new Vt(n,e+1);let u=ke();return this.$r.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Vt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ge.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ct(Vt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gC(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?op:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Ne);return n.forEach((o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),te.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;ge.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new ge(u),0);let m=new Ct(Ne);return this.Yr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(m=m.add(g.Hr)),!0)}),f),te.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return te.forEach(n.mutations,(o=>{const u=new Vt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new Vt(n,0),o=this.Yr.firstAfterOrEqual(r);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.ni=e,this.docs=(function(){return new lt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=is();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=is();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||NI(CI(T),r)<=0||(o.has(T.key)||jh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ee(9500)}ri(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new n2(this)}getSize(e){return te.resolve(this.size)}}class n2 extends YC{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.persistence=e,this.ii=new ra((n=>cp(n)),hp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.si=0,this.oi=new yp,this.targetCount=0,this._i=ho.ar()}forEachTarget(e,n){return this.ii.forEach(((r,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),te.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.hr(n),te.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.ai={},this.overlays={},this.ui=new Ih(0),this.ci=!1,this.ci=!0,this.li=new ZC,this.referenceDelegate=e(this),this.hi=new i2(this),this.indexManager=new BC,this.remoteDocumentCache=(function(o){return new t2(o)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new UC(n),this.Ti=new JC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new e2(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const o=new s2(this.ui.next());return this.referenceDelegate.Ii(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class s2 extends OI{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.Ai=new yp,this.Ri=null}static Vi(e){return new vp(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,(r=>{const o=ge.fromPath(r);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return te.or([()=>te.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.gi=new ra((r=>VI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=QC(this,n)}static Vi(e,n){return new vh(e,n)}Ii(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return te.forEach(this.gi,((r,o)=>this.Sr(e,r,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$c(e.data.value)),n}Sr(e,n,r){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=o}static Es(e,n){let r=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _p(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return V1()?8:jI(en())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new r2;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,r,o){return r.documentReadCount<this.Vs?(Wa()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(Wa()<=Ve.DEBUG&&le("QueryEngine","Query:",Za(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(Wa()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):te.resolve())}ps(e,n){if(f0(n))return te.resolve(null);let r=pi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Nm(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=ke(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const v=this.bs(n,m);return this.Ds(n,v,f,g.readTime)?this.ps(e,Nm(n,null,"F")):this.vs(e,v,n,g)}))))})))))}ys(e,n,r,o){return f0(n)||o.isEqual(Te.min())?te.resolve(null):this.gs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,r,o)?te.resolve(null):(Wa()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,f,n,II(o,Kl)).next((m=>m)))}))}bs(e,n){let r=new Ct(wT(e));return n.forEach(((o,u)=>{jh(e,u)&&(r=r.add(u))})),r}Ds(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,r){return Wa()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Za(n)),this.gs.getDocumentsMatchingQuery(e,n,lr.min(),r)}vs(e,n,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="LocalStore",o2=3e8;class l2{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new lt(Ne),this.Ms=new ra((u=>cp(u)),hp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function u2(s,e,n,r){return new l2(s,e,n,r)}async function XT(s,e){const n=be(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let g=ke();for(const v of o){f.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of u){m.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((v=>({Bs:v,removedBatchIds:f,addedBatchIds:m})))}))}))}function c2(s,e){const n=be(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,g,v,T){const b=v.batch,w=b.keys();let k=te.resolve();return w.forEach((q=>{k=k.next((()=>T.getEntry(g,q))).next((F=>{const U=v.docVersions.get(q);Qe(U!==null,48541),F.version.compareTo(U)<0&&(b.applyToRemoteDocument(F,v),F.isValidDocument()&&(F.setReadTime(v.commitVersion),T.addEntry(F)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=ke();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function $T(s){const e=be(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function h2(s,e){const n=be(s),r=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach(((T,b)=>{const w=o.get(b);if(!w)return;m.push(n.hi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.hi.addMatchingKeys(u,T.addedDocuments,b))));let k=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Qt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,r)),o=o.insert(b,k),(function(F,U,se){return F.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=o2?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(w,k,T)&&m.push(n.hi.updateTargetData(u,k))}));let g=is(),v=ke();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(f2(u,f,e.documentUpdates).next((T=>{g=T.Ls,v=T.ks}))),!r.isEqual(Te.min())){const T=n.hi.getLastRemoteSnapshotVersion(u).next((b=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(n.Fs=o,u)))}function f2(s,e,n){let r=ke(),o=ke();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=is();return n.forEach(((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(Ep,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)})),{Ls:f,ks:o}}))}function d2(s,e){const n=be(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=op),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function m2(s,e){const n=be(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.hi.getTargetData(r,e).next((u=>u?(o=u,te.resolve(o)):n.hi.allocateTargetId(r).next((f=>(o=new er(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function Vm(s,e,n){const r=be(s),o=r.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!To(f))throw f;le(Ep,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function w0(s,e,n){const r=be(s);let o=Te.min(),u=ke();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,v,T){const b=be(g),w=b.Ms.get(T);return w!==void 0?te.resolve(b.Fs.get(w)):b.hi.getTargetData(v,T)})(r,f,pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:ke()))).next((m=>(p2(r,tC(e),m),{documents:m,qs:u})))))}function p2(s,e,n){let r=s.xs.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.xs.set(e,r)}class x0{constructor(){this.activeTargetIds=oC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g2{constructor(){this.Fo=new x0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new x0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="ConnectivityMonitor";class I0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){le(R0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){le(R0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function km(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RestConnection",v2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===hh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=km(),m=this.Go(e,n.toUriEncodedString());le(rm,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:v}=new URL(m),T=go(v);return this.jo(e,m,g,r,T).then((b=>(le(rm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw or(rm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",r),b}))}Jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const r=v2[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class T2 extends _2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,o,u){const f=km();return new Promise(((m,g)=>{const v=new ZE;v.setWithCredentials(!0),v.listenOnce(eT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Xc.NO_ERROR:const b=v.getResponseJson();le(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Xc.TIMEOUT:le(Jt,`RPC '${e}' ${f} timed out`),g(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const w=v.getStatus();if(le(Jt,`RPC '${e}' ${f} failed with status:`,w,"response text:",v.getResponseText()),w>0){let k=v.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k==null?void 0:k.error;if(q&&q.status&&q.message){const F=(function(se){const K=se.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(K)>=0?K:ie.UNKNOWN})(q.status);g(new me(F,q.message))}else g(new me(ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:f,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{le(Jt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);le(Jt,`RPC '${e}' ${f} sending request:`,o),v.send(n,"POST",T,r,15)}))}P_(e,n,r){const o=km(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=iT(),m=nT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const b=f.createWebChannel(T,g);this.T_(b);let w=!1,k=!1;const q=new E2({Ho:U=>{k?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Yo:()=>b.close()}),F=(U,se,K)=>{U.listen(se,(Z=>{try{K(Z)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return F(b,Cl.EventType.OPEN,(()=>{k||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),q.s_())})),F(b,Cl.EventType.CLOSE,(()=>{k||(k=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),q.__(),this.I_(b))})),F(b,Cl.EventType.ERROR,(U=>{k||(k=!0,or(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),q.__(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),F(b,Cl.EventType.MESSAGE,(U=>{var se;if(!k){const K=U.data[0];Qe(!!K,16349);const Z=K,ce=(Z==null?void 0:Z.error)||((se=Z[0])===null||se===void 0?void 0:se.error);if(ce){le(Jt,`RPC '${e}' stream ${o} received error:`,ce);const Ie=ce.status;let Ae=(function(C){const V=St[C];if(V!==void 0)return PT(V)})(Ie),O=ce.message;Ae===void 0&&(Ae=ie.INTERNAL,O="Unknown error status: "+Ie+" with message "+ce.message),k=!0,q.__(new me(Ae,O)),b.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,K),q.a_(K)}})),F(m,tT.STAT_EVENT,(U=>{U.stat===Am.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Am.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.o_()}),0),q}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(s){return new wC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="PersistentStream";class WT{constructor(e,n,r,o,u,f,m,g){this.Fi=e,this.w_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new JT(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.b_===n&&this.W_(r,o)}),(r=>{e((()=>{const o=new me(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{r((()=>this.G_(o)))})),this.stream.onMessage((o=>{r((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return le(C0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(le(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class S2 extends WT{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=IC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?gi(f.readTime):Te.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Mm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Cm(g)?{documents:DC(u,g)}:{query:OC(u,g).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=zT(u,f.resumeToken);const v=Dm(u,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const v=Dm(u,f.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const r=MC(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.k_(n)}}class b2 extends WT{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=NC(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Mm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>CC(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{}class w2 extends A2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Om(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ie.UNKNOWN,u.toString())}))}Jo(e,n,r,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,Om(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ie.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class x2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ns(n),this._a=!1):le("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class R2{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{r.enqueueAndForget((async()=>{oa(this)&&(le(ta,"Restarting streams for network reachability change."),await(async function(g){const v=be(g);v.Ia.add(4),await uu(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Lh(v)})(this))}))})),this.Aa=new x2(r,o)}}async function Lh(s){if(oa(s))for(const e of s.da)await e(!0)}async function uu(s){for(const e of s.da)await e(!1)}function ZT(s,e){const n=be(s);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Ap(n)?bp(n):So(n).x_()&&Sp(n,e))}function Tp(s,e){const n=be(s),r=So(n);n.Ta.delete(e),r.x_()&&eS(n,e),n.Ta.size===0&&(r.x_()?r.B_():oa(n)&&n.Aa.set("Unknown"))}function Sp(s,e){if(s.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(s).H_(e)}function eS(s,e){s.Ra.$e(e),So(s).Y_(e)}function bp(s){s.Ra=new TC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>s.Ta.get(e)||null,lt:()=>s.datastore.serializer.databaseId}),So(s).start(),s.Aa.aa()}function Ap(s){return oa(s)&&!So(s).M_()&&s.Ta.size>0}function oa(s){return be(s).Ia.size===0}function tS(s){s.Ra=void 0}async function I2(s){s.Aa.set("Online")}async function C2(s){s.Ta.forEach(((e,n)=>{Sp(s,e)}))}async function N2(s,e){tS(s),Ap(s)?(s.Aa.la(e),bp(s)):s.Aa.set("Unknown")}async function D2(s,e,n){if(s.Aa.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(s,e)}catch(r){le(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(s,r)}else if(e instanceof Zc?s.Ra.Ye(e):e instanceof LT?s.Ra.it(e):s.Ra.et(e),!n.isEqual(Te.min()))try{const r=await $T(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ta.get(v);T&&u.Ta.set(v,T.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,v)=>{const T=u.Ta.get(g);if(!T)return;u.Ta.set(g,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),eS(u,g);const b=new er(T.target,g,v,T.sequenceNumber);Sp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){le(ta,"Failed to raise snapshot:",r),await _h(s,r)}}async function _h(s,e,n){if(!To(e))throw e;s.Ia.add(1),await uu(s),s.Aa.set("Offline"),n||(n=()=>$T(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ta,"Retrying IndexedDB access"),await n(),s.Ia.delete(1),await Lh(s)}))}function nS(s,e){return e().catch((n=>_h(s,n,e)))}async function Uh(s){const e=be(s),n=fr(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:op;for(;O2(e);)try{const o=await d2(e.localStore,r);if(o===null){e.Pa.length===0&&n.B_();break}r=o.batchId,j2(e,o)}catch(o){await _h(e,o)}iS(e)&&sS(e)}function O2(s){return oa(s)&&s.Pa.length<10}function j2(s,e){s.Pa.push(e);const n=fr(s);n.x_()&&n.Z_&&n.X_(e.mutations)}function iS(s){return oa(s)&&!fr(s).M_()&&s.Pa.length>0}function sS(s){fr(s).start()}async function M2(s){fr(s).na()}async function V2(s){const e=fr(s);for(const n of s.Pa)e.X_(n.mutations)}async function k2(s,e,n){const r=s.Pa.shift(),o=mp.from(r,e,n);await nS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Uh(s)}async function P2(s,e){e&&fr(s).Z_&&await(async function(r,o){if((function(f){return _C(f)&&f!==ie.ABORTED})(o.code)){const u=r.Pa.shift();fr(r).N_(),await nS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Uh(r)}})(s,e),iS(s)&&sS(s)}async function N0(s,e){const n=be(s);n.asyncQueue.verifyOperationInProgress(),le(ta,"RemoteStore received new credentials");const r=oa(n);n.Ia.add(3),await uu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Lh(n)}async function L2(s,e){const n=be(s);e?(n.Ia.delete(2),await Lh(n)):e||(n.Ia.add(2),await uu(n),n.Aa.set("Unknown"))}function So(s){return s.Va||(s.Va=(function(n,r,o){const u=be(n);return u.ia(),new S2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:I2.bind(null,s),e_:C2.bind(null,s),n_:N2.bind(null,s),J_:D2.bind(null,s)}),s.da.push((async e=>{e?(s.Va.N_(),Ap(s)?bp(s):s.Aa.set("Unknown")):(await s.Va.stop(),tS(s))}))),s.Va}function fr(s){return s.ma||(s.ma=(function(n,r,o){const u=be(n);return u.ia(),new b2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:M2.bind(null,s),n_:P2.bind(null,s),ea:V2.bind(null,s),ta:k2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.N_(),await Uh(s)):(await s.ma.stop(),s.Pa.length>0&&(le(ta,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))}))),s.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new wp(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(s,e){if(ns("AsyncQueue",`${e}: ${s}`),To(s))return new me(ie.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Nl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.fa=new lt(ge.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class fo{constructor(e,n,r,o,u,f,m,g,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new fo(e,n,ao.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class z2{constructor(){this.queries=O0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const o=be(n),u=o.queries;o.queries=O0(),u.forEach(((f,m)=>{for(const g of m.wa)g.onError(r)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function O0(){return new ra((s=>AT(s)),Oh)}async function B2(s,e){const n=be(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(r=2):(u=new U2,r=e.ba()?0:1);try{switch(r){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=xp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Rp(n)}async function H2(s,e){const n=be(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function q2(s,e){const n=be(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(r=!0);f.ya=o}}r&&Rp(n)}function F2(s,e,n){const r=be(s),o=r.queries.get(e);if(o)for(const u of o.wa)u.onError(n);r.queries.delete(e)}function Rp(s){s.Da.forEach((e=>{e.next()}))}var Pm,j0;(j0=Pm||(Pm={})).Fa="default",j0.Cache="cache";class G2{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.key=e}}class aS{constructor(e){this.key=e}}class K2{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=wT(e),this.eu=new ao(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new D0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const w=o.get(T),k=jh(this.query,b)?b:null,q=!!w&&this.mutatedKeys.has(w.key),F=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let U=!1;w&&k?w.data.isEqual(k.data)?q!==F&&(r.track({type:3,doc:k}),U=!0):this.iu(w,k)||(r.track({type:2,doc:k}),U=!0,(g&&this.Xa(k,g)>0||v&&this.Xa(k,v)<0)&&(m=!0)):!w&&k?(r.track({type:0,doc:k}),U=!0):w&&!k&&(r.track({type:1,doc:w}),U=!0,(g||v)&&(m=!0)),U&&(k?(f=f.add(k),u=F?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{eu:f,ru:r,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((T,b)=>(function(k,q){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:U})}};return F(k)-F(q)})(T.type,b.type)||this.Xa(T.doc,b.doc))),this.su(r),o=o!=null&&o;const m=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,v=g!==this.Ya;return this.Ya=g,f.length!==0||v?{snapshot:new fo(this.query,e.eu,u,f,e.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new D0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new aS(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new rS(r))})),n}uu(e){this.Ha=e.qs,this.Za=ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return fo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ip="SyncEngine";class Q2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Y2{constructor(e){this.key=e,this.lu=!1}}class X2{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ra((m=>AT(m)),Oh),this.Tu=new Map,this.Iu=new Set,this.du=new lt(ge.comparator),this.Eu=new Map,this.Au=new yp,this.Ru={},this.Vu=new Map,this.mu=ho.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function $2(s,e,n=!0){const r=fS(s);let o;const u=r.Pu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await oS(r,e,n,!0),o}async function J2(s,e){const n=fS(s);await oS(n,e,!0,!1)}async function oS(s,e,n,r){const o=await m2(s.localStore,pi(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await W2(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&ZT(s.remoteStore,o),m}async function W2(s,e,n,r,o){s.gu=(b,w,k)=>(async function(F,U,se,K){let Z=U.view.nu(se);Z.Ds&&(Z=await w0(F.localStore,U.query,!1).then((({documents:O})=>U.view.nu(O,Z))));const ce=K&&K.targetChanges.get(U.targetId),Ie=K&&K.targetMismatches.get(U.targetId)!=null,Ae=U.view.applyChanges(Z,F.isPrimaryClient,ce,Ie);return V0(F,U.targetId,Ae._u),Ae.snapshot})(s,b,w,k);const u=await w0(s.localStore,e,!0),f=new K2(e,u.qs),m=f.nu(u.documents),g=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),v=f.applyChanges(m,s.isPrimaryClient,g);V0(s,n,v._u);const T=new Q2(e,n,f);return s.Pu.set(e,T),s.Tu.has(n)?s.Tu.get(n).push(e):s.Tu.set(n,[e]),v.snapshot}async function Z2(s,e,n){const r=be(s),o=r.Pu.get(e),u=r.Tu.get(o.targetId);if(u.length>1)return r.Tu.set(o.targetId,u.filter((f=>!Oh(f,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Tp(r.remoteStore,o.targetId),Lm(r,o.targetId)})).catch(Eo)):(Lm(r,o.targetId),await Vm(r.localStore,o.targetId,!0))}async function eN(s,e){const n=be(s),r=n.Pu.get(e),o=n.Tu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tp(n.remoteStore,r.targetId))}async function tN(s,e,n){const r=lN(s);try{const o=await(function(f,m){const g=be(f),v=st.now(),T=m.reduce(((k,q)=>k.add(q.key)),ke());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let q=is(),F=ke();return g.Os.getEntries(k,T).next((U=>{q=U,q.forEach(((se,K)=>{K.isValidDocument()||(F=F.add(se))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,q))).next((U=>{b=U;const se=[];for(const K of m){const Z=mC(K,b.get(K.key).overlayedDocument);Z!=null&&se.push(new aa(K.key,Z,yT(Z.value.mapValue),Ji.exists(!0)))}return g.mutationQueue.addMutationBatch(k,v,se,m)})).next((U=>{w=U;const se=U.applyToLocalDocumentSet(b,F);return g.documentOverlayCache.saveOverlays(k,U.batchId,se)}))})).then((()=>({batchId:w.batchId,changes:RT(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let v=f.Ru[f.currentUser.toKey()];v||(v=new lt(Ne)),v=v.insert(m,g),f.Ru[f.currentUser.toKey()]=v})(r,o.batchId,n),await cu(r,o.changes),await Uh(r.remoteStore)}catch(o){const u=xp(o,"Failed to persist write");n.reject(u)}}async function lS(s,e){const n=be(s);try{const r=await h2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Qe(f.lu,14607):o.removedDocuments.size>0&&(Qe(f.lu,42227),f.lu=!1))})),await cu(n,r,e)}catch(r){await Eo(r)}}function M0(s,e,n){const r=be(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=be(f);g.onlineState=m;let v=!1;g.queries.forEach(((T,b)=>{for(const w of b.wa)w.va(m)&&(v=!0)})),v&&Rp(g)})(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nN(s,e,n){const r=be(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Eu.get(e),u=o&&o.key;if(u){let f=new lt(ge.comparator);f=f.insert(u,Zt.newNoDocument(u,Te.min()));const m=ke().add(u),g=new kh(Te.min(),new Map,new lt(Ne),f,m);await lS(r,g),r.du=r.du.remove(u),r.Eu.delete(e),Cp(r)}else await Vm(r.localStore,e,!1).then((()=>Lm(r,e,n))).catch(Eo)}async function iN(s,e){const n=be(s),r=e.batch.batchId;try{const o=await c2(n.localStore,e);cS(n,r,null),uS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,o)}catch(o){await Eo(o)}}async function sN(s,e,n){const r=be(s);try{const o=await(function(f,m){const g=be(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return g.mutationQueue.lookupMutationBatch(v,m).next((b=>(Qe(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(v,b)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>g.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);cS(r,e,n),uS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cu(r,o)}catch(o){await Eo(o)}}function uS(s,e){(s.Vu.get(e)||[]).forEach((n=>{n.resolve()})),s.Vu.delete(e)}function cS(s,e,n){const r=be(s);let o=r.Ru[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function Lm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Tu.get(e))s.Pu.delete(r),n&&s.hu.pu(r,n);s.Tu.delete(e),s.isPrimaryClient&&s.Au.zr(e).forEach((r=>{s.Au.containsKey(r)||hS(s,r)}))}function hS(s,e){s.Iu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Tp(s.remoteStore,n),s.du=s.du.remove(e),s.Eu.delete(n),Cp(s))}function V0(s,e,n){for(const r of n)r instanceof rS?(s.Au.addReference(r.key,e),rN(s,r)):r instanceof aS?(le(Ip,"Document no longer in limbo: "+r.key),s.Au.removeReference(r.key,e),s.Au.containsKey(r.key)||hS(s,r.key)):Ee(19791,{yu:r})}function rN(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Iu.has(r)||(le(Ip,"New document in limbo: "+n),s.Iu.add(r),Cp(s))}function Cp(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Iu.values().next().value;s.Iu.delete(e);const n=new ge(ot.fromString(e)),r=s.mu.next();s.Eu.set(r,new Y2(n)),s.du=s.du.insert(n,r),ZT(s.remoteStore,new er(pi(fp(n.path)),r,"TargetPurposeLimboResolution",Ih.ue))}}async function cu(s,e,n){const r=be(s),o=[],u=[],f=[];r.Pu.isEmpty()||(r.Pu.forEach(((m,g)=>{f.push(r.gu(g,e,n).then((v=>{var T;if((v||n)&&r.isPrimaryClient){const b=v?!v.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;r.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(v){o.push(v);const b=_p.Es(g.targetId,v);u.push(b)}})))})),await Promise.all(f),r.hu.J_(o),await(async function(g,v){const T=be(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(v,(w=>te.forEach(w.Is,(k=>T.persistence.referenceDelegate.addReference(b,w.targetId,k))).next((()=>te.forEach(w.ds,(k=>T.persistence.referenceDelegate.removeReference(b,w.targetId,k)))))))))}catch(b){if(!To(b))throw b;le(Ep,"Failed to update sequence numbers: "+b)}for(const b of v){const w=b.targetId;if(!b.fromCache){const k=T.Fs.get(w),q=k.snapshotVersion,F=k.withLastLimboFreeSnapshotVersion(q);T.Fs=T.Fs.insert(w,F)}}})(r.localStore,u))}async function aN(s,e){const n=be(s);if(!n.currentUser.isEqual(e)){le(Ip,"User change. New user:",e.toKey());const r=await XT(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((g=>{g.reject(new me(ie.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(n,r.Bs)}}function oN(s,e){const n=be(s),r=n.Eu.get(e);if(r&&r.lu)return ke().add(r.key);{let o=ke();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function fS(s){const e=be(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nN.bind(null,e),e.hu.J_=q2.bind(null,e.eventManager),e.hu.pu=F2.bind(null,e.eventManager),e}function lN(s){const e=be(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sN.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return u2(this.persistence,new a2,e.initialUser,this.serializer)}Du(e){return new YT(vp.Vi,this.serializer)}bu(e){return new g2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class uN extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Qe(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GC(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new YT((r=>vh.Vi(r,n)),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aN.bind(null,this.syncEngine),await L2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new z2})()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=(function(u){return new T2(u)})(e.databaseInfo);return(function(u,f,m,g){return new w2(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new R2(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>M0(this.syncEngine,n,0)),(function(){return I0.C()?new I0:new y2})())}createSyncEngine(e,n){return(function(o,u,f,m,g,v,T){const b=new X2(o,u,f,m,g,v);return T&&(b.fu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=be(o);le(ta,"RemoteStore shutting down."),u.Ia.add(5),await uu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="FirestoreClient";class hN{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{le(dr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(le(dr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function om(s,e){s.asyncQueue.verifyOperationInProgress(),le(dr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await XT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>{or("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then((()=>{le("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{or("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),s._offlineComponents=e}async function k0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await fN(s);le(dr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>N0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>N0(e.remoteStore,o))),s._onlineComponents=e}async function fN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(dr,"Using user provided OfflineComponentProvider");try{await om(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;or("Error using user provided cache. Falling back to memory cache: "+n),await om(s,new Eh)}}else le(dr,"Using default OfflineComponentProvider"),await om(s,new uN(void 0));return s._offlineComponents}async function dS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(dr,"Using user provided OnlineComponentProvider"),await k0(s,s._uninitializedComponentsProvider._online)):(le(dr,"Using default OnlineComponentProvider"),await k0(s,new Um))),s._onlineComponents}function dN(s){return dS(s).then((e=>e.syncEngine))}async function mN(s){const e=await dS(s),n=e.eventManager;return n.onListen=$2.bind(null,e.syncEngine),n.onUnlisten=Z2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eN.bind(null,e.syncEngine),n}function pN(s,e,n={}){const r=new ar;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,v){const T=new cN({next:w=>{T.Ou(),f.enqueueAndForget((()=>H2(u,b)));const k=w.docs.has(m);!k&&w.fromCache?v.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&g&&g.source==="server"?v.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:w=>v.reject(w)}),b=new G2(fp(m.path),T,{includeMetadataChanges:!0,ka:!0});return B2(u,b)})(await mN(s),s.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firestore.googleapis.com",L0=!0;class U0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pS,this.ssl=L0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:L0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qC)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Np{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yI;switch(r.type){case"firstParty":return new TI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=P0.get(n);r&&(le("ComponentProvider","Removing Datastore"),P0.delete(n),r.terminate())})(this),Promise.resolve()}}function gN(s,e,n,r={}){var o;s=Gl(s,Np);const u=go(e),f=s._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;u&&(cE(`https://${g}`),hE("Firestore",!0)),f.host!==pS&&f.host!==g&&or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:r});if(!Jr(v,m)&&(s._setSettings(v),r.mockUserToken)){let T,b;if(typeof r.mockUserToken=="string")T=r.mockUserToken,b=Wt.MOCK_USER;else{T=x1(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wt(w)}s._authCredentials=new vI(new rT(T,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dp(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(au(n,kt._jsonSchema))return new kt(e,r||null,new ge(ot.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:At("string",kt._jsonSchemaVersion),referencePath:At("string")};class Wl extends Dp{constructor(e,n,r){super(e,n,fp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new ge(e))}withConverter(e){return new Wl(this.firestore,e,this._path)}}function lm(s,e,...n){if(s=xn(s),arguments.length===1&&(e=rp.newId()),xI("doc","path",e),s instanceof Np){const r=ot.fromString(e,...n);return Z_(r),new kt(s,null,new ge(r))}{if(!(s instanceof kt||s instanceof Wl))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ot.fromString(e,...n));return Z_(r),new kt(s.firestore,s instanceof Wl?s.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="AsyncQueue";class B0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new JT(this,"async_queue_retry"),this.oc=()=>{const r=am();r&&le(z0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new ar;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!To(e))throw e;le(z0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,ns("INTERNAL UNHANDLED ERROR: ",H0(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=wp.createAndSchedule(this,e,n,r,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:H0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function H0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Op extends Np{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new B0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B0(e),this._firestoreClient=void 0,await e}}}function yN(s,e){const n=typeof s=="object"?s:pE(),r=typeof s=="string"?s:hh,o=Km(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=A1("firestore");u&&gN(o,...u)}return o}function gS(s){if(s._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||vN(s),s._firestoreClient}function vN(s){var e,n,r;const o=s._freezeSettings(),u=(function(m,g,v,T){return new LI(m,g,v,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,mS(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new hN(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Qt.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:At("string",Bn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if(au(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:At("string",yi._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vi(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:At("string",vi._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=/^__.*__$/;class EN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}function vS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:s})}}class Mp{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Th(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vS(this.Ec)&&_N.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class TN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}Dc(e,n,r,o=!1){return new Mp({Ec:e,methodName:n,bc:r,path:Kt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SN(s){const e=s._freezeSettings(),n=Ph(s._databaseId);return new TN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function bN(s,e,n,r,o,u={}){const f=s.Dc(u.merge||u.mergeFields?2:0,e,n,o);SS("Data must be an object, but it was:",f,r);const m=ES(r,f);let g,v;if(u.merge)g=new Jn(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const w=AN(e,b,n);if(!f.contains(w))throw new me(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);xN(T,w)||T.push(w)}g=new Jn(T),v=f.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,v=f.fieldTransforms;return new EN(new zn(m),g,v)}function _S(s,e){if(TS(s=xn(s)))return SS("Unsupported field value:",e,s),ES(s,e);if(s instanceof yS)return(function(r,o){if(!vS(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let g=_S(m,o.yc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=st.fromDate(r);return{timestampValue:yh(o.serializer,u)}}if(r instanceof st){const u=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(r instanceof yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:zT(o.serializer,r._byteString)};if(r instanceof kt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vi)return(function(f,m){return{mapValue:{fields:{[pT]:{stringValue:gT},[fh]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw m.wc("VectorValues must only contain numeric values.");return dp(m.serializer,v)}))}}}}}})(r,o);throw o.wc(`Unsupported field value: ${ap(r)}`)})(s,e)}function ES(s,e){const n={};return uT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(s,((r,o)=>{const u=_S(o,e.Vc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function TS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof yi||s instanceof Bn||s instanceof kt||s instanceof yS||s instanceof vi)}function SS(s,e,n){if(!TS(n)||!oT(n)){const r=ap(n);throw r==="an object"?e.wc(s+" a custom object"):e.wc(s+" "+r)}}function AN(s,e,n){if((e=xn(e))instanceof jp)return e._internalPath;if(typeof e=="string")return bS(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,n)}const wN=new RegExp("[~\\*/\\[\\]]");function bS(s,e,n){if(e.search(wN)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new jp(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Th(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new me(ie.INVALID_ARGUMENT,m+s+g)}function xN(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RN extends AS{data(){return super.data()}}function wS(s,e){return typeof e=="string"?bS(s,e):e instanceof jp?e._internalPath:e._delegate._internalPath}class IN{convertValue(e,n="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sa(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){var n,r,o;const u=(o=(r=(n=e.fields)===null||n===void 0?void 0:n[fh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((f=>gt(f.doubleValue)));return new vi(u)}convertGeoPoint(e){return new yi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=ur(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Qe(KT(r),9688,{name:e});const o=new Yl(r.get(1),r.get(3)),u=new ge(r.popFirst(5));return o.isEqual(n)||ns(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $r extends AS{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$r._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$r._jsonSchemaVersion="firestore/documentSnapshot/1.0",$r._jsonSchema={type:At("string",$r._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class eh extends $r{data(e={}){return super.data(e)}}class Ul{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new eh(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return m.type!==0&&(v=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:NN(m.type),doc:g,oldIndex:v,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(s){s=Gl(s,kt);const e=Gl(s.firestore,Op);return pN(gS(e),s._key).then((n=>MN(e,s,n)))}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:At("string",Ul._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class DN extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function ON(s,e,n){s=Gl(s,kt);const r=Gl(s.firestore,Op),o=CN(s.converter,e);return jN(r,[bN(SN(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Ji.none())])}function jN(s,e){return(function(r,o){const u=new ar;return r.asyncQueue.enqueueAndForget((async()=>tN(await dN(r),o,u))),u.promise})(gS(s),e)}function MN(s,e,n){const r=n.docs.get(e._key),o=new DN(s);return new $r(s,o,e._key,r,new Ol(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){_o=o})(yo),oo(new Wr("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Op(new _I(r.getProvider("auth-internal")),new SI(f,r.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(v.options.projectId,T)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),sr(Y_,X_,e),sr(Y_,X_,"esm2017")})();const VN={apiKey:"AIzaSyDW-YtMEqry5jF6JBfBk-3o_ZKohz9OJfI",authDomain:"my-awesome-site-f3f94.firebaseapp.com",projectId:"my-awesome-site-f3f94",storageBucket:"my-awesome-site-f3f94.firebasestorage.app",messagingSenderId:"60484064662",appId:"1:60484064662:web:3f45d04868d26cd8aaf9b7"},xS=mE(VN),Wi=pI(xS),um=yN(xS),kN=new Yi,Un={templateId:"developer",theme:{fontSize:"medium"},basicInfo:{fullName:"",role:"",email:"",phone:"",summary:""},experience:[],education:[],skills:""},PN=({isOpen:s,onKeepLocal:e,onLoadCloud:n,onClose:r,cloudDate:o,localDate:u})=>s?p.jsx("div",{className:"auth-overlay",children:p.jsxs("div",{className:"auth-modal conflict-modal",style:{position:"relative"},children:[p.jsx("button",{onClick:r,className:"modal-close-btn",style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",color:"#888",fontSize:"1.5rem",cursor:"pointer",padding:"5px",lineHeight:"1",zIndex:10},title:"",children:""}),p.jsx("div",{className:"auth-header",children:p.jsx("h2",{className:"stitch-title-small",style:{color:"#ff4081",margin:0,fontSize:"1.4rem"},children:" Data Conflict"})}),p.jsxs("div",{className:"auth-body",children:[p.jsxs("p",{style:{color:"#ccc",marginBottom:"25px",lineHeight:"1.6"},children:["We found ",p.jsx("strong",{children:"unsaved local changes"})," on this device, but you also have ",p.jsx("strong",{children:"saved data"})," in the cloud."]}),p.jsxs("div",{className:"conflict-comparison",children:[p.jsxs("div",{className:"conflict-card local",children:[p.jsx("div",{className:"conflict-label",children:" THIS DEVICE"}),p.jsx("div",{className:"conflict-value",children:"Local Draft"}),p.jsx("div",{className:"conflict-date",children:u?new Date(u).toLocaleString():"Just now"})]}),p.jsxs("div",{className:"conflict-card cloud",children:[p.jsx("div",{className:"conflict-label",children:" CLOUD"}),p.jsx("div",{className:"conflict-value",children:"Saved Profile"}),p.jsx("div",{className:"conflict-date",children:o?new Date(o).toLocaleString():"Unknown date"})]})]}),p.jsxs("div",{className:"auth-actions",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[p.jsx("button",{onClick:e,className:"auth-submit-btn secondary",style:{background:"transparent",borderColor:"#666",color:"#ccc"},children:" Keep Local (Overwrite Cloud)"}),p.jsx("button",{onClick:n,className:"auth-submit-btn primary",children:" Load from Cloud (Discard Local)"})]})]})]})}):null,RS=J.createContext(),bo=()=>J.useContext(RS),F0="resumeData_v1",LN=({children:s})=>{const[e,n]=J.useState(()=>{let D=null;try{const j=localStorage.getItem(F0);j&&(D=JSON.parse(j))}catch(j){console.warn("LocalStorage parse error:",j)}return D?{...Un,...D,templateId:D.templateId||Un.templateId,theme:D.theme||Un.theme,basicInfo:{...Un.basicInfo,...D.basicInfo||{}},experience:Array.isArray(D.experience)?D.experience.map(j=>({...j,role:j.role||j.title||"",id:j.id||Date.now()+Math.random()})):[],education:Array.isArray(D.education)?D.education:[],skills:D.skills||""}:Un}),[r,o]=J.useState(null),[u,f]=J.useState(!0),[m,g]=J.useState(null),[v,T]=J.useState("saved"),[b,w]=J.useState(null),[k,q]=J.useState(!1),[F,U]=J.useState(null),[se,K]=J.useState(null),Z=J.useRef(!1);J.useEffect(()=>{e!==Un&&(Z.current=!0,T("unsaved"),localStorage.setItem(F0,JSON.stringify(e)))},[e]),J.useEffect(()=>{const D=iR(Wi,async j=>{o(j),j&&!m?Z.current?ce(j.uid):await Ie(j.uid):j||(g(null),n(Un),Z.current=!1,T("saved")),f(!1)});return()=>D()},[]),J.useEffect(()=>{m&&r&&(console.log("Switching to Stable Storage ID:",m),Z.current?ce(m):Ie(m))},[m,r]);const ce=async D=>{var Pe;const j=lm(um,"resumes",D),R=await q0(j);R.exists()?(U(R.data()),K(((Pe=R.data().updatedAt)==null?void 0:Pe.toDate())||null),q(!0)):T("unsaved")},Ie=async D=>{if(D)try{T("saving");const j=lm(um,"resumes",D),R=await q0(j);if(R.exists()){const Pe=R.data();V(Pe),T("saved"),w(new Date),Z.current=!1}}catch(j){console.warn("Cloud load failed:",j),T("error")}},Ae=async()=>{if(!r){alert("     .");return}const D=m||r.uid;console.log("Saving to:",D),T("saving");try{const j=lm(um,"resumes",D);await ON(j,{...e,updatedAt:new Date}),T("saved"),w(new Date),Z.current=!1,alert("Cloud Save Complete! ")}catch(j){console.error("Save failed:",j),T("error"),alert("Save failed: "+j.message)}},O=D=>{D==="keepLocal"?(q(!1),U(null),alert("Kept local data. Don't forget to Save to Cloud!")):D==="loadCloud"&&(F&&(V(F),T("saved"),w(new Date),Z.current=!1,alert("Loaded data from cloud.")),q(!1),U(null))},x=()=>{q(!1),U(null)},C=()=>{window.confirm("Are you sure you want to reset all data? (This cannot be undone)")&&(n(Un),T("saved"),Z.current=!1)},V=D=>{n({...Un,...D,templateId:D.templateId||Un.templateId,theme:D.theme||Un.theme,basicInfo:{...Un.basicInfo,...D.basicInfo||{}},experience:Array.isArray(D.experience)?D.experience:[],education:Array.isArray(D.education)?D.education:[],skills:D.skills||""})};return p.jsxs(RS.Provider,{value:{data:e,setData:n,user:r,saveResume:Ae,resetData:C,importData:V,loading:u,saveStatus:v,lastSaved:b,setCustomDocId:g},children:[s,p.jsx(PN,{isOpen:k,onKeepLocal:()=>O("keepLocal"),onLoadCloud:()=>O("loadCloud"),onClose:x,cloudDate:se,localDate:Date.now()})]})},UN=(s,e="resume_backup.json")=>{const n=JSON.stringify(s,null,2),r=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(r),u=document.createElement("a");u.href=o,u.download=e,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(o)},zN=s=>new Promise((e,n)=>{const r=new FileReader;r.onload=o=>{try{const u=JSON.parse(o.target.result);if(!(u&&(u.basicInfo||u.experience||u.education||u.skills))){n(new Error("Invalid Resume JSON format. Missing core fields."));return}e(u)}catch(u){n(new Error("Failed to parse JSON file: "+u.message))}},r.onerror=()=>n(new Error("File reading failed")),r.readAsText(s)}),BN=({status:s,lastSaved:e,onManualSave:n})=>{const o=(()=>{switch(s){case"saving":return{color:"#00e5ff",text:"Saving...",icon:"",isActionable:!1};case"unsaved":return{color:"#ffb74d",text:"Unsaved Changes (Click to Save)",icon:"",isActionable:!0};case"error":return{color:"#ff5252",text:"Save Failed (Retry)",icon:"",isActionable:!0};case"saved":default:return{color:"#69f0ae",text:"All Saved",icon:"",isActionable:!1}}})(),u=o.isActionable&&n;return p.jsxs("div",{className:`sync-status ${u?"clickable":""}`,title:u?"Click to save immediately":"Auto-save active",onClick:u?n:void 0,style:{cursor:u?"pointer":"default",opacity:u?1:.9,padding:"5px 10px",borderRadius:"20px",background:u?"rgba(255, 255, 255, 0.05)":"transparent",transition:"all 0.2s"},children:[p.jsx("span",{style:{marginRight:"5px"},children:o.icon}),p.jsx("span",{style:{color:o.color,fontWeight:"bold",fontSize:"0.85rem"},children:o.text}),s==="saved"&&e&&p.jsxs("span",{style:{marginLeft:"8px",color:"#666",fontSize:"0.75rem"},children:["(",e.toLocaleTimeString(),")"]})]})},Kr={developer:{basicInfo:{fullName:"Hong Gil Dong",role:"Senior Frontend Developer",email:"hong@example.com",phone:"010-1234-5678",summary:"Passionate logic-driven developer with 5+ years of experience in building scalable web applications using React and Node.js."},experience:[{id:1,company:"Tech Corp",role:"Frontend Team Lead",period:"2022 - Present",desc:"Led the migration from legacy jQuery to React 18. Improved site performance by 40%."},{id:2,company:"Startup Inc",role:"Web Developer",period:"2019 - 2022",desc:"Developed and maintained the main e-commerce platform. Implemented payment gateway integration."}],education:[{id:1,school:"Seoul National University",major:"Computer Science",year:"2019"}],skills:"React, TypeScript, Node.js, AWS, Docker, GraphQL",templateId:"developer"},designer:{basicInfo:{fullName:"Kim Min Ji",role:"Product Designer",email:"minji@design.com",phone:"010-9876-5432",summary:"Creative designer focused on UI/UX with a strong belief in user-centered design principles."},experience:[{id:1,company:"Creative Studio",role:"Senior Designer",period:"2021 - Present",desc:"Designed mobile app interfaces for fintech clients. Conducted user research and A/B testing."}],education:[{id:1,school:"Hongik University",major:"Visual Design",year:"2020"}],skills:"Figma, Adobe XD, Photoshop, Principle, HTML/CSS",templateId:"designer"},future:{templateId:"future",basicInfo:{fullName:"Alex 'Neo' Chen",email:"neo@cyber.net",phone:"010-0000-1010",summary:"Constructing secure and scalable digital fortresses. Specializing in offensive security and AI-driven defense mechanisms.",role:"Cyber Security Architect"},education:[{school:"MIT",major:"Computer Science & AI",year:"2018 - 2022"}],experience:[{company:"Global Defense Corp",role:"Lead Pen-Tester",period:"2023 - Present",desc:"Identified and patched 50+ critical vulnerabilities in core infrastructure."},{company:"Startup AI",role:"Security Engineer",period:"2022 - 2023",desc:"Implemented zero-trust architecture for cloud services."}],skills:"Python, Rust, Penetration Testing, Cryptography, AI Security"},executive:{templateId:"executive",basicInfo:{fullName:"James H. Sterling",email:"j.sterling@enterprise.corp",phone:"+82 10-1234-9999",summary:"Visionary Executive with 15+ years of leadership experience in driving operational excellence and revenue growth. Proven track record of turning around underperforming units and leading global teams.",role:"Chief Operating Officer"},education:[{school:"Stanford GSB",major:"MBA",year:"2010"}],experience:[{company:"Enterprise Corp",role:"VP of Operations",period:"2018 - Present",desc:"Oversaw global operations across 3 continents. Increased efficiency by 35%."},{company:"Global Consult",role:"Senior Consultant",period:"2012 - 2018",desc:"Advised Fortune 500 companies on strategic mergers and acquisitions."}],skills:"Strategic Planning, Change Management, P&L Mgmt, Leadership"},startup:{templateId:"startup",basicInfo:{fullName:"Sarah J. Kim",email:"sarah.kim@rocket.growth",phone:"+82 10-5678-1234",summary:"Growth Hacker & Product Owner who thrives in chaos. 3x Exit Experience. I build products that people actually want and scale them from 0 to 1M users.",role:"Head of Growth"},education:[{school:"Y Combinator",major:"S21 Batch",year:"2021"},{school:"KAIST",major:"Industrial Design",year:"2018"}],experience:[{company:"Rocket Launch",role:"Co-Founder",period:"2021 - Present",desc:"Bootstrapped from $0 to $1M ARR in 12 months."},{company:"Unicorn Inc",role:"Product Manager",period:"2018 - 2021",desc:"Led the mobile app redesign resulting in 200% retention lift."}],skills:"A/B Testing, SQL, Product Strategy, UX Research, Figma"}},HN=({isOpen:s,onClose:e})=>{const[n,r]=J.useState(!1),o="https://heejung240000.lemonsqueezy.com/checkout/buy/4bbcc3ca-bd77-4bb5-9d94-be1370c56cdb";if(!s)return null;const u=()=>{if(!Wi.currentUser){alert("   .");return}const f=Wi.currentUser.uid,m=Wi.currentUser.email;let g=o;g.includes("?")?g+=`&checkout[custom][user_id]=${f}&checkout[email]=${m}`:g+=`?checkout[custom][user_id]=${f}&checkout[email]=${m}`,console.log("Opening Lemon Squeezy Checkout:",g);try{r(!0),window.LemonSqueezy?(window.LemonSqueezy.Url.Open(g),r(!1)):(window.open(g,"_blank"),r(!1))}catch(v){console.error("Payment Error:",v),alert("     ."),r(!1)}};return p.jsx("div",{className:"pm-overlay",onClick:e,children:p.jsxs("div",{className:"pm-container",onClick:f=>f.stopPropagation(),children:[p.jsx("button",{className:"pm-close-btn",onClick:e,children:""}),p.jsxs("div",{className:"pm-content",children:[p.jsxs("div",{className:"pm-header",children:[p.jsx("h2",{children:"Developer Pro"}),p.jsx("p",{className:"pm-subtitle",children:"Unlock Your Full Potential"})]}),p.jsxs("div",{className:"pm-body",children:[p.jsxs("div",{className:"pm-features-list",children:[p.jsxs("div",{className:"pm-feature-item",children:[p.jsx("span",{className:"pm-icon",children:""}),p.jsxs("div",{className:"pm-feature-text",children:[p.jsx("strong",{children:"   "}),p.jsx("p",{children:"   5  "})]})]}),p.jsxs("div",{className:"pm-feature-item",children:[p.jsx("span",{className:"pm-icon",children:""}),p.jsxs("div",{className:"pm-feature-text",children:[p.jsx("strong",{children:"PDF  &  "}),p.jsx("p",{children:"  PDF "})]})]}),p.jsxs("div",{className:"pm-feature-item",children:[p.jsx("span",{className:"pm-icon",children:""}),p.jsxs("div",{className:"pm-feature-text",children:[p.jsx("strong",{children:"  "}),p.jsx("p",{children:"    ."})]})]})]}),p.jsxs("div",{className:"pm-footer",children:[p.jsxs("div",{className:"pm-price-box",children:[p.jsx("span",{className:"pm-price-label",children:"One-time payment"}),p.jsx("span",{className:"pm-price-value",children:"5,000"})]}),p.jsx("button",{className:"pm-cta-btn",onClick:u,disabled:n,children:n?" ...":"  "})]})]})]})]})})},Ja=({title:s,children:e,defaultOpen:n=!1})=>{const[r,o]=J.useState(n);return p.jsxs("div",{className:"accordion-item",children:[p.jsxs("div",{className:"accordion-header",onClick:()=>o(!r),children:[p.jsx("span",{children:s}),p.jsx("span",{children:r?"":""})]}),r&&p.jsx("div",{className:"accordion-content",children:e})]})},qN=()=>{var R,Pe,et,X,ae,de,Le;const s=bo();if(!s)return p.jsx("div",{style:{color:"white",padding:20},children:"Error: ResumeContext not found."});const{data:e,setData:n,saveResume:r,user:o,resetData:u,importData:f,saveStatus:m,lastSaved:g}=s,v=J.useRef(null);if(!e)return p.jsx("div",{style:{color:"white",padding:20},children:"Loading Data..."});const T=oe=>{const{name:I,value:H}=oe.target;["fullName","role","email","phone","summary"].includes(I)?n(ne=>({...ne,basicInfo:{...ne.basicInfo,[I]:H}})):n(ne=>({...ne,[I]:H}))},b=(oe,I,H)=>{const{name:ne,value:ue}=oe.target;n(ye=>{const we=[...ye[H]||[]];return we[I]={...we[I],[ne]:ue},{...ye,[H]:we}})},w=oe=>{const I=oe==="experience"?{id:Date.now(),company:"",role:"",period:"",desc:""}:{id:Date.now(),school:"",major:"",year:""};n(H=>({...H,[oe]:[...H[oe]||[],I]}))},k=(oe,I)=>{n(H=>({...H,[I]:H[I].filter((ne,ue)=>ue!==oe)}))},q=()=>{var oe;UN(e,`resume_backup_${((oe=e.basicInfo)==null?void 0:oe.fullName)||"draft"}.json`)},F=()=>{var oe;(oe=v.current)==null||oe.click()},U=async oe=>{const I=oe.target.files[0];if(I)try{const H=await zN(I);window.confirm("This will overwrite your current data. Continue?")&&(f(H),alert("Resume loaded successfully! "))}catch(H){alert(H.message)}finally{oe.target.value=""}},se=oe=>{const I=oe.target.files[0];if(!I)return;if(I.size>500*1024){alert("Image is too large! Please use an image under 500KB.");return}const H=new FileReader;H.onloadend=()=>{n(ne=>({...ne,basicInfo:{...ne.basicInfo,profileImage:H.result}}))},H.readAsDataURL(I)},K=()=>{window.confirm("Remove profile photo?")&&n(oe=>({...oe,basicInfo:{...oe.basicInfo,profileImage:null}}))},[Z,ce]=J.useState(!1),[Ie,Ae]=J.useState(!1),O=()=>{Z?C():Ae(!0)},x=()=>{ce(!0),C()},C=()=>{window.confirm("Load 'Developer' Example Template? Current data will be replaced.")&&Kr.developer&&f(Kr.developer)},D=new URLSearchParams(window.location.search).get("dev")==="true",j=oe=>{n(I=>({...I,templateId:oe}))};return p.jsxs("div",{className:"editor-panel",children:[p.jsxs("div",{className:"editor-header",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[p.jsxs("h2",{children:["Editor ",D&&p.jsx("span",{style:{color:"#ff4081",fontSize:"0.8rem"},children:"(DEV)"})]}),p.jsx(BN,{status:m,lastSaved:g,onManualSave:r})]}),p.jsx("input",{type:"file",ref:v,style:{display:"none"},accept:".json",onChange:U}),p.jsxs("div",{className:"editor-actions",style:{gap:"8px",flexWrap:"wrap"},children:[Z?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>{window.confirm("Load Developer Template?")&&f(Kr.developer)},className:"save-btn-secondary",style:{border:"1px solid #ffd700",color:"#ffd700",background:"rgba(255, 215, 0, 0.1)"},children:"Load Dev"}),p.jsx("button",{onClick:()=>{window.confirm("Load Designer Template?")&&f(Kr.designer)},className:"save-btn-secondary",style:{border:"1px solid #e040fb",color:"#e040fb",background:"rgba(224, 64, 251, 0.1)"},children:"Load Designer"}),p.jsx("button",{onClick:()=>{window.confirm("Load Future Template?")&&f(Kr.future)},className:"save-btn-secondary",style:{border:"1px solid #00e5ff",color:"#00e5ff",background:"rgba(0, 229, 255, 0.1)"},children:"Load Future"}),p.jsx("button",{onClick:()=>{window.confirm("Load Executive Template?")&&f(Kr.executive)},className:"save-btn-secondary",style:{border:"1px solid #c5a059",color:"#c5a059",background:"rgba(197, 160, 89, 0.1)"},children:"Load Executive"}),p.jsx("button",{onClick:()=>{window.confirm("Load Startup Template?")&&f(Kr.startup)},className:"save-btn-secondary",style:{border:"1px solid #ff3b30",color:"#ff3b30",background:"rgba(255, 59, 48, 0.1)"},children:"Load Startup"})]}):p.jsx("button",{onClick:O,className:"save-btn-secondary",style:{border:"1px solid #aaa",color:"#aaa",background:"transparent"},children:" Premium Templates"}),p.jsx("button",{onClick:q,className:"save-btn-secondary",title:"Download backup",children:" Backup"}),p.jsx("button",{onClick:F,className:"save-btn-secondary",title:"Restore from backup",children:" Restore"}),p.jsx("button",{onClick:u,className:"save-btn-danger",title:"Clear all data",children:" Reset"}),p.jsx("button",{onClick:r,className:"save-btn-primary",children:o?" Save (Manual)":" Save (Login Req)"})]})]}),p.jsxs("div",{className:"editor-scroll-area",children:[D&&p.jsx(Ja,{title:"0. Template Selector (Dev Only)",defaultOpen:!0,children:p.jsx("div",{className:"template-selector-grid",children:["developer","designer","future","executive","startup"].map(oe=>p.jsx("button",{onClick:()=>j(oe),className:`template-option-btn ${e.templateId===oe?"active":""}`,children:oe.charAt(0).toUpperCase()+oe.slice(1)},oe))})}),p.jsx(Ja,{title:" Template & Style",defaultOpen:!0,children:p.jsxs("div",{className:"form-group-dark",children:[p.jsx("label",{children:"Font Size"}),p.jsx("div",{className:"text-size-options",style:{display:"flex",gap:"5px",marginTop:"5px"},children:["small","medium","large","x-large"].map(oe=>{var I,H;return p.jsx("button",{onClick:()=>n(ne=>({...ne,theme:{...ne.theme,fontSize:oe}})),className:`size-btn ${((I=e.theme)==null?void 0:I.fontSize)===oe?"active":""}`,style:{flex:1,padding:"5px",background:((H=e.theme)==null?void 0:H.fontSize)===oe?"#007bff":"#333",color:"white",border:"1px solid #555",borderRadius:"4px",cursor:"pointer",fontSize:"12px",textTransform:"capitalize"},children:oe},oe)})})]})}),p.jsxs(Ja,{title:"1. Basic Info",defaultOpen:!0,children:[p.jsxs("div",{className:"form-group-dark",style:{textAlign:"center",marginBottom:"20px"},children:[p.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:(R=e.basicInfo)!=null&&R.profileImage?`url(${e.basicInfo.profileImage}) center/cover`:"#333",margin:"0 auto 10px auto",border:"2px solid #555"}}),p.jsxs("label",{className:"save-btn-secondary",style:{cursor:"pointer",display:"inline-block",fontSize:"12px"},children:[" Upload Photo",p.jsx("input",{type:"file",accept:"image/*",onChange:se,style:{display:"none"}})]}),((Pe=e.basicInfo)==null?void 0:Pe.profileImage)&&p.jsx("button",{onClick:K,style:{background:"transparent",border:"none",color:"#ff4444",marginLeft:"10px",cursor:"pointer",fontSize:"12px"},children:"Remove"}),p.jsx("div",{style:{fontSize:"10px",color:"#777",marginTop:"5px"},children:"(Max 500KB. Stored locally in JSON.)"})]}),p.jsxs("div",{className:"form-group-dark",children:[p.jsx("label",{children:"Full Name"}),p.jsx("input",{name:"fullName",value:((et=e.basicInfo)==null?void 0:et.fullName)||"",onChange:T,placeholder:"Hong Gil Dong"})]}),p.jsxs("div",{className:"form-group-dark",children:[p.jsx("label",{children:"Position / Role"}),p.jsx("input",{name:"role",value:((X=e.basicInfo)==null?void 0:X.role)||"",onChange:T,placeholder:"Senior Developer"})]}),p.jsxs("div",{className:"form-row-dark",children:[p.jsxs("div",{className:"form-group-dark",children:[p.jsx("label",{children:"Email"}),p.jsx("input",{name:"email",value:((ae=e.basicInfo)==null?void 0:ae.email)||"",onChange:T,placeholder:"email@example.com"})]}),p.jsxs("div",{className:"form-group-dark",children:[p.jsx("label",{children:"Phone"}),p.jsx("input",{name:"phone",value:((de=e.basicInfo)==null?void 0:de.phone)||"",onChange:T,placeholder:"010-0000-0000"})]})]}),p.jsxs("div",{className:"form-group-dark",children:[p.jsx("label",{children:"Summary / Intro"}),p.jsx("textarea",{name:"summary",value:((Le=e.basicInfo)==null?void 0:Le.summary)||"",onChange:T,rows:4})]})]}),p.jsxs(Ja,{title:"2. Experience",children:[(e.experience||[]).map((oe,I)=>p.jsxs("div",{className:"sub-card",children:[p.jsxs("div",{className:"card-top-actions",children:[p.jsxs("span",{className:"card-num",children:["#",I+1]}),p.jsx("button",{onClick:()=>k(I,"experience"),className:"delete-btn",children:""})]}),p.jsx("input",{className:"input-dark",name:"company",value:oe.company||"",onChange:H=>b(H,I,"experience"),placeholder:"Company Name"}),p.jsx("input",{className:"input-dark",name:"role",value:oe.role||"",onChange:H=>b(H,I,"experience"),placeholder:"Job Title"}),p.jsx("input",{className:"input-dark",name:"period",value:oe.period||"",onChange:H=>b(H,I,"experience"),placeholder:"Period (e.g. 2020 - Present)"}),p.jsx("textarea",{className:"input-dark",name:"desc",value:oe.desc||"",onChange:H=>b(H,I,"experience"),placeholder:"Description...",rows:3})]},I)),p.jsx("button",{onClick:()=>w("experience"),className:"add-btn-dark",children:"+ Add Experience"})]}),p.jsxs(Ja,{title:"3. Education",children:[(e.education||[]).map((oe,I)=>p.jsxs("div",{className:"sub-card",children:[p.jsxs("div",{className:"card-top-actions",children:[p.jsxs("span",{className:"card-num",children:["#",I+1]}),p.jsx("button",{onClick:()=>k(I,"education"),className:"delete-btn",children:""})]}),p.jsx("input",{className:"input-dark",name:"school",value:oe.school||"",onChange:H=>b(H,I,"education"),placeholder:"School Name"}),p.jsx("input",{className:"input-dark",name:"major",value:oe.major||"",onChange:H=>b(H,I,"education"),placeholder:"Major"}),p.jsx("input",{className:"input-dark",name:"year",value:oe.year||"",onChange:H=>b(H,I,"education"),placeholder:"Graduation Year"})]},I)),p.jsx("button",{onClick:()=>w("education"),className:"add-btn-dark",children:"+ Add Education"})]}),p.jsx(Ja,{title:"4. Skills",children:p.jsxs("div",{className:"form-group-dark",children:[p.jsx("label",{children:"List your skills (comma separated)"}),p.jsx("textarea",{name:"skills",value:e.skills||"",onChange:T,rows:4,placeholder:"React, Python, Design..."})]})})]}),p.jsx(HN,{isOpen:Ie,onClose:()=>Ae(!1),onUnlockSuccess:x})]})},FN=J.forwardRef(({data:s},e)=>{var u,f,m,g,v,T,b,w;const[n,r]=bt.useState(!1),o=bt.useRef(null);return bt.useEffect(()=>{const k=()=>{if(o.current){const F=o.current.scrollHeight;r(F>1130)}};k();const q=new ResizeObserver(k);return o.current&&q.observe(o.current),()=>q.disconnect()},[s]),s?p.jsxs("div",{className:`a4-page ${(s==null?void 0:s.__mode)||"preview"} font-size-${((u=s.theme)==null?void 0:u.fontSize)||"medium"}`,ref:k=>{o.current=k,typeof e=="function"?e(k):e&&(e.current=k)},id:"resume-print-root",children:[n&&p.jsx("div",{style:{position:"absolute",top:-40,left:"50%",transform:"translateX(-50%)",background:"#ff4444",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.2)",zIndex:9999,whiteSpace:"nowrap",animation:"bounce 1s infinite"},className:"overflow-warning",children:" Content Exceeds 1 Page (Will be Cut Off)"}),p.jsxs("div",{className:"resume-content-wrapper",children:[p.jsxs("header",{className:"form-header",children:[p.jsx("div",{className:"form-icon",children:""}),p.jsxs("div",{className:"form-title-group",children:[p.jsx("h1",{className:"form-title",children:((f=s.basicInfo)==null?void 0:f.role)||"APPLICATION FORM"}),p.jsx("p",{className:"form-desc",children:((m=s.basicInfo)==null?void 0:m.summary)||"Please review the candidate's professional details below. This document serves as a standard profile summary."})]})]}),p.jsxs("section",{className:"form-section",children:[p.jsx("h2",{className:"form-section-title",children:"PERSONAL INFORMATION"}),p.jsxs("div",{className:"form-field-row",children:[p.jsx("span",{className:"field-bullet",children:""}),p.jsx("span",{className:"field-label",children:"Full Name:"}),p.jsx("div",{className:"field-input",children:(g=s.basicInfo)==null?void 0:g.fullName})]}),p.jsxs("div",{className:"form-field-row",children:[p.jsx("span",{className:"field-bullet",children:""}),p.jsx("span",{className:"field-label",children:"Position:"}),p.jsx("div",{className:"field-input",children:(v=s.basicInfo)==null?void 0:v.role})]}),p.jsxs("div",{className:"form-field-row",children:[p.jsx("span",{className:"field-bullet",children:""}),p.jsx("span",{className:"field-label",children:"Email Address:"}),p.jsx("div",{className:"field-input",children:(T=s.basicInfo)==null?void 0:T.email})]}),p.jsxs("div",{className:"form-field-row",children:[p.jsx("span",{className:"field-bullet",children:""}),p.jsx("span",{className:"field-label",children:"Phone Number:"}),p.jsx("div",{className:"field-input",children:(b=s.basicInfo)==null?void 0:b.phone})]})]}),p.jsxs("section",{className:"form-section",children:[p.jsx("h2",{className:"form-section-title",children:"PROFESSIONAL EXPERIENCE"}),(!s.experience||s.experience.length===0)&&p.jsx("div",{style:{color:"#ccc",padding:"10px"},children:"(No Experience Added)"}),(s.experience||[]).map((k,q)=>p.jsxs("div",{className:"form-exp-item",children:[p.jsxs("div",{className:"exp-header-row",children:[p.jsxs("div",{className:"field-half",children:[p.jsx("span",{className:"field-bullet",children:""}),p.jsx("span",{className:"field-label",children:"Company:"}),p.jsx("div",{className:"field-input",children:k.company})]}),p.jsxs("div",{className:"field-half",children:[p.jsx("span",{className:"field-label",children:"Date:"}),p.jsx("div",{className:"field-input",children:k.period})]})]}),p.jsxs("div",{className:"form-field-row",style:{marginTop:"-4px"},children:[p.jsx("span",{className:"field-bullet",style:{visibility:"hidden"},children:""}),p.jsx("span",{className:"field-label",children:"Role:"}),p.jsx("div",{className:"field-input",children:k.role})]}),p.jsx("div",{className:"exp-desc-box",children:k.desc})]},q))]}),p.jsxs("section",{className:"form-section",children:[p.jsx("h2",{className:"form-section-title",children:"EDUCATION"}),(!s.education||s.education.length===0)&&p.jsx("div",{style:{color:"#ccc",padding:"10px"},children:"(No Education Added)"}),(s.education||[]).map((k,q)=>p.jsxs("div",{className:"form-field-row",children:[p.jsx("span",{className:"field-bullet",children:""}),p.jsx("span",{className:"field-label",children:"School:"}),p.jsxs("div",{className:"field-input",children:[k.school," (",k.major,") - ",k.year]})]},q))]}),p.jsxs("section",{className:"form-section",children:[p.jsx("h2",{className:"form-section-title",children:"SKILLS & QUALIFICATIONS"}),p.jsxs("div",{className:"skills-container",children:[(Array.isArray(s.skills)?s.skills:String(s.skills||"").split(",").map(k=>k.trim()).filter(Boolean)).map((k,q)=>p.jsxs("div",{className:"checkbox-item",children:[p.jsx("div",{className:"checkbox-box",children:""}),p.jsx("span",{children:k})]},q)),(!s.skills||s.skills.length===0)&&p.jsx("div",{style:{color:"#ccc",fontSize:"12px"},children:"(No Skills Added)"})]})]}),p.jsxs("div",{className:"form-footer",children:[p.jsx("h2",{className:"form-section-title",children:"AGREEMENT"}),p.jsx("p",{className:"agreement-text",children:"I hereby certify that the information contained in this application form is true and correct to the best of my knowledge. I understand that any misrepresentation may lead to disqualification."}),p.jsxs("div",{className:"signature-row",children:[p.jsxs("div",{className:"field-half",children:[p.jsx("span",{className:"field-label",children:"Signature:"}),p.jsx("div",{className:"field-input",style:{fontFamily:'"Dancing Script", cursive',fontSize:"24px",lineHeight:"1.2"},children:(w=s.basicInfo)==null?void 0:w.fullName})]}),p.jsxs("div",{className:"field-half",children:[p.jsx("span",{className:"field-label",children:"Date:"}),p.jsx("div",{className:"field-input",children:new Date().toISOString().slice(0,10)})]})]})]})]})]}):null}),GN=J.forwardRef(({data:s},e)=>{var T,b,w,k,q,F,U,se;const[n,r]=bt.useState(!1),o=bt.useRef(null);if(bt.useEffect(()=>{const K=()=>{if(o.current){const ce=o.current.scrollHeight;r(ce>1130)}};K();const Z=new ResizeObserver(K);return o.current&&Z.observe(o.current),()=>Z.disconnect()},[s]),!s)return null;const u="#8e24aa",f="#f3e5f5",m="#333",v={page:{display:"grid",gridTemplateColumns:"32% 68%",height:"100%",minHeight:"297mm",fontFamily:"'Inter', 'Segoe UI', sans-serif",color:m},sidebar:{background:f,padding:"40px 20px",display:"flex",flexDirection:"column",gap:"30px",borderRight:"1px solid rgba(0,0,0,0.05)"},main:{padding:"40px 30px",background:"white",display:"flex",flexDirection:"column",gap:"25px"},avatarPlaceholder:{width:"120px",height:"120px",background:u,borderRadius:"50%",margin:"0 auto 10px auto",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",color:"white",boxShadow:"0 4px 10px rgba(142, 36, 170, 0.3)"},nameTitle:{textAlign:"center",marginBottom:"10px"},h1:{fontSize:"28px",fontWeight:"800",color:u,margin:0,lineHeight:1.2},role:{fontSize:"14px",color:"#666",fontWeight:"600",marginTop:"5px",textTransform:"uppercase",letterSpacing:"1px"},sectionTitleSide:{fontSize:"16px",fontWeight:"700",color:u,textTransform:"uppercase",borderBottom:`2px solid ${u}`,paddingBottom:"5px",marginBottom:"15px"},sectionTitleMain:{fontSize:"20px",fontWeight:"800",color:m,textTransform:"uppercase",display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},contactItem:{fontSize:"13px",marginBottom:"10px",wordBreak:"break-all"},contactLabel:{fontWeight:"bold",display:"block",fontSize:"11px",color:u},skillTag:{display:"inline-block",background:"white",border:`1px solid ${u}`,color:u,padding:"4px 10px",borderRadius:"15px",fontSize:"12px",marginBottom:"8px",marginRight:"5px",fontWeight:"600"},expItem:{marginBottom:"25px",position:"relative",paddingLeft:"20px",borderLeft:"2px solid #eee"},expCompany:{fontSize:"16px",fontWeight:"bold",color:m},expRole:{fontSize:"14px",color:u,fontWeight:"600",marginBottom:"5px"},expDate:{fontSize:"12px",color:"#999",marginBottom:"8px"},expDesc:{fontSize:"13px",lineHeight:1.6,color:"#555"}};return p.jsxs("div",{className:`a4-page ${(s==null?void 0:s.__mode)||"preview"}`,ref:K=>{o.current=K,typeof e=="function"?e(K):e&&(e.current=K)},id:"resume-print-root",style:{padding:0},children:[n&&p.jsx("div",{className:"overflow-warning",style:{position:"absolute",top:10,left:"50%",transform:"translateX(-50%)",background:u,color:"white",padding:"8px 16px",borderRadius:"20px",zIndex:9999,whiteSpace:"nowrap",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:" Minimize Content to Fit 1 Page"}),p.jsxs("div",{style:v.page,children:[p.jsxs("aside",{style:v.sidebar,children:[p.jsxs("div",{style:v.nameTitle,children:[(T=s.basicInfo)!=null&&T.profileImage?p.jsx("img",{src:s.basicInfo.profileImage,alt:"Profile",style:{...v.avatarPlaceholder,background:"none",objectFit:"cover"}}):p.jsx("div",{style:v.avatarPlaceholder,children:((w=(b=s.basicInfo)==null?void 0:b.fullName)==null?void 0:w.charAt(0))||"D"}),p.jsx("h1",{style:v.h1,children:(k=s.basicInfo)==null?void 0:k.fullName}),p.jsx("div",{style:v.role,children:((q=s.basicInfo)==null?void 0:q.role)||"Designer"})]}),p.jsxs("section",{children:[p.jsx("h2",{style:v.sectionTitleSide,children:"Contact"}),p.jsxs("div",{style:v.contactItem,children:[p.jsx("span",{style:v.contactLabel,children:"EMAIL"}),(F=s.basicInfo)==null?void 0:F.email]}),p.jsxs("div",{style:v.contactItem,children:[p.jsx("span",{style:v.contactLabel,children:"PHONE"}),(U=s.basicInfo)==null?void 0:U.phone]})]}),p.jsxs("section",{children:[p.jsx("h2",{style:v.sectionTitleSide,children:"Skills"}),p.jsx("div",{children:(Array.isArray(s.skills)?s.skills:String(s.skills||"").split(",").map(K=>K.trim()).filter(Boolean)).map((K,Z)=>p.jsx("span",{style:v.skillTag,children:K},Z))})]})]}),p.jsxs("main",{style:v.main,children:[p.jsxs("section",{children:[p.jsxs("h2",{style:v.sectionTitleMain,children:[p.jsx("span",{style:{color:u},children:"//"})," Profile"]}),p.jsx("p",{style:{fontSize:"14px",lineHeight:1.7,color:"#555"},children:((se=s.basicInfo)==null?void 0:se.summary)||"Driven creative professional with a passion for user-centric design and innovative solutions."})]}),p.jsxs("section",{children:[p.jsxs("h2",{style:v.sectionTitleMain,children:[p.jsx("span",{style:{color:u},children:"//"})," Experience"]}),p.jsx("div",{children:(s.experience||[]).map((K,Z)=>p.jsxs("div",{style:v.expItem,children:[p.jsx("div",{style:v.expCompany,children:K.company}),p.jsx("div",{style:v.expRole,children:K.role}),p.jsx("div",{style:v.expDate,children:K.period}),p.jsx("div",{style:v.expDesc,children:K.desc})]},Z))})]}),p.jsxs("section",{children:[p.jsxs("h2",{style:v.sectionTitleMain,children:[p.jsx("span",{style:{color:u},children:"//"})," Education"]}),(s.education||[]).map((K,Z)=>p.jsxs("div",{style:{marginBottom:"15px"},children:[p.jsx("div",{style:{fontWeight:"bold",fontSize:"15px"},children:K.school}),p.jsxs("div",{style:{fontSize:"13px",color:"#666"},children:[K.major,", ",K.year]})]},Z))]})]})]})]})}),KN=J.forwardRef(({data:s},e)=>{var b,w,k,q,F,U,se;const[n,r]=bt.useState(!1),o=bt.useRef(null);if(bt.useEffect(()=>{const K=()=>{if(o.current){const ce=o.current.scrollHeight;r(ce>1130)}};K();const Z=new ResizeObserver(K);return o.current&&Z.observe(o.current),()=>Z.disconnect()},[s]),!s)return null;const u="#00e5ff",f="#ffffff",m="#111",g="#666",v="#eee";bt.useEffect(()=>{const K=document.createElement("link");return K.href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap",K.rel="stylesheet",document.head.appendChild(K),()=>document.head.removeChild(K)},[]);const T={page:{background:f,color:m,fontFamily:"'Inter', sans-serif",padding:"40px 50px",minHeight:"297mm",display:"flex",flexDirection:"column",gap:"30px"},header:{borderBottom:`1px solid ${u}`,paddingBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},name:{fontFamily:"'Orbitron', sans-serif",fontSize:"32px",fontWeight:"700",letterSpacing:"2px",textTransform:"uppercase",margin:0},role:{fontFamily:"'Orbitron', sans-serif",fontSize:"14px",color:u,fontWeight:"600",letterSpacing:"1px",marginTop:"5px"},contact:{fontSize:"12px",textAlign:"right",color:g,lineHeight:1.6},section:{marginBottom:"10px"},sectionTitle:{fontFamily:"'Orbitron', sans-serif",fontSize:"16px",fontWeight:"700",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px",color:m},line:{flex:1,height:"1px",background:v},grid2:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px"},expItem:{marginBottom:"20px",borderLeft:`2px solid ${u}`,paddingLeft:"15px"},expHeader:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},expRole:{fontWeight:"700",fontSize:"14px"},expDate:{fontSize:"12px",color:u,fontFamily:"'Orbitron', sans-serif"},expCompany:{fontSize:"13px",color:g,marginBottom:"5px"},skillTag:{border:`1px solid ${v}`,padding:"5px 10px",fontSize:"11px",display:"inline-block",marginRight:"8px",marginBottom:"8px",fontFamily:"'Orbitron', sans-serif",color:g}};return p.jsxs("div",{className:`a4-page ${(s==null?void 0:s.__mode)||"preview"}`,ref:K=>{o.current=K,typeof e=="function"?e(K):e&&(e.current=K)},style:{padding:0},children:[n&&p.jsx("div",{style:{position:"absolute",top:10,left:"50%",transform:"translateX(-50%)",background:u,color:"black",padding:"5px 15px",borderRadius:"4px",zIndex:9999,fontSize:"12px",fontWeight:"bold"},children:"SYSTEM OVERLOAD: REDUCE CONTENT"}),p.jsxs("div",{style:T.page,children:[p.jsxs("header",{style:T.header,children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[((b=s.basicInfo)==null?void 0:b.profileImage)&&p.jsx("img",{src:s.basicInfo.profileImage,alt:"Profile",style:{width:"80px",height:"80px",objectFit:"cover",clipPath:"polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%)",border:`2px solid ${u}`}}),p.jsxs("div",{children:[p.jsx("h1",{style:T.name,children:(w=s.basicInfo)==null?void 0:w.fullName}),p.jsx("div",{style:T.role,children:((k=s.basicInfo)==null?void 0:k.role)||"CYBER SECURITY ANALYST"})]})]}),p.jsxs("div",{style:T.contact,children:[p.jsx("div",{children:(q=s.basicInfo)==null?void 0:q.email}),p.jsx("div",{children:(F=s.basicInfo)==null?void 0:F.phone}),p.jsx("div",{children:(U=s.basicInfo)==null?void 0:U.address})]})]}),p.jsxs("section",{style:T.section,children:[p.jsxs("div",{style:T.sectionTitle,children:[p.jsx("span",{style:{color:u},children:">"})," MISSION OBJECTIVE ",p.jsx("div",{style:T.line})]}),p.jsx("p",{style:{fontSize:"13px",lineHeight:1.6,color:"#444"},children:(se=s.basicInfo)==null?void 0:se.summary})]}),p.jsxs("div",{style:T.grid2,children:[p.jsxs("div",{children:[p.jsxs("div",{style:T.sectionTitle,children:[p.jsx("span",{style:{color:u},children:">"})," LOGS (EXPERIENCE) ",p.jsx("div",{style:T.line})]}),(s.experience||[]).map((K,Z)=>p.jsxs("div",{style:T.expItem,children:[p.jsxs("div",{style:T.expHeader,children:[p.jsx("span",{style:T.expRole,children:K.role}),p.jsx("span",{style:T.expDate,children:K.period})]}),p.jsx("div",{style:T.expCompany,children:K.company}),p.jsx("div",{style:{fontSize:"12px",color:"#555"},children:K.desc})]},Z))]}),p.jsxs("div",{children:[p.jsxs("div",{style:{marginBottom:"30px"},children:[p.jsxs("div",{style:T.sectionTitle,children:[p.jsx("span",{style:{color:u},children:">"})," PROTOCOLS (SKILLS) ",p.jsx("div",{style:T.line})]}),p.jsx("div",{children:(Array.isArray(s.skills)?s.skills:String(s.skills||"").split(",").map(K=>K.trim()).filter(Boolean)).map((K,Z)=>p.jsx("span",{style:T.skillTag,children:K},Z))})]}),p.jsxs("div",{children:[p.jsxs("div",{style:T.sectionTitle,children:[p.jsx("span",{style:{color:u},children:">"})," DATABASE (EDUCATION) ",p.jsx("div",{style:T.line})]}),(s.education||[]).map((K,Z)=>p.jsxs("div",{style:{marginBottom:"15px"},children:[p.jsx("div",{style:{fontWeight:"bold",fontSize:"13px"},children:K.school}),p.jsx("div",{style:{fontSize:"12px",color:u},children:K.major}),p.jsx("div",{style:{fontSize:"11px",color:g},children:K.year})]},Z))]})]})]})]})]})}),QN=J.forwardRef(({data:s},e)=>{var b,w,k,q,F,U,se;const[n,r]=bt.useState(!1),o=bt.useRef(null);if(bt.useEffect(()=>{const K=()=>{if(o.current){const ce=o.current.scrollHeight;r(ce>1130)}};K();const Z=new ResizeObserver(K);return o.current&&Z.observe(o.current),()=>Z.disconnect()},[s]),!s)return null;const u="#1a237e",f="#c5a059",m="#222",g="#555",v="#ddd";bt.useEffect(()=>{const K=document.createElement("link");return K.href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&family=Lato:wght@400;700&display=swap",K.rel="stylesheet",document.head.appendChild(K),()=>document.head.removeChild(K)},[]);const T={page:{background:"#ffffff",color:m,fontFamily:"'Lato', sans-serif",padding:"50px 60px",minHeight:"297mm",display:"flex",flexDirection:"column",gap:"35px"},header:{borderBottom:`2px solid ${u}`,paddingBottom:"25px",textAlign:"center"},name:{fontFamily:"'Merriweather', serif",fontSize:"36px",fontWeight:"900",color:u,margin:"0 0 10px 0",letterSpacing:"-0.5px"},role:{fontFamily:"'Merriweather', serif",fontSize:"16px",color:f,fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"15px"},contactRow:{display:"flex",justifyContent:"center",gap:"20px",fontSize:"13px",color:g,fontFamily:"'Lato', sans-serif"},section:{marginBottom:"10px"},sectionTitle:{fontFamily:"'Merriweather', serif",fontSize:"18px",fontWeight:"700",color:u,textTransform:"uppercase",borderBottom:`1px solid ${f}`,paddingBottom:"8px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},summaryText:{fontSize:"14px",lineHeight:1.8,color:"#333",textAlign:"justify"},expItem:{marginBottom:"25px",display:"grid",gridTemplateColumns:"180px 1fr",gap:"20px"},expDate:{fontSize:"13px",color:g,fontWeight:"700",textAlign:"right",paddingTop:"3px"},expContent:{display:"flex",flexDirection:"column",gap:"5px"},expRole:{fontSize:"15px",fontWeight:"700",color:u,fontFamily:"'Merriweather', serif"},expCompany:{fontSize:"14px",fontStyle:"italic",color:"#444"},expDesc:{fontSize:"13px",lineHeight:1.6,color:"#444",marginTop:"5px"},skillGrid:{display:"flex",flexWrap:"wrap",gap:"12px"},skillTag:{border:`1px solid ${v}`,borderRadius:"4px",padding:"6px 14px",fontSize:"12px",background:"#fcfcfc",color:"#333"},eduItem:{marginBottom:"15px",display:"flex",justifyContent:"space-between",borderBottom:`1px dashed ${v}`,paddingBottom:"10px"}};return p.jsxs("div",{className:`a4-page ${(s==null?void 0:s.__mode)||"preview"}`,ref:K=>{o.current=K,typeof e=="function"?e(K):e&&(e.current=K)},style:{padding:0},children:[n&&p.jsx("div",{style:{position:"absolute",top:10,left:"50%",transform:"translateX(-50%)",background:u,color:"white",padding:"5px 15px",borderRadius:"4px",zIndex:9999,fontSize:"12px",fontWeight:"bold"},children:" Reduce Content for Executive Layout"}),p.jsxs("div",{style:T.page,children:[p.jsxs("header",{style:T.header,children:[p.jsx("h1",{style:T.name,children:(b=s.basicInfo)==null?void 0:b.fullName}),p.jsx("div",{style:T.role,children:((w=s.basicInfo)==null?void 0:w.role)||"Chief Executive Officer"}),((k=s.basicInfo)==null?void 0:k.profileImage)&&p.jsx("div",{style:{margin:"0 auto 20px auto",width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",border:`3px solid ${f}`},children:p.jsx("img",{src:s.basicInfo.profileImage,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}})}),p.jsxs("div",{style:T.contactRow,children:[p.jsx("span",{children:(q=s.basicInfo)==null?void 0:q.email}),p.jsx("span",{children:""}),p.jsx("span",{children:(F=s.basicInfo)==null?void 0:F.phone}),p.jsx("span",{children:""}),p.jsx("span",{children:((U=s.basicInfo)==null?void 0:U.address)||"Seoul, Republic of Korea"})]})]}),p.jsxs("section",{style:T.section,children:[p.jsx("div",{style:T.sectionTitle,children:"Professional Profile"}),p.jsx("p",{style:T.summaryText,children:(se=s.basicInfo)==null?void 0:se.summary})]}),p.jsxs("section",{style:T.section,children:[p.jsx("div",{style:T.sectionTitle,children:"Executive Experience"}),p.jsx("div",{children:(s.experience||[]).map((K,Z)=>p.jsxs("div",{style:T.expItem,children:[p.jsx("div",{style:T.expDate,children:K.period}),p.jsxs("div",{style:T.expContent,children:[p.jsx("div",{style:T.expRole,children:K.role}),p.jsx("div",{style:T.expCompany,children:K.company}),p.jsx("div",{style:T.expDesc,children:K.desc})]})]},Z))})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"40px"},children:[p.jsxs("section",{children:[p.jsx("div",{style:T.sectionTitle,children:"Education"}),(s.education||[]).map((K,Z)=>p.jsxs("div",{style:T.eduItem,children:[p.jsx("div",{style:{fontWeight:"700"},children:K.school}),p.jsx("div",{style:{fontSize:"13px"},children:K.year}),p.jsx("div",{style:{fontSize:"12px",fontStyle:"italic",width:"100%",marginTop:"5px"},children:K.major})]},Z))]}),p.jsxs("section",{children:[p.jsx("div",{style:T.sectionTitle,children:"Core Competencies"}),p.jsx("div",{style:T.skillGrid,children:(Array.isArray(s.skills)?s.skills:String(s.skills||"").split(",").map(K=>K.trim()).filter(Boolean)).map((K,Z)=>p.jsx("span",{style:T.skillTag,children:K},Z))})]})]})]})]})}),YN=J.forwardRef(({data:s},e)=>{var g,v,T,b,w,k,q;const[n,r]=bt.useState(!1),o=bt.useRef(null);if(bt.useEffect(()=>{const F=()=>{if(o.current){const se=o.current.scrollHeight;r(se>1130)}};F();const U=new ResizeObserver(F);return o.current&&U.observe(o.current),()=>U.disconnect()},[s]),!s)return null;const u="#ff3b30",f="#000";bt.useEffect(()=>{const F=document.createElement("link");return F.href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&family=Inter:wght@400;600;800&display=swap",F.rel="stylesheet",document.head.appendChild(F),()=>document.head.removeChild(F)},[]);const m={page:{background:"#ffffff",color:f,fontFamily:"'Inter', sans-serif",padding:"40px",minHeight:"297mm",display:"grid",gridTemplateColumns:"1fr 2fr",gap:"40px"},leftCol:{borderRight:`4px solid ${f}`,paddingRight:"30px",display:"flex",flexDirection:"column",gap:"30px"},rightCol:{display:"flex",flexDirection:"column",gap:"40px"},name:{fontFamily:"'Oswald', sans-serif",fontSize:"64px",lineHeight:.9,fontWeight:"700",textTransform:"uppercase",color:f,wordBreak:"break-word"},role:{fontFamily:"'Inter', sans-serif",fontSize:"18px",fontWeight:"800",background:f,color:"#fff",display:"inline-block",padding:"5px 12px",marginTop:"20px",textTransform:"uppercase"},sectionTitle:{fontFamily:"'Oswald', sans-serif",fontSize:"24px",fontWeight:"700",textTransform:"uppercase",borderBottom:`4px solid ${u}`,display:"inline-block",marginBottom:"20px",paddingBottom:"5px"},contactItem:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",display:"flex",flexDirection:"column"},contactLabel:{fontSize:"10px",color:"#666",textTransform:"uppercase"},expItem:{marginBottom:"30px"},expRole:{fontSize:"20px",fontWeight:"800",color:u},expCompany:{fontSize:"16px",fontWeight:"700",marginBottom:"5px"},expDate:{fontSize:"14px",fontWeight:"500",color:"#555",fontStyle:"italic",marginBottom:"10px"},expDesc:{fontSize:"14px",lineHeight:1.5,fontWeight:"400"},skillTag:{display:"inline-block",padding:"8px 12px",background:"#eee",fontSize:"14px",fontWeight:"700",margin:"0 8px 8px 0",borderLeft:`3px solid ${u}`},summaryBox:{border:`2px solid ${f}`,padding:"20px",fontSize:"15px",lineHeight:1.6,fontWeight:"500"}};return p.jsxs("div",{className:`a4-page ${(s==null?void 0:s.__mode)||"preview"}`,ref:F=>{o.current=F,typeof e=="function"?e(F):e&&(e.current=F)},style:{padding:0},children:[n&&p.jsx("div",{style:{position:"absolute",top:10,right:10,background:u,color:"white",padding:"5px 10px",zIndex:9999,fontSize:"12px",fontWeight:"bold"},children:" OVERFLOW"}),p.jsxs("div",{style:m.page,children:[p.jsxs("div",{style:m.leftCol,children:[p.jsxs("div",{children:[p.jsx("h1",{style:m.name,children:(g=s.basicInfo)==null?void 0:g.fullName}),p.jsx("div",{style:m.role,children:((v=s.basicInfo)==null?void 0:v.role)||"Growth Hacker"})]}),((T=s.basicInfo)==null?void 0:T.profileImage)&&p.jsx("img",{src:s.basicInfo.profileImage,alt:"Profile",style:{width:"100%",aspectRatio:"1/1",objectFit:"cover",filter:"grayscale(100%) contrast(1.2)"}}),p.jsxs("div",{children:[p.jsx("div",{style:m.sectionTitle,children:"Contact"}),p.jsxs("div",{style:m.contactItem,children:[p.jsx("span",{style:m.contactLabel,children:"Email"}),(b=s.basicInfo)==null?void 0:b.email]}),p.jsxs("div",{style:m.contactItem,children:[p.jsx("span",{style:m.contactLabel,children:"Phone"}),(w=s.basicInfo)==null?void 0:w.phone]}),p.jsxs("div",{style:m.contactItem,children:[p.jsx("span",{style:m.contactLabel,children:"Base"}),((k=s.basicInfo)==null?void 0:k.address)||"Seoul, KR"]})]}),p.jsxs("div",{children:[p.jsx("div",{style:m.sectionTitle,children:"Skills"}),p.jsx("div",{children:(Array.isArray(s.skills)?s.skills:String(s.skills||"").split(",").map(F=>F.trim()).filter(Boolean)).map((F,U)=>p.jsx("span",{style:m.skillTag,children:F},U))})]})]}),p.jsxs("div",{style:m.rightCol,children:[p.jsxs("div",{style:m.summaryBox,children:['"',(q=s.basicInfo)==null?void 0:q.summary,'"']}),p.jsxs("div",{children:[p.jsx("div",{style:m.sectionTitle,children:"Experience"}),(s.experience||[]).map((F,U)=>p.jsxs("div",{style:m.expItem,children:[p.jsx("div",{style:m.expRole,children:F.role}),p.jsx("div",{style:m.expCompany,children:F.company}),p.jsx("div",{style:m.expDate,children:F.period}),p.jsx("div",{style:m.expDesc,children:F.desc})]},U))]}),p.jsxs("div",{children:[p.jsx("div",{style:m.sectionTitle,children:"Education"}),(s.education||[]).map((F,U)=>p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsx("div",{style:{fontSize:"18px",fontWeight:"800"},children:F.school}),p.jsxs("div",{style:{fontSize:"14px",color:"#555"},children:[F.major," | ",F.year]})]},U))]})]})]})]})}),IS=J.forwardRef(({data:s},e)=>{switch((s==null?void 0:s.templateId)||"developer"){case"startup":return p.jsx(YN,{data:s,ref:e});case"executive":return p.jsx(QN,{data:s,ref:e});case"future":return p.jsx(KN,{data:s,ref:e});case"designer":return p.jsx(GN,{data:s,ref:e});case"developer":default:return p.jsx(FN,{data:s,ref:e})}}),XN=(s,e=40)=>{const[n,r]=J.useState(1),o=794,u=1123;return J.useLayoutEffect(()=>{const f=()=>{if(!s.current)return;const{clientWidth:g,clientHeight:v}=s.current,T=g-e,b=v-e,w=T/o,k=b/u,q=Math.min(w,k,1);r(q>0?q:.1)};f();const m=new ResizeObserver(()=>{requestAnimationFrame(f)});return s.current&&m.observe(s.current),()=>m.disconnect()},[s]),n},$N=(s,e,n=1060,r={})=>{const[o,u]=J.useState(16),[f,m]=J.useState("OK"),g=r.minSize||10,v=r.step||.5;return J.useEffect(()=>{if(!s.current)return;const T=s.current;if(!(r.active!==!1)){T.style.fontSize="",m("OK"),u(16);return}let w=16;T.style.fontSize=`${w}px`;const k=()=>{const F=n||T.clientHeight,U=T.scrollHeight;return{allowed:F,actual:U,isOver:U>F+1}},q=()=>{let{allowed:F,actual:U,isOver:se}=k(),K=!1;if(console.log(`[AutoFit] Start: Size=${w}px, Allowed=${F}px, Actual=${U}px`),se)for(;se&&w>g;){w-=v,T.style.fontSize=`${w}px`;const Z=k();F=Z.allowed,U=Z.actual,se=Z.isOver,K=!0}console.log(`[AutoFit] End: Size=${w}px, IsOver=${se}, Status=${se?"OVER":K?"ADJUSTED":"OK"}`),u(w),m(se?"OVER":K?"ADJUSTED":"OK")};requestAnimationFrame(()=>{requestAnimationFrame(q)})},[e,n,g,v,r.active]),{fontSize:o,status:f}},JN=({isOpen:s,onClose:e,data:n})=>{const r=J.useRef(null),o=J.useRef(null),u=XN(r),[f,m]=J.useState("fit"),[g,v]=J.useState(null),T=f==="fit"?u:1,[b,w]=J.useState(!0),{fontSize:k}=$N(o,n,1050,{minSize:10,active:b});return J.useEffect(()=>{s&&console.log("React-to-print disabled for build check")},[s]),J.useEffect(()=>{const q=F=>{F.key==="Escape"&&e()};return s&&window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[s,e]),s?p.jsx("div",{className:"preview-modal-overlay",children:p.jsxs("div",{className:"preview-modal-content",children:[p.jsxs("div",{className:"preview-modal-header",children:[p.jsxs("div",{className:"preview-header-left",children:[p.jsx("span",{className:"preview-title",children:"A4 Print Preview"}),p.jsx("div",{className:"toolbar-group",children:p.jsxs("label",{className:"toolbar-label",children:[p.jsx("input",{type:"checkbox",checked:b,onChange:q=>w(q.target.checked)}),"Force 1-Page"]})}),p.jsxs("div",{className:"toolbar-group",children:[p.jsx("label",{className:"toolbar-label",children:"Zoom:"}),p.jsxs("div",{className:"zoom-controls",children:[p.jsx("button",{className:`zoom-btn ${f==="fit"?"active":""}`,onClick:q=>{q.stopPropagation(),m("fit")},children:"FIT"}),p.jsx("button",{className:`zoom-btn ${f==="100"?"active":""}`,onClick:q=>{q.stopPropagation(),m("100")},children:"100%"})]})]})]}),p.jsxs("div",{className:"preview-actions",children:[p.jsx("button",{className:"btn-close",onClick:e,children:"Close ()"}),g?p.jsx(g,{trigger:()=>p.jsx("button",{className:"btn-save",children:" Print / Save as PDF"}),content:()=>o.current,documentTitle:`Resume_${n.name||"User"}`,onAfterPrint:()=>console.log("Print success"),removeAfterPrint:!0}):p.jsx("button",{className:"btn-save",disabled:!0,children:"Loading Print..."})]})]}),p.jsx("div",{className:"preview-stage",ref:r,style:{overflow:f==="100"?"auto":"hidden",display:f==="100"?"block":"grid"},children:p.jsx("div",{className:"paper-transform-wrapper",style:{transform:`scale(${T})`,transformOrigin:f==="100"?"top center":"center",margin:f==="100"?"40px auto":"0"},children:p.jsx("div",{style:{width:"100%",height:"auto",minHeight:"100%",fontSize:b?`${k}px`:void 0},children:p.jsx(IS,{ref:o,data:n})})})})]})}):null},WN=()=>{const{data:s}=bo();console.log("[PreviewPanel] Data from Context:",s);const[e,n]=J.useState(.6),[r,o]=J.useState(!1),u=J.useRef(),f=()=>{o(!0)};return p.jsxs("div",{className:"preview-panel",children:[p.jsxs("div",{className:"preview-toolbar",children:[p.jsx("span",{className:"toolbar-title",children:"Live Preview (A4)"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:"rgba(255,255,255,0.1)",padding:"5px 10px",borderRadius:"15px"},children:[p.jsx("span",{style:{fontSize:"0.8rem"},children:" Zoom:"}),p.jsx("input",{type:"range",min:"0.3",max:"1.5",step:"0.1",value:e,onChange:m=>n(parseFloat(m.target.value)),style:{width:"80px",cursor:"pointer"}}),p.jsxs("span",{style:{fontSize:"0.8rem",width:"30px"},children:[Math.round(e*100),"%"]})]}),p.jsx("button",{onClick:f,className:"print-btn",children:" PDF / Print"})]}),p.jsx("div",{className:"preview-scroll-area",style:{overflow:"auto",width:"100%",height:"calc(100vh - 100px)",display:"flex",justifyContent:"center",background:"#525659",paddingTop:"40px",paddingBottom:"40px"},children:p.jsx("div",{style:{transform:`scale(${e})`,transformOrigin:"top center",transition:"transform 0.2s ease-out"},children:p.jsx(IS,{ref:u,data:s})})}),p.jsx(JN,{isOpen:r,onClose:()=>o(!1),data:s})]})},ZN=({activeTab:s,onToggle:e})=>p.jsxs("div",{className:"mobile-toggle-bar",children:[p.jsx("button",{className:`mobile-tab-btn ${s==="editor"?"active":""}`,onClick:()=>e("editor"),children:" Editor"}),p.jsx("button",{className:`mobile-tab-btn ${s==="preview"?"active":""}`,onClick:()=>e("preview"),children:" Preview"})]}),cm=()=>{const{loading:s,data:e,setData:n}=bo(),[r,o]=J.useState("editor"),[u]=p1();return J.useEffect(()=>{const f=u.get("template");f&&["developer","designer","future","executive","startup"].includes(f)&&e.templateId!==f&&(console.log("[DEV] Switching template via URL:",f),n(m=>({...m,templateId:f})))},[u,e.templateId,n]),s?p.jsx("div",{className:"loading-screen",children:"Loading Profile Engine..."}):p.jsxs("div",{className:"builder-layout",children:[p.jsx("div",{className:`builder-left ${r==="preview"?"mobile-hidden":""}`,children:p.jsx(qN,{})}),p.jsx("div",{className:`builder-right ${r==="editor"?"mobile-hidden":""}`,children:p.jsx(WN,{})}),p.jsx(ZN,{activeTab:r,onToggle:o})]})},eD=()=>p.jsxs("div",{className:"landing-container",children:[p.jsx("div",{className:"orb orb-1"}),p.jsx("div",{className:"orb orb-2"}),p.jsx("div",{className:"grid-overlay"}),p.jsx("div",{className:"landing-bg"}),p.jsxs("section",{className:"hero-section",children:[p.jsx("div",{className:"hero-badge",children:" V2.0 Now Live"}),p.jsxs("h1",{className:"hero-title",children:["Resume Builder ",p.jsx("span",{className:"highlight-text",children:"Pro"})]}),p.jsxs("p",{className:"hero-subtitle",children:["Craft your professional identity with our ",p.jsx("span",{className:"text-gradient",children:"AI-powered"})," editor.",p.jsx("br",{}),"Real-time preview, ATS-friendly, and completely free."]}),p.jsxs("div",{className:"hero-actions",children:[p.jsxs(no,{to:"/builder",className:"cta-button primary",children:[" Start Building",p.jsx("div",{className:"btn-glow"})]}),p.jsx("button",{className:"cta-button secondary",onClick:()=>alert("Coming Soon!"),children:" Load Template"})]})]}),p.jsxs("section",{className:"features-section",children:[p.jsxs("div",{className:"feature-card",children:[p.jsx("div",{className:"feature-icon",children:""}),p.jsx("h3",{children:" "}),p.jsx("p",{children:"    ."})]}),p.jsxs("div",{className:"feature-card",children:[p.jsx("div",{className:"feature-icon",children:""}),p.jsx("h3",{children:"PDF "}),p.jsx("p",{children:"   A4 PDF ."})]}),p.jsxs("div",{className:"feature-card",children:[p.jsx("div",{className:"feature-icon",children:""}),p.jsx("h3",{children:" "}),p.jsx("p",{children:"    ."})]})]}),p.jsxs("section",{className:"premium-section",id:"premium",children:[p.jsx("h2",{className:"section-title",children:"  "}),p.jsx("p",{className:"section-subtitle",children:"    "}),p.jsx("div",{className:"premium-grid",children:p.jsxs("div",{className:"premium-card",children:[p.jsx("div",{className:"premium-badge",children:"POPULAR"}),p.jsx("h3",{children:"Developer Pro"}),p.jsx("p",{className:"premium-price",children:"5,000"}),p.jsxs("ul",{className:"premium-features",children:[p.jsx("li",{children:"   "}),p.jsx("li",{children:"   "}),p.jsx("li",{children:" ATS "}),p.jsx("li",{children:" PDF/PNG "})]}),p.jsx(no,{to:"/builder",className:"premium-btn",children:" "})]})})]}),p.jsxs("section",{className:"contact-section",id:"contact",children:[p.jsx("h2",{className:"section-title",children:" "}),p.jsx("p",{children:"    ."}),p.jsx("p",{className:"contact-email",children:" heejung240000@gmail.com"})]}),p.jsx("footer",{className:"landing-footer",children:p.jsxs("div",{className:"footer-content",children:[p.jsx("p",{children:" 2026 Resume Builder Pro. All rights reserved."}),p.jsxs("div",{className:"footer-links",children:[p.jsx(no,{to:"/privacy",children:" "}),p.jsx("span",{className:"link-divider",children:"|"}),p.jsx(no,{to:"/terms",children:""})]}),p.jsxs("div",{className:"footer-policies",children:[p.jsxs("div",{className:"policy-item",children:[p.jsx("strong",{children:" :"}),"       .      ."]}),p.jsxs("div",{className:"policy-item",children:[p.jsx("strong",{children:" :"}),"      ."]})]})]})})]}),tD=()=>{const s=bh(),{setCustomDocId:e}=bo(),[n,r]=J.useState("   ...");return J.useEffect(()=>{(async()=>{try{if(!window.Kakao)throw new Error("Kakao SDK not loaded");window.Kakao.isInitialized()||window.Kakao.init("b0d2b8461daab0efebf5e296a1ab9661");const u=new URLSearchParams(window.location.search),f=u.get("code"),m=u.get("error");if(m)throw new Error(`  : ${m}`);if(!f)throw new Error("  ");r("   ...");const T=await(await fetch("/api/kakao-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:f,redirectUri:window.location.origin+"/kakao-callback"})})).json();if(T.error)throw new Error(`  : ${T.error_description||T.error}`);r("   ..."),window.Kakao.Auth.setAccessToken(T.access_token);const w=(await window.Kakao.API.request({url:"/v2/user/me"})).id;console.log("Kakao User ID:",w),r("Firebase  ..."),await Xx(Wi),e(`kakao_${w}`),r(" !  ..."),setTimeout(()=>{s("/resume?logged_in=kakao")},500)}catch(u){console.error("Kakao Callback Error:",u),r(`: ${u.message}`),setTimeout(()=>{s("/?error=kakao_failed")},2e3)}})()},[s,e]),p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #0a0a12 0%, #1a1a2e 100%)",color:"#fff",fontFamily:"Outfit, sans-serif"},children:[p.jsxs("div",{style:{background:"rgba(30, 30, 40, 0.6)",padding:"40px 60px",borderRadius:"20px",border:"1px solid rgba(0, 229, 255, 0.2)",textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),p.jsx("h2",{style:{marginBottom:"10px"},children:" "}),p.jsx("p",{style:{color:"#aaa"},children:n}),p.jsx("div",{style:{marginTop:"20px",width:"200px",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",overflow:"hidden"},children:p.jsx("div",{style:{width:"50%",height:"100%",background:"linear-gradient(90deg, #FEE500, #FFD700)",animation:"loading 1s infinite alternate"}})})]}),p.jsx("style",{children:`
                @keyframes loading {
                    0% { width: 20%; margin-left: 0; }
                    100% { width: 80%; margin-left: 20%; }
                }
            `})]})},nD=()=>p.jsx("div",{className:"legal-container",children:p.jsxs("div",{className:"legal-content",children:[p.jsx(no,{to:"/",className:"back-link",children:"  "}),p.jsx("h1",{children:"  (Privacy Policy)"}),p.jsx("p",{className:"last-updated",children:" : 2026 2 4"}),p.jsxs("section",{children:[p.jsx("h2",{children:"1.  "}),p.jsx("p",{children:"Resume Builder Pro      :"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:" :"}),"  ,  (  )"]}),p.jsxs("li",{children:[p.jsx("strong",{children:" :"}),"   Lemon Squeezy  ,      ."]}),p.jsxs("li",{children:[p.jsx("strong",{children:" :"}),"   ,  "]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"2.   "}),p.jsxs("ul",{children:[p.jsx("li",{children:"    "}),p.jsx("li",{children:"     "}),p.jsx("li",{children:"    "})]})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"3.   "}),p.jsx("p",{children:"    ,         ."})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"4.  3 "}),p.jsx("p",{children:"   Lemon Squeezy(Stripe)   .      3  ."})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"5.  "}),p.jsx("p",{children:"        ."})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"6. "}),p.jsxs("p",{children:["  : ",p.jsx("a",{href:"mailto:heejung240000@gmail.com",children:"heejung240000@gmail.com"})]})]})]})}),iD=()=>p.jsx("div",{className:"legal-container",children:p.jsxs("div",{className:"legal-content",children:[p.jsx(no,{to:"/",className:"back-link",children:"  "}),p.jsx("h1",{children:" (Terms of Service)"}),p.jsx("p",{className:"last-updated",children:" : 2026 2 4"}),p.jsxs("section",{children:[p.jsx("h2",{children:"1.  "}),p.jsx("p",{children:"Resume Builder Pro      ."})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"2.  "}),p.jsxs("ul",{children:[p.jsx("li",{children:"  ,    ."}),p.jsx("li",{children:"      ."}),p.jsx("li",{children:" ,  ."})]})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"3.   "}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:":"}),"   Lemon Squeezy   ."]}),p.jsxs("li",{children:[p.jsx("strong",{children:" :"}),"    /   ."]}),p.jsxs("li",{children:[p.jsx("strong",{children:" :"}),"        ,    ."]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"4.  "}),p.jsx("p",{children:"   (, , )  Resume Builder Pro ."})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"5.  "}),p.jsx("p",{children:"    /    .       ."})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"6.  "}),p.jsx("p",{children:"       ."})]}),p.jsxs("section",{children:[p.jsx("h2",{children:"7. "}),p.jsxs("p",{children:["  : ",p.jsx("a",{href:"mailto:heejung240000@gmail.com",children:"heejung240000@gmail.com"})]})]})]})}),sD=({isOpen:s,onClose:e})=>{const{setCustomDocId:n}=bo(),[r,o]=J.useState("login"),[u,f]=J.useState(!1),[m,g]=J.useState(""),[v,T]=J.useState(""),[b,w]=J.useState(""),[k,q]=J.useState(!1),[F,U]=J.useState(!1),[se,K]=J.useState(!1),[Z,ce]=J.useState("");if(J.useEffect(()=>{console.log("[LoginModal] isOpen prop:",s),s&&(o("login"),f(!1),g(""),T(""),w(""),ce(""))},[s]),J.useEffect(()=>{const R="b0d2b8461daab0efebf5e296a1ab9661";if(console.log("Kakao Key used:",R),window.Kakao){if(!window.Kakao.isInitialized())try{window.Kakao.init(R),console.log("Kakao SDK Initialized")}catch(Pe){console.error("Kakao Init Error:",Pe)}}else console.error("Kakao SDK script not loaded on window")},[]),!s)return null;const Ie=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Ae=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[\W_]).{8,}$/,O=Ie.test(m),x=Ae.test(v),C=v===b,V=r==="login"?m&&v:O&&x&&C,D=async()=>{K(!0),ce("");try{await AR(Wi,kN),e()}catch(R){console.error(R),R.code==="auth/popup-closed-by-user"?ce("  .  ."):R.code==="auth/cancelled-popup-request"?ce(" .    ."):ce("  : "+R.message)}finally{K(!1)}},j=async R=>{if(R.preventDefault(),console.log("[LoginModal] Submitting form. Tab:",r),!(!V||se)){K(!0),ce("");try{r==="login"?(await eR(Wi,m,v),e()):(await Zx(Wi,m,v),f(!0),setTimeout(()=>{e()},3e3))}catch(Pe){console.error(Pe);let et=Pe.message;Pe.code==="auth/email-already-in-use"&&(et="  ."),Pe.code==="auth/wrong-password"&&(et=" ."),Pe.code==="auth/user-not-found"&&(et="  ."),ce(et)}finally{K(!1)}}};return u?p.jsx("div",{className:"auth-overlay",children:p.jsxs("div",{className:"auth-modal",children:[p.jsx("button",{className:"auth-close-btn",onClick:e,children:""}),p.jsxs("div",{className:"auth-success-screen",children:[p.jsx("div",{className:"auth-success-icon",children:""}),p.jsx("h2",{className:"auth-success-title",children:"!"}),p.jsxs("p",{className:"auth-success-desc",children:["  .",p.jsx("br",{}),"   ."]}),p.jsx("button",{className:"auth-submit-btn",onClick:e,children:" "})]})]})}):p.jsx("div",{className:"auth-overlay",onClick:e,children:p.jsxs("div",{className:"auth-modal",onClick:R=>R.stopPropagation(),children:[p.jsx("button",{className:"auth-close-btn",onClick:e,children:""}),p.jsx("div",{className:"auth-header",children:p.jsxs("div",{className:"auth-tabs",children:[p.jsx("button",{className:`auth-tab-btn ${r==="login"?"active":""}`,onClick:()=>o("login"),children:""}),p.jsx("button",{className:`auth-tab-btn ${r==="signup"?"active":""}`,onClick:()=>o("signup"),children:""})]})}),p.jsxs("div",{className:"auth-body",children:[p.jsxs("form",{onSubmit:j,children:[p.jsxs("div",{className:"auth-input-group",children:[p.jsx("label",{className:"auth-label",children:""}),p.jsx("input",{className:"auth-input",type:"email",placeholder:"name@example.com",value:m,onChange:R=>g(R.target.value)})]}),p.jsxs("div",{className:"auth-input-group",children:[p.jsx("label",{className:"auth-label",children:""}),p.jsxs("div",{className:"auth-input-wrapper",children:[p.jsx("input",{className:"auth-input",type:k?"text":"password",placeholder:"8 , // ",value:v,onChange:R=>T(R.target.value)}),p.jsx("button",{type:"button",className:"auth-eye-btn",onClick:()=>q(!k),children:k?"":""})]})]}),r==="signup"&&p.jsxs("div",{className:"auth-input-group",children:[p.jsx("label",{className:"auth-label",children:" "}),p.jsxs("div",{className:"auth-input-wrapper",children:[p.jsx("input",{className:"auth-input",type:F?"text":"password",placeholder:"    ",value:b,onChange:R=>w(R.target.value)}),p.jsx("button",{type:"button",className:"auth-eye-btn",onClick:()=>U(!F),children:F?"":""})]}),p.jsxs("div",{className:"auth-validation-list",children:[p.jsxs("div",{className:`auth-val-item ${x?"valid":"invalid"}`,children:[x?"":""," 8 , // ",p.jsx("div",{className:"auth-val-hint",children:"( : ! @ # $ % ^ & * _ - + = )"})]}),p.jsxs("div",{className:`auth-val-item ${C&&b?"valid":b?"invalid":""}`,children:[C&&b?"":"","  "]})]})]}),Z&&p.jsx("div",{className:"auth-helper-text error",style:{marginBottom:"10px"},children:Z}),p.jsx("button",{type:"submit",className:"auth-submit-btn",disabled:!V||se,children:se?" ...":r==="login"?" ":""})]}),p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"   "})}),p.jsxs("div",{className:"auth-social-section",children:[p.jsxs("button",{className:"auth-social-btn google",onClick:D,"data-tooltip":"     . ?",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"auth-social-icon"}),"Google "]}),p.jsx("div",{className:"auth-social-others"})]})]})]})})},rD=()=>{const s=bh(),e=po(),{user:n}=bo(),[r,o]=J.useState(!1),u=()=>{o(!0)},f=()=>{e.pathname!=="/"&&s(-1)},m=()=>{s("/")},g=async()=>{try{await sR(Wi),alert("  ")}catch(v){console.error("Logout Failed:",v)}};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"global-navigator",children:[p.jsx("button",{onClick:m,className:"nav-btn home-btn",title:"",children:""}),p.jsx("button",{onClick:f,className:"nav-btn back-btn",title:"",children:""}),p.jsx("div",{className:"nav-divider",style:{width:"1px",background:"rgba(255,255,255,0.2)",margin:"0 5px"}}),n?p.jsx("button",{onClick:g,className:"nav-btn logout-btn",title:` (${n.displayName||n.email})`,children:n.photoURL?p.jsx("img",{src:n.photoURL,alt:"User",style:{width:"100%",height:"100%",borderRadius:"50%"}}):p.jsx("span",{style:{fontSize:"1.2rem"},children:""})}):p.jsx("button",{onClick:u,className:"nav-btn login-btn",title:" / ",children:""})]}),p.jsx(sD,{isOpen:r,onClose:()=>o(!1)})]})};function aD(){return p.jsxs(LN,{children:[p.jsx(rD,{})," ",p.jsxs(i1,{children:[p.jsx(Xs,{path:"/",element:p.jsx(eD,{})}),p.jsx(Xs,{path:"/builder",element:p.jsx(cm,{})}),p.jsx(Xs,{path:"/kakao-callback",element:p.jsx(tD,{})}),p.jsx(Xs,{path:"/privacy",element:p.jsx(nD,{})}),p.jsx(Xs,{path:"/terms",element:p.jsx(iD,{})}),p.jsx(Xs,{path:"/edit",element:p.jsx(cm,{})}),p.jsx(Xs,{path:"/preview",element:p.jsx(cm,{})})]})]})}dA.createRoot(document.getElementById("root")).render(p.jsx(bt.StrictMode,{children:p.jsx(h1,{children:p.jsx(aD,{})})}));
